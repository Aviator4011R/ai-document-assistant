(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Ld={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function q1(){if(P_)return Al;P_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var U_;function H1(){return U_||(U_=1,Ld.exports=q1()),Ld.exports}var k=H1(),zd={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function G1(){if(L_)return De;L_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,te={};function X(x,J,ie){this.props=x,this.context=J,this.refs=te,this.updater=ie||L}X.prototype.isReactComponent={},X.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},X.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ae(){}ae.prototype=X.prototype;function se(x,J,ie){this.props=x,this.context=J,this.refs=te,this.updater=ie||L}var me=se.prototype=new ae;me.constructor=se,K(me,X.prototype),me.isPureReactComponent=!0;var _e=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function N(x,J,ie,ee,le,Ne){return ie=Ne.ref,{$$typeof:i,type:x,key:J,ref:ie!==void 0?ie:null,props:Ne}}function A(x,J){return N(x.type,J,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function O(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ie){return J[ie]})}var M=/\/+/g;function V(x,J){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):J.toString(36)}function I(){}function ce(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(I,I):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Ee(x,J,ie,ee,le){var Ne=typeof x;(Ne==="undefined"||Ne==="boolean")&&(x=null);var we=!1;if(x===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(x.$$typeof){case i:case e:we=!0;break;case T:return we=x._init,Ee(we(x._payload),J,ie,ee,le)}}if(we)return le=le(x),we=ee===""?"."+V(x,0):ee,_e(le)?(ie="",we!=null&&(ie=we.replace(M,"$&/")+"/"),Ee(le,J,ie,"",function(nn){return nn})):le!=null&&(R(le)&&(le=A(le,ie+(le.key==null||x&&x.key===le.key?"":(""+le.key).replace(M,"$&/")+"/")+we)),J.push(le)),1;we=0;var Ve=ee===""?".":ee+":";if(_e(x))for(var $e=0;$e<x.length;$e++)ee=x[$e],Ne=Ve+V(ee,$e),we+=Ee(ee,J,ie,Ne,le);else if($e=C(x),typeof $e=="function")for(x=$e.call(x),$e=0;!(ee=x.next()).done;)ee=ee.value,Ne=Ve+V(ee,$e++),we+=Ee(ee,J,ie,Ne,le);else if(Ne==="object"){if(typeof x.then=="function")return Ee(ce(x),J,ie,ee,le);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return we}function H(x,J,ie){if(x==null)return x;var ee=[],le=0;return Ee(x,ee,"","",function(Ne){return J.call(ie,Ne,le++)}),ee}function Z(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(ie){(x._status===0||x._status===-1)&&(x._status=1,x._result=ie)},function(ie){(x._status===0||x._status===-1)&&(x._status=2,x._result=ie)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var W=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Le(){}return De.Children={map:H,forEach:function(x,J,ie){H(x,function(){J.apply(this,arguments)},ie)},count:function(x){var J=0;return H(x,function(){J++}),J},toArray:function(x){return H(x,function(J){return J})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},De.Component=X,De.Fragment=n,De.Profiler=o,De.PureComponent=se,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,De.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ue.H.useMemoCache(x)}},De.cache=function(x){return function(){return x.apply(null,arguments)}},De.cloneElement=function(x,J,ie){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ee=K({},x.props),le=x.key,Ne=void 0;if(J!=null)for(we in J.ref!==void 0&&(Ne=void 0),J.key!==void 0&&(le=""+J.key),J)!ve.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(ee[we]=J[we]);var we=arguments.length-2;if(we===1)ee.children=ie;else if(1<we){for(var Ve=Array(we),$e=0;$e<we;$e++)Ve[$e]=arguments[$e+2];ee.children=Ve}return N(x.type,le,void 0,void 0,Ne,ee)},De.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},De.createElement=function(x,J,ie){var ee,le={},Ne=null;if(J!=null)for(ee in J.key!==void 0&&(Ne=""+J.key),J)ve.call(J,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(le[ee]=J[ee]);var we=arguments.length-2;if(we===1)le.children=ie;else if(1<we){for(var Ve=Array(we),$e=0;$e<we;$e++)Ve[$e]=arguments[$e+2];le.children=Ve}if(x&&x.defaultProps)for(ee in we=x.defaultProps,we)le[ee]===void 0&&(le[ee]=we[ee]);return N(x,Ne,void 0,void 0,null,le)},De.createRef=function(){return{current:null}},De.forwardRef=function(x){return{$$typeof:g,render:x}},De.isValidElement=R,De.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:Z}},De.memo=function(x,J){return{$$typeof:y,type:x,compare:J===void 0?null:J}},De.startTransition=function(x){var J=ue.T,ie={};ue.T=ie;try{var ee=x(),le=ue.S;le!==null&&le(ie,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Le,W)}catch(Ne){W(Ne)}finally{ue.T=J}},De.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},De.use=function(x){return ue.H.use(x)},De.useActionState=function(x,J,ie){return ue.H.useActionState(x,J,ie)},De.useCallback=function(x,J){return ue.H.useCallback(x,J)},De.useContext=function(x){return ue.H.useContext(x)},De.useDebugValue=function(){},De.useDeferredValue=function(x,J){return ue.H.useDeferredValue(x,J)},De.useEffect=function(x,J,ie){var ee=ue.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(x,J)},De.useId=function(){return ue.H.useId()},De.useImperativeHandle=function(x,J,ie){return ue.H.useImperativeHandle(x,J,ie)},De.useInsertionEffect=function(x,J){return ue.H.useInsertionEffect(x,J)},De.useLayoutEffect=function(x,J){return ue.H.useLayoutEffect(x,J)},De.useMemo=function(x,J){return ue.H.useMemo(x,J)},De.useOptimistic=function(x,J){return ue.H.useOptimistic(x,J)},De.useReducer=function(x,J,ie){return ue.H.useReducer(x,J,ie)},De.useRef=function(x){return ue.H.useRef(x)},De.useState=function(x){return ue.H.useState(x)},De.useSyncExternalStore=function(x,J,ie){return ue.H.useSyncExternalStore(x,J,ie)},De.useTransition=function(){return ue.H.useTransition()},De.version="19.1.0",De}var z_;function Vm(){return z_||(z_=1,zd.exports=G1()),zd.exports}var ge=Vm(),jd={exports:{}},wl={},Bd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function F1(){return j_||(j_=1,function(i){function e(H,Z){var W=H.length;H.push(Z);e:for(;0<W;){var Le=W-1>>>1,x=H[Le];if(0<o(x,Z))H[Le]=Z,H[W]=x,W=Le;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var Z=H[0],W=H.pop();if(W!==Z){H[0]=W;e:for(var Le=0,x=H.length,J=x>>>1;Le<J;){var ie=2*(Le+1)-1,ee=H[ie],le=ie+1,Ne=H[le];if(0>o(ee,W))le<x&&0>o(Ne,ee)?(H[Le]=Ne,H[le]=W,Le=le):(H[Le]=ee,H[ie]=W,Le=ie);else if(le<x&&0>o(Ne,W))H[Le]=Ne,H[le]=W,Le=le;else break e}}return Z}function o(H,Z){var W=H.sortIndex-Z.sortIndex;return W!==0?W:H.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var p=[],y=[],T=1,w=null,C=3,L=!1,K=!1,te=!1,X=!1,ae=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function _e(H){for(var Z=n(y);Z!==null;){if(Z.callback===null)s(y);else if(Z.startTime<=H)s(y),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(y)}}function ue(H){if(te=!1,_e(H),!K)if(n(p)!==null)K=!0,ve||(ve=!0,V());else{var Z=n(y);Z!==null&&Ee(ue,Z.startTime-H)}}var ve=!1,N=-1,A=5,R=-1;function O(){return X?!0:!(i.unstable_now()-R<A)}function M(){if(X=!1,ve){var H=i.unstable_now();R=H;var Z=!0;try{e:{K=!1,te&&(te=!1,se(N),N=-1),L=!0;var W=C;try{t:{for(_e(H),w=n(p);w!==null&&!(w.expirationTime>H&&O());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,C=w.priorityLevel;var x=Le(w.expirationTime<=H);if(H=i.unstable_now(),typeof x=="function"){w.callback=x,_e(H),Z=!0;break t}w===n(p)&&s(p),_e(H)}else s(p);w=n(p)}if(w!==null)Z=!0;else{var J=n(y);J!==null&&Ee(ue,J.startTime-H),Z=!1}}break e}finally{w=null,C=W,L=!1}Z=void 0}}finally{Z?V():ve=!1}}}var V;if(typeof me=="function")V=function(){me(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ce=I.port2;I.port1.onmessage=M,V=function(){ce.postMessage(null)}}else V=function(){ae(M,0)};function Ee(H,Z){N=ae(function(){H(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(H){switch(C){case 1:case 2:case 3:var Z=3;break;default:Z=C}var W=C;C=Z;try{return H()}finally{C=W}},i.unstable_requestPaint=function(){X=!0},i.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=C;C=H;try{return Z()}finally{C=W}},i.unstable_scheduleCallback=function(H,Z,W){var Le=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Le+W:Le):W=Le,H){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=W+x,H={id:T++,callback:Z,priorityLevel:H,startTime:W,expirationTime:x,sortIndex:-1},W>Le?(H.sortIndex=W,e(y,H),n(p)===null&&H===n(y)&&(te?(se(N),N=-1):te=!0,Ee(ue,W-Le))):(H.sortIndex=x,e(p,H),K||L||(K=!0,ve||(ve=!0,V()))),H},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(H){var Z=C;return function(){var W=C;C=Z;try{return H.apply(this,arguments)}finally{C=W}}}}(qd)),qd}var B_;function K1(){return B_||(B_=1,Bd.exports=F1()),Bd.exports}var Hd={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function Q1(){if(q_)return Zt;q_=1;var i=Vm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Zt.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Zt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:L}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:C,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Zt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,y){return p(y)},Zt.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.1.0",Zt}var H_;function N0(){if(H_)return Hd.exports;H_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hd.exports=Q1(),Hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function Y1(){if(G_)return wl;G_=1;var i=K1(),e=Vm(),n=N0();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),me=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case X:return"Profiler";case te:return"StrictMode";case ue:return"Suspense";case ve:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case me:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case _e:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:ce(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return ce(t(r))}catch{}}return null}var Ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Le=[],x=-1;function J(t){return{current:t}}function ie(t){0>x||(t.current=Le[x],Le[x]=null,x--)}function ee(t,r){x++,Le[x]=t.current,t.current=r}var le=J(null),Ne=J(null),we=J(null),Ve=J(null);function $e(t,r){switch(ee(we,r),ee(Ne,t),ee(le,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?c_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=c_(r),t=h_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(le),ee(le,t)}function nn(){ie(le),ie(Ne),ie(we)}function dn(t){t.memoizedState!==null&&ee(Ve,t);var r=le.current,a=h_(r,t.type);r!==a&&(ee(Ne,t),ee(le,a))}function mn(t){Ne.current===t&&(ie(le),ie(Ne)),Ve.current===t&&(ie(Ve),_l._currentValue=W)}var Sn=Object.prototype.hasOwnProperty,Wi=i.unstable_scheduleCallback,Ji=i.unstable_cancelCallback,go=i.unstable_shouldYield,lu=i.unstable_requestPaint,Rn=i.unstable_now,Uh=i.unstable_getCurrentPriorityLevel,po=i.unstable_ImmediatePriority,Ys=i.unstable_UserBlockingPriority,es=i.unstable_NormalPriority,Lh=i.unstable_LowPriority,Xs=i.unstable_IdlePriority,yo=i.log,uu=i.unstable_setDisableYieldValue,ft=null,Ze=null;function gn(t){if(typeof yo=="function"&&uu(t),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(ft,t)}catch{}}var Xt=Math.clz32?Math.clz32:ts,cu=Math.log,zh=Math.LN2;function ts(t){return t>>>=0,t===0?32:31-(cu(t)/zh|0)|0}var ns=256,rs=4194304;function qn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $s(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=qn(l):(v&=E,v!==0?h=qn(v):a||(a=E&~t,a!==0&&(h=qn(a))))):(E=l&~d,E!==0?h=qn(E):v!==0?h=qn(v):a||(a=l&~t,a!==0&&(h=qn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function is(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function _o(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var t=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),t}function Eo(){var t=rs;return rs<<=1,(rs&62914560)===0&&(rs=4194304),t}function br(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ar(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function To(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Xt(a),Y=1<<F;E[F]=0,S[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}a&=~Y}l!==0&&Zn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Zn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Xt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function bo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Xt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function si(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ai(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function hu(t,r){var a=Z.p;try{return Z.p=t,r()}finally{Z.p=a}}var ot=Math.random().toString(36).slice(2),St="__reactFiber$"+ot,vt="__reactProps$"+ot,In="__reactContainer$"+ot,Ao="__reactEvents$"+ot,jh="__reactListeners$"+ot,oi="__reactHandles$"+ot,fu="__reactResources$"+ot,ss="__reactMarker$"+ot;function li(t){delete t[St],delete t[vt],delete t[Ao],delete t[jh],delete t[oi]}function wr(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[In]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=g_(t);t!==null;){if(a=t[St])return a;t=g_(t)}return r}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[St]||t[In]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Jn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function rn(t){var r=t[fu];return r||(r=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(t){t[ss]=!0}var wo=new Set,Ws={};function Hn(t,r){Sr(t,r),Sr(t+"Capture",r)}function Sr(t,r){for(Ws[t]=r,t=0;t<r.length;t++)wo.add(r[t])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mu={},as={};function gu(t){return Sn.call(as,t)?!0:Sn.call(mu,t)?!1:du.test(t)?as[t]=!0:(mu[t]=!0,!1)}function ui(t,r,a){if(gu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function er(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function jt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var os,pu;function Rr(t){if(os===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);os=r&&r[1]||"",pu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+pu}var Js=!1;function ea(t,r){if(!t||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){B=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var S=v.split(`
`),j=E.split(`
`);for(h=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===S.length||h===j.length)for(l=S.length-1,h=j.length-1;1<=l&&0<=h&&S[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(S[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||S[l]!==j[h]){var F=`
`+S[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rr(a):""}function So(t){switch(t.tag){case 26:case 27:case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return ea(t.type,!1);case 11:return ea(t.type.render,!1);case 1:return ea(t.type,!0);case 31:return Rr("Activity");default:return""}}function ta(t){try{var r="";do r+=So(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ro(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bh(t){var r=Ro(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function na(t){t._valueTracker||(t._valueTracker=Bh(t))}function Io(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ro(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qh=/[\n"\\]/g;function Et(t){return t.replace(qh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(t,r,a,l,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+sn(r)):t.value!==""+sn(r)&&(t.value=""+sn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?ci(t,v,sn(r)):a!=null?ci(t,v,sn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+sn(E):t.removeAttribute("name")}function us(t,r,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,E||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ci(t,r,a){r==="number"&&ls(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function et(t,r,a){if(r!=null&&(r=""+sn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+sn(a):""}function cs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=sn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||hs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Co(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&yu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&yu(t,d,r[d])}function xo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(t){return Gh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cr=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,Nr=null;function No(t){var r=Wn(t);if(r&&(t=r.stateNode)){var a=t[vt]||null;e:switch(t=r.stateNode,r.type){case"input":if(pn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(s(90));pn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Io(l)}break e;case"textarea":et(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ir(t,!!a.multiple,r,!1)}}}var tr=!1;function _u(t,r,a){if(tr)return t(r,a);tr=!0;try{var l=t(r);return l}finally{if(tr=!1,(xr!==null||Nr!==null)&&(hc(),xr&&(r=xr,t=Nr,Nr=xr=null,No(r),t)))for(r=0;r<t.length;r++)No(t[r])}}function fs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Gn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Nn=!1}var nr=null,hi=null,Dr=null;function Do(){if(Dr)return Dr;var t,r=hi,a=r.length,l,h="value"in nr?nr.value:nr.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Dr=h.slice(t,1<l?1-l:void 0)}function rr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function Oo(){return!1}function Mt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ir:Oo,this.isPropagationStopped=Oo,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=Mt(Ye),ms=T({},Ye,{view:0,detail:0}),vu=Mt(ms),sa,aa,sr,gs=T({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&t.type==="mousemove"?(sa=t.screenX-sr.screenX,aa=t.screenY-sr.screenY):aa=sa=0,sr=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),Dn=Mt(gs),Eu=T({},gs,{dataTransfer:0}),Fh=Mt(Eu),ps=T({},ms,{relatedTarget:0}),oa=Mt(ps),Mo=T({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),la=Mt(Mo),Tu=T({},Ye,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ua=Mt(Tu),Kh=T({},Ye,{data:0}),ko=Mt(Kh),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Au[t])?!!r[t]:!1}function _s(){return Vo}var wu=T({},ms,{key:function(t){if(t.key){var r=ys[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ca=Mt(wu),Su=T({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=Mt(Su),Or=T({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Ru=Mt(Or),Iu=T({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Mt(Iu),xu=T({},gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=Mt(xu),an=T({},Ye,{newState:0,oldState:0}),Nu=Mt(an),Du=[9,13,27,32],ar=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var m=Gn&&"TextEvent"in window&&!c,_=Gn&&(!ar||c&&8<c&&11>=c),b=" ",U=!1;function G(t,r){switch(t){case"keyup":return Du.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function Rt(t,r){switch(t){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(U=!0,b);case"textInput":return t=r.data,t===b&&U?null:t;default:return null}}function He(t,r){if(qe)return t==="compositionend"||!ar&&G(t,r)?(t=Do(),Dr=hi=nr=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!kt[t.type]:r==="textarea"}function Mr(t,r,a,l){xr?Nr?Nr.push(l):Nr=[l]:xr=l,r=yc(r,"onChange"),0<r.length&&(a=new ia("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Bt=null,or=null;function Uo(t){s_(t,0)}function Ou(t){var r=Jn(t);if(Io(r))return t}function Rg(t,r){if(t==="change")return r}var Ig=!1;if(Gn){var Qh;if(Gn){var Yh="oninput"in document;if(!Yh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Yh=typeof Cg.oninput=="function"}Qh=Yh}else Qh=!1;Ig=Qh&&(!document.documentMode||9<document.documentMode)}function xg(){Bt&&(Bt.detachEvent("onpropertychange",Ng),or=Bt=null)}function Ng(t){if(t.propertyName==="value"&&Ou(or)){var r=[];Mr(r,or,t,xn(t)),_u(Uo,r)}}function _b(t,r,a){t==="focusin"?(xg(),Bt=r,or=a,Bt.attachEvent("onpropertychange",Ng)):t==="focusout"&&xg()}function vb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(or)}function Eb(t,r){if(t==="click")return Ou(r)}function Tb(t,r){if(t==="input"||t==="change")return Ou(r)}function bb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var yn=typeof Object.is=="function"?Object.is:bb;function Lo(t,r){if(yn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Sn.call(r,h)||!yn(t[h],r[h]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,r){var a=Dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function Mg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Mg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ls(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ls(t.document)}return r}function Xh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Ab=Gn&&"documentMode"in document&&11>=document.documentMode,fa=null,$h=null,zo=null,Zh=!1;function Vg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||fa==null||fa!==ls(l)||(l=fa,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&Lo(zo,l)||(zo=l,l=yc($h,"onSelect"),0<l.length&&(r=new ia("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=fa)))}function vs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var da={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Wh={},Pg={};Gn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Es(t){if(Wh[t])return Wh[t];if(!da[t])return t;var r=da[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Pg)return Wh[t]=r[a];return t}var Ug=Es("animationend"),Lg=Es("animationiteration"),zg=Es("animationstart"),wb=Es("transitionrun"),Sb=Es("transitionstart"),Rb=Es("transitioncancel"),jg=Es("transitionend"),Bg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Fn(t,r){Bg.set(t,r),Hn(r,[t])}var qg=new WeakMap;function On(t,r){if(typeof t=="object"&&t!==null){var a=qg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ta(r)},qg.set(t,r),r)}return{value:t,source:r,stack:ta(r)}}var Mn=[],ma=0,ef=0;function Mu(){for(var t=ma,r=ef=ma=0;r<t;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var h=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Hg(a,h,d)}}function ku(t,r,a,l){Mn[ma++]=t,Mn[ma++]=r,Mn[ma++]=a,Mn[ma++]=l,ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function tf(t,r,a,l){return ku(t,r,a,l),Vu(t)}function ga(t,r){return ku(t,null,null,r),Vu(t)}function Hg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Xt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Vu(t){if(50<cl)throw cl=0,ld=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var pa={};function Ib(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,r,a,l){return new Ib(t,r,a,l)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kr(t,r){var a=t.alternate;return a===null?(a=_n(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Pu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")nf(t)&&(v=1);else if(typeof t=="string")v=x1(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=_n(31,a,r,h),t.elementType=R,t.lanes=d,t;case K:return Ts(a.children,h,d,r);case te:v=8,h|=24;break;case X:return t=_n(12,a,r,h|2),t.elementType=X,t.lanes=d,t;case ue:return t=_n(13,a,r,h),t.elementType=ue,t.lanes=d,t;case ve:return t=_n(19,a,r,h),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:case me:v=10;break e;case se:v=9;break e;case _e:v=11;break e;case N:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=_n(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ts(t,r,a,l){return t=_n(7,t,l,r),t.lanes=a,t}function rf(t,r,a){return t=_n(6,t,null,r),t.lanes=a,t}function sf(t,r,a){return r=_n(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ya=[],_a=0,Uu=null,Lu=0,kn=[],Vn=0,bs=null,Vr=1,Pr="";function As(t,r){ya[_a++]=Lu,ya[_a++]=Uu,Uu=t,Lu=r}function Fg(t,r,a){kn[Vn++]=Vr,kn[Vn++]=Pr,kn[Vn++]=bs,bs=t;var l=Vr;t=Pr;var h=32-Xt(l)-1;l&=~(1<<h),a+=1;var d=32-Xt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vr=1<<32-Xt(r)+h|a<<h|l,Pr=d+t}else Vr=1<<d|a<<h|l,Pr=t}function af(t){t.return!==null&&(As(t,1),Fg(t,1,0))}function of(t){for(;t===Uu;)Uu=ya[--_a],ya[_a]=null,Lu=ya[--_a],ya[_a]=null;for(;t===bs;)bs=kn[--Vn],kn[Vn]=null,Pr=kn[--Vn],kn[Vn]=null,Vr=kn[--Vn],kn[Vn]=null}var on=null,dt=null,Qe=!1,ws=null,lr=!1,lf=Error(s(519));function Ss(t){var r=Error(s(418,""));throw qo(On(r,t)),lf}function Kg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[vt]=l,a){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<fl.length;a++)Ue(fl[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),us(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),na(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),cs(r,l.value,l.defaultValue,l.children),na(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||u_(r.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),l.onScroll!=null&&Ue("scroll",r),l.onScrollEnd!=null&&Ue("scrollend",r),l.onClick!=null&&(r.onclick=_c),r=!0):r=!1,r||Ss(t)}function Qg(t){for(on=t.return;on;)switch(on.tag){case 5:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:on=on.return}}function jo(t){if(t!==on)return!1;if(!Qe)return Qg(t),Qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wd(t.type,t.memoizedProps)),a=!a),a&&dt&&Ss(t),Qg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){dt=Qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}dt=null}}else r===27?(r=dt,Ii(t.type)?(t=Cd,Cd=null,dt=t):dt=r):dt=on?Qn(t.stateNode.nextSibling):null;return!0}function Bo(){dt=on=null,Qe=!1}function Yg(){var t=ws;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),ws=null),t}function qo(t){ws===null?ws=[t]:ws.push(t)}var uf=J(null),Rs=null,Ur=null;function fi(t,r,a){ee(uf,r._currentValue),r._currentValue=a}function Lr(t){t._currentValue=uf.current,ie(uf)}function cf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function hf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var S=0;S<r.length;S++)if(E.context===r[S]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),cf(d.return,a,t),l||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),cf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ho(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;yn(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ve.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&hf(r,t,a,l),r.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Rs=t,Ur=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Xg(Rs,t)}function ju(t,r){return Rs===null&&Is(t),Xg(t,r)}function Xg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ur===null){if(t===null)throw Error(s(308));Ur=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ur=Ur.next=r;return a}var Cb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},xb=i.unstable_scheduleCallback,Nb=i.unstable_NormalPriority,Ct={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new Cb,data:new Map,refCount:0}}function Go(t){t.refCount--,t.refCount===0&&xb(Nb,function(){t.controller.abort()})}var Fo=null,df=0,va=0,Ea=null;function Db(t,r){if(Fo===null){var a=Fo=[];df=0,va=gd(),Ea={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,r.then($g,$g),r}function $g(){if(--df===0&&Fo!==null){Ea!==null&&(Ea.status="fulfilled");var t=Fo;Fo=null,va=0,Ea=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Ob(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Zg=H.S;H.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Db(t,r),Zg!==null&&Zg(t,r)};var Cs=J(null);function mf(){var t=Cs.current;return t!==null?t:st.pooledCache}function Bu(t,r){r===null?ee(Cs,Cs.current):ee(Cs,r.pool)}function Wg(){var t=mf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Ko=Error(s(460)),Jg=Error(s(474)),qu=Error(s(542)),gf={then:function(){}};function ep(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hu(){}function tp(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Hu,Hu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,rp(t),t;default:if(typeof r.status=="string")r.then(Hu,Hu);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,rp(t),t}throw Qo=r,Ko}}var Qo=null;function np(){if(Qo===null)throw Error(s(459));var t=Qo;return Qo=null,t}function rp(t){if(t===Ko||t===qu)throw Error(s(483))}var di=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Vu(t),Hg(t,null,a),r}return ku(t,l,r,a),Vu(t)}function Yo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,bo(t,a)}}function _f(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var vf=!1;function Xo(){if(vf){var t=Ea;if(t!==null)throw t}}function $o(t,r,a,l){vf=!1;var h=t.updateQueue;di=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var S=E,j=S.next;S.next=null,v===null?d=j:v.next=j,v=S;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=S))}if(d!==null){var Y=h.baseState;v=0,F=j=S=null,E=d;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ge&B)===B:(l&B)===B){B!==0&&B===va&&(vf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ie=t,be=E;B=r;var rt=a;switch(be.tag){case 1:if(Ie=be.payload,typeof Ie=="function"){Y=Ie.call(rt,Y,B);break e}Y=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=be.payload,B=typeof Ie=="function"?Ie.call(rt,Y,B):Ie,B==null)break e;Y=T({},Y,B);break e;case 2:di=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,S=Y):F=F.next=q,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(S=Y),h.baseState=S,h.firstBaseUpdate=j,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Ai|=v,t.lanes=v,t.memoizedState=Y}}function ip(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function sp(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ip(a[t],r)}var Ta=J(null),Gu=J(0);function ap(t,r){t=Fr,ee(Gu,t),ee(Ta,r),Fr=t|r.baseLanes}function Ef(){ee(Gu,Fr),ee(Ta,Ta.current)}function Tf(){Fr=Gu.current,ie(Ta),ie(Gu)}var pi=0,Oe=null,tt=null,Tt=null,Fu=!1,ba=!1,xs=!1,Ku=0,Zo=0,Aa=null,Mb=0;function pt(){throw Error(s(321))}function bf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!yn(t[a],r[a]))return!1;return!0}function Af(t,r,a,l,h,d){return pi=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=t===null||t.memoizedState===null?Hp:Gp,xs=!1,d=a(l,h),xs=!1,ba&&(d=lp(r,a,l,h)),op(t),d}function op(t){H.H=Wu;var r=tt!==null&&tt.next!==null;if(pi=0,Tt=tt=Oe=null,Fu=!1,Zo=0,Aa=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&zu(t)&&(Vt=!0))}function lp(t,r,a,l){Oe=t;var h=0;do{if(ba&&(Aa=null),Zo=0,ba=!1,25<=h)throw Error(s(301));if(h+=1,Tt=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=jb,d=r(a,l)}while(ba);return d}function kb(){var t=H.H,r=t.useState()[0];return r=typeof r.then=="function"?Wo(r):r,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Oe.flags|=1024),r}function wf(){var t=Ku!==0;return Ku=0,t}function Sf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Rf(t){if(Fu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Fu=!1}pi=0,Tt=tt=Oe=null,ba=!1,Zo=Ku=0,Aa=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Oe.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function bt(){if(tt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=Tt===null?Oe.memoizedState:Tt.next;if(r!==null)Tt=r,tt=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Tt===null?Oe.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var r=Zo;return Zo+=1,Aa===null&&(Aa=[]),t=tp(Aa,t,r),r=Oe,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Hp:Gp),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===me)return $t(t)}throw Error(s(438,String(t)))}function Cf(t){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=If(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function zr(t,r){return typeof r=="function"?r(t):r}function Yu(t){var r=bt();return xf(r,tt,t)}function xf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var E=v=null,S=null,j=r,F=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ge&Y)===Y:(pi&Y)===Y){var B=j.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===va&&(F=!0);else if((pi&B)===B){j=j.next,B===va&&(F=!0);continue}else Y={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(E=S=Y,v=d):S=S.next=Y,Oe.lanes|=B,Ai|=B;Y=j.action,xs&&a(d,Y),d=j.hasEagerState?j.eagerState:a(d,Y)}else B={lane:Y,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(E=S=B,v=d):S=S.next=B,Oe.lanes|=Y,Ai|=Y;j=j.next}while(j!==null&&j!==r);if(S===null?v=d:S.next=E,!yn(d,t.memoizedState)&&(Vt=!0,F&&(a=Ea,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=S,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);yn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function up(t,r,a){var l=Oe,h=bt(),d=Qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!yn((tt||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var E=fp.bind(null,l,h,t);if(Jo(2048,8,E,[t]),h.getSnapshot!==r||v||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,wa(9,Xu(),hp.bind(null,l,h,a,r),null),st===null)throw Error(s(349));d||(pi&124)!==0||cp(l,r,a)}return a}function cp(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=If(),Oe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function hp(t,r,a,l){r.value=a,r.getSnapshot=l,dp(r)&&mp(t)}function fp(t,r,a){return a(function(){dp(r)&&mp(t)})}function dp(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!yn(t,a)}catch{return!0}}function mp(t){var r=ga(t,2);r!==null&&An(r,t,2)}function Df(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),xs){gn(!0);try{a()}finally{gn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:t},r}function gp(t,r,a,l){return t.baseState=a,xf(t,tt,typeof l=="function"?l:zr)}function Vb(t,r,a,l,h){if(Zu(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,pp(r,d)):(d.next=a.next,r.pending=a.next=d)}}function pp(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=H.T,v={};H.T=v;try{var E=a(h,l),S=H.S;S!==null&&S(v,E),yp(t,r,E)}catch(j){Of(t,r,j)}finally{H.T=d}}else try{d=a(h,l),yp(t,r,d)}catch(j){Of(t,r,j)}}function yp(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_p(t,r,l)},function(l){return Of(t,r,l)}):_p(t,r,a)}function _p(t,r,a){r.status="fulfilled",r.value=a,vp(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,pp(t,a)))}function Of(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,vp(r),r=r.next;while(r!==l)}t.action=null}function vp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ep(t,r){return r}function Tp(t,r){if(Qe){var a=st.formState;if(a!==null){e:{var l=Oe;if(Qe){if(dt){t:{for(var h=dt,d=lr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=Qn(h.nextSibling),l=h.data==="F!";break e}}Ss(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:r},a.queue=l,a=jp.bind(null,Oe,l),l.dispatch=a,l=Df(!1),d=Uf.bind(null,Oe,!1,l.queue),l=ln(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Vb.bind(null,Oe,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function bp(t){var r=bt();return Ap(r,tt,t)}function Ap(t,r,a){if(r=xf(t,r,Ep)[0],t=Yu(zr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Wo(r)}catch(v){throw v===Ko?qu:v}else l=r;r=bt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,wa(9,Xu(),Pb.bind(null,h,a),null)),[l,d,t]}function Pb(t,r){t.action=r}function wp(t){var r=bt(),a=tt;if(a!==null)return Ap(r,a,t);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function wa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=If(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Xu(){return{destroy:void 0,resource:void 0}}function Sp(){return bt().memoizedState}function $u(t,r,a,l){var h=ln();l=l===void 0?null:l,Oe.flags|=t,h.memoizedState=wa(1|r,Xu(),a,l)}function Jo(t,r,a,l){var h=bt();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&bf(l,tt.memoizedState.deps)?h.memoizedState=wa(r,d,a,l):(Oe.flags|=t,h.memoizedState=wa(1|r,d,a,l))}function Rp(t,r){$u(8390656,8,t,r)}function Ip(t,r){Jo(2048,8,t,r)}function Cp(t,r){return Jo(4,2,t,r)}function xp(t,r){return Jo(4,4,t,r)}function Np(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Dp(t,r,a){a=a!=null?a.concat([t]):null,Jo(4,4,Np.bind(null,r,t),a)}function Mf(){}function Op(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&bf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Mp(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&bf(r,l[1]))return l[0];if(l=t(),xs){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,r],l}function kf(t,r,a){return a===void 0||(pi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Py(),Oe.lanes|=t,Ai|=t,a)}function kp(t,r,a,l){return yn(a,r)?a:Ta.current!==null?(t=kf(t,a,l),yn(t,r)||(Vt=!0),t):(pi&42)===0?(Vt=!0,t.memoizedState=a):(t=Py(),Oe.lanes|=t,Ai|=t,r)}function Vp(t,r,a,l,h){var d=Z.p;Z.p=d!==0&&8>d?d:8;var v=H.T,E={};H.T=E,Uf(t,!1,r,a);try{var S=h(),j=H.S;if(j!==null&&j(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var F=Ob(S,l);el(t,r,F,bn(t))}else el(t,r,l,bn(t))}catch(Y){el(t,r,{then:function(){},status:"rejected",reason:Y},bn())}finally{Z.p=d,H.T=v}}function Ub(){}function Vf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Pp(t).queue;Vp(t,h,r,W,a===null?Ub:function(){return Up(t),a(l)})}function Pp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:W},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Up(t){var r=Pp(t).next.queue;el(t,r,{},bn())}function Pf(){return $t(_l)}function Lp(){return bt().memoizedState}function zp(){return bt().memoizedState}function Lb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();t=mi(a);var l=gi(r,t,a);l!==null&&(An(l,r,a),Yo(l,r,a)),r={cache:ff()},t.payload=r;return}r=r.return}}function zb(t,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Bp(r,a):(a=tf(t,r,a,l),a!==null&&(An(a,t,l),qp(a,r,l)))}function jp(t,r,a){var l=bn();el(t,r,a,l)}function el(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Bp(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,v))return ku(t,r,h,0),st===null&&Mu(),!1}catch{}finally{}if(a=tf(t,r,h,l),a!==null)return An(a,t,l),qp(a,r,l),!0}return!1}function Uf(t,r,a,l){if(l={lane:2,revertLane:gd(),action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(r)throw Error(s(479))}else r=tf(t,a,l,2),r!==null&&An(r,t,2)}function Zu(t){var r=t.alternate;return t===Oe||r!==null&&r===Oe}function Bp(t,r){ba=Fu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function qp(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,bo(t,a)}}var Wu={readContext:$t,use:Qu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Hp={readContext:$t,use:Qu,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:Rp,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,$u(4194308,4,Np.bind(null,r,t),a)},useLayoutEffect:function(t,r){return $u(4194308,4,t,r)},useInsertionEffect:function(t,r){$u(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var l=t();if(xs){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ln();if(a!==void 0){var h=a(r);if(xs){gn(!0);try{a(r)}finally{gn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zb.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=Df(t);var r=t.queue,a=jp.bind(null,Oe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(t,r){var a=ln();return kf(a,t,r)},useTransition:function(){var t=Df(!1);return t=Vp.bind(null,Oe,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Oe,h=ln();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),st===null)throw Error(s(349));(Ge&124)!==0||cp(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Rp(fp.bind(null,l,d,t),[t]),l.flags|=2048,wa(9,Xu(),hp.bind(null,l,d,a,r),null),a},useId:function(){var t=ln(),r=st.identifierPrefix;if(Qe){var a=Pr,l=Vr;a=(l&~(1<<32-Xt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Ku++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Mb++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Pf,useFormState:Tp,useActionState:Tp,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Uf.bind(null,Oe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Cf,useCacheRefresh:function(){return ln().memoizedState=Lb.bind(null,Oe)}},Gp={readContext:$t,use:Qu,useCallback:Op,useContext:$t,useEffect:Ip,useImperativeHandle:Dp,useInsertionEffect:Cp,useLayoutEffect:xp,useMemo:Mp,useReducer:Yu,useRef:Sp,useState:function(){return Yu(zr)},useDebugValue:Mf,useDeferredValue:function(t,r){var a=bt();return kp(a,tt.memoizedState,t,r)},useTransition:function(){var t=Yu(zr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:Wo(t),r]},useSyncExternalStore:up,useId:Lp,useHostTransitionStatus:Pf,useFormState:bp,useActionState:bp,useOptimistic:function(t,r){var a=bt();return gp(a,tt,t,r)},useMemoCache:Cf,useCacheRefresh:zp},jb={readContext:$t,use:Qu,useCallback:Op,useContext:$t,useEffect:Ip,useImperativeHandle:Dp,useInsertionEffect:Cp,useLayoutEffect:xp,useMemo:Mp,useReducer:Nf,useRef:Sp,useState:function(){return Nf(zr)},useDebugValue:Mf,useDeferredValue:function(t,r){var a=bt();return tt===null?kf(a,t,r):kp(a,tt.memoizedState,t,r)},useTransition:function(){var t=Nf(zr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:Wo(t),r]},useSyncExternalStore:up,useId:Lp,useHostTransitionStatus:Pf,useFormState:wp,useActionState:wp,useOptimistic:function(t,r){var a=bt();return tt!==null?gp(a,tt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:zp},Sa=null,tl=0;function Ju(t){var r=tl;return tl+=1,Sa===null&&(Sa=[]),tp(Sa,t,r)}function nl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ec(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Fp(t){var r=t._init;return r(t._payload)}function Kp(t){function r(P,D){if(t){var z=P.deletions;z===null?(P.deletions=[D],P.flags|=16):z.push(D)}}function a(P,D){if(!t)return null;for(;D!==null;)r(P,D),D=D.sibling;return null}function l(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function h(P,D){return P=kr(P,D),P.index=0,P.sibling=null,P}function d(P,D,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<D?(P.flags|=67108866,D):z):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function E(P,D,z,Q){return D===null||D.tag!==6?(D=rf(z,P.mode,Q),D.return=P,D):(D=h(D,z),D.return=P,D)}function S(P,D,z,Q){var he=z.type;return he===K?F(P,D,z.props.children,Q,z.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&Fp(he)===D.type)?(D=h(D,z.props),nl(D,z),D.return=P,D):(D=Pu(z.type,z.key,z.props,null,P.mode,Q),nl(D,z),D.return=P,D)}function j(P,D,z,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=sf(z,P.mode,Q),D.return=P,D):(D=h(D,z.children||[]),D.return=P,D)}function F(P,D,z,Q,he){return D===null||D.tag!==7?(D=Ts(z,P.mode,Q,he),D.return=P,D):(D=h(D,z),D.return=P,D)}function Y(P,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=rf(""+D,P.mode,z),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return z=Pu(D.type,D.key,D.props,null,P.mode,z),nl(z,D),z.return=P,z;case L:return D=sf(D,P.mode,z),D.return=P,D;case A:var Q=D._init;return D=Q(D._payload),Y(P,D,z)}if(Ee(D)||V(D))return D=Ts(D,P.mode,z,null),D.return=P,D;if(typeof D.then=="function")return Y(P,Ju(D),z);if(D.$$typeof===me)return Y(P,ju(P,D),z);ec(P,D)}return null}function B(P,D,z,Q){var he=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return he!==null?null:E(P,D,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return z.key===he?S(P,D,z,Q):null;case L:return z.key===he?j(P,D,z,Q):null;case A:return he=z._init,z=he(z._payload),B(P,D,z,Q)}if(Ee(z)||V(z))return he!==null?null:F(P,D,z,Q,null);if(typeof z.then=="function")return B(P,D,Ju(z),Q);if(z.$$typeof===me)return B(P,D,ju(P,z),Q);ec(P,z)}return null}function q(P,D,z,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(z)||null,E(D,P,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return P=P.get(Q.key===null?z:Q.key)||null,S(D,P,Q,he);case L:return P=P.get(Q.key===null?z:Q.key)||null,j(D,P,Q,he);case A:var ke=Q._init;return Q=ke(Q._payload),q(P,D,z,Q,he)}if(Ee(Q)||V(Q))return P=P.get(z)||null,F(D,P,Q,he,null);if(typeof Q.then=="function")return q(P,D,z,Ju(Q),he);if(Q.$$typeof===me)return q(P,D,z,ju(D,Q),he);ec(D,Q)}return null}function Ie(P,D,z,Q){for(var he=null,ke=null,pe=D,Ae=D=0,Ut=null;pe!==null&&Ae<z.length;Ae++){pe.index>Ae?(Ut=pe,pe=null):Ut=pe.sibling;var Ke=B(P,pe,z[Ae],Q);if(Ke===null){pe===null&&(pe=Ut);break}t&&pe&&Ke.alternate===null&&r(P,pe),D=d(Ke,D,Ae),ke===null?he=Ke:ke.sibling=Ke,ke=Ke,pe=Ut}if(Ae===z.length)return a(P,pe),Qe&&As(P,Ae),he;if(pe===null){for(;Ae<z.length;Ae++)pe=Y(P,z[Ae],Q),pe!==null&&(D=d(pe,D,Ae),ke===null?he=pe:ke.sibling=pe,ke=pe);return Qe&&As(P,Ae),he}for(pe=l(pe);Ae<z.length;Ae++)Ut=q(pe,P,Ae,z[Ae],Q),Ut!==null&&(t&&Ut.alternate!==null&&pe.delete(Ut.key===null?Ae:Ut.key),D=d(Ut,D,Ae),ke===null?he=Ut:ke.sibling=Ut,ke=Ut);return t&&pe.forEach(function(Oi){return r(P,Oi)}),Qe&&As(P,Ae),he}function be(P,D,z,Q){if(z==null)throw Error(s(151));for(var he=null,ke=null,pe=D,Ae=D=0,Ut=null,Ke=z.next();pe!==null&&!Ke.done;Ae++,Ke=z.next()){pe.index>Ae?(Ut=pe,pe=null):Ut=pe.sibling;var Oi=B(P,pe,Ke.value,Q);if(Oi===null){pe===null&&(pe=Ut);break}t&&pe&&Oi.alternate===null&&r(P,pe),D=d(Oi,D,Ae),ke===null?he=Oi:ke.sibling=Oi,ke=Oi,pe=Ut}if(Ke.done)return a(P,pe),Qe&&As(P,Ae),he;if(pe===null){for(;!Ke.done;Ae++,Ke=z.next())Ke=Y(P,Ke.value,Q),Ke!==null&&(D=d(Ke,D,Ae),ke===null?he=Ke:ke.sibling=Ke,ke=Ke);return Qe&&As(P,Ae),he}for(pe=l(pe);!Ke.done;Ae++,Ke=z.next())Ke=q(pe,P,Ae,Ke.value,Q),Ke!==null&&(t&&Ke.alternate!==null&&pe.delete(Ke.key===null?Ae:Ke.key),D=d(Ke,D,Ae),ke===null?he=Ke:ke.sibling=Ke,ke=Ke);return t&&pe.forEach(function(B1){return r(P,B1)}),Qe&&As(P,Ae),he}function rt(P,D,z,Q){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case C:e:{for(var he=z.key;D!==null;){if(D.key===he){if(he=z.type,he===K){if(D.tag===7){a(P,D.sibling),Q=h(D,z.props.children),Q.return=P,P=Q;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&Fp(he)===D.type){a(P,D.sibling),Q=h(D,z.props),nl(Q,z),Q.return=P,P=Q;break e}a(P,D);break}else r(P,D);D=D.sibling}z.type===K?(Q=Ts(z.props.children,P.mode,Q,z.key),Q.return=P,P=Q):(Q=Pu(z.type,z.key,z.props,null,P.mode,Q),nl(Q,z),Q.return=P,P=Q)}return v(P);case L:e:{for(he=z.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(P,D.sibling),Q=h(D,z.children||[]),Q.return=P,P=Q;break e}else{a(P,D);break}else r(P,D);D=D.sibling}Q=sf(z,P.mode,Q),Q.return=P,P=Q}return v(P);case A:return he=z._init,z=he(z._payload),rt(P,D,z,Q)}if(Ee(z))return Ie(P,D,z,Q);if(V(z)){if(he=V(z),typeof he!="function")throw Error(s(150));return z=he.call(z),be(P,D,z,Q)}if(typeof z.then=="function")return rt(P,D,Ju(z),Q);if(z.$$typeof===me)return rt(P,D,ju(P,z),Q);ec(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(P,D.sibling),Q=h(D,z),Q.return=P,P=Q):(a(P,D),Q=rf(z,P.mode,Q),Q.return=P,P=Q),v(P)):a(P,D)}return function(P,D,z,Q){try{tl=0;var he=rt(P,D,z,Q);return Sa=null,he}catch(pe){if(pe===Ko||pe===qu)throw pe;var ke=_n(29,pe,null,P.mode);return ke.lanes=Q,ke.return=P,ke}finally{}}}var Ra=Kp(!0),Qp=Kp(!1),Pn=J(null),ur=null;function yi(t){var r=t.alternate;ee(xt,xt.current&1),ee(Pn,t),ur===null&&(r===null||Ta.current!==null||r.memoizedState!==null)&&(ur=t)}function Yp(t){if(t.tag===22){if(ee(xt,xt.current),ee(Pn,t),ur===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ur=t)}}else _i()}function _i(){ee(xt,xt.current),ee(Pn,Pn.current)}function jr(t){ie(Pn),ur===t&&(ur=null),ie(xt)}var xt=J(0);function tc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Id(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Lf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=bn(),h=mi(l);h.payload=r,a!=null&&(h.callback=a),r=gi(t,h,l),r!==null&&(An(r,t,l),Yo(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=bn(),h=mi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=gi(t,h,l),r!==null&&(An(r,t,l),Yo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=bn(),l=mi(a);l.tag=2,r!=null&&(l.callback=r),r=gi(t,l,a),r!==null&&(An(r,t,a),Yo(r,t,a))}};function Xp(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Lo(a,l)||!Lo(h,d):!0}function $p(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&zf.enqueueReplaceState(r,r.state,null)}function Ns(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zp(t){nc(t)}function Wp(t){console.error(t)}function Jp(t){nc(t)}function rc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ey(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,r,a){return a=mi(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(t,r)},a}function ty(t){return t=mi(t),t.tag=3,t}function ny(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ey(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ey(r,a,l),typeof h!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Bb(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ho(r,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return ur===null?cd():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===gf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),fd(t,l,h)),!1;case 22:return a.flags|=65536,l===gf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),fd(t,l,h)),!1}throw Error(s(435,a.tag))}return fd(t,l,h),cd(),!1}if(Qe)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==lf&&(t=Error(s(422),{cause:l}),qo(On(t,a)))):(l!==lf&&(r=Error(s(423),{cause:l}),qo(On(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=jf(t.stateNode,l,h),_f(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),ul===null?ul=[d]:ul.push(d),mt!==4&&(mt=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=jf(a.stateNode,l,t),_f(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wi===null||!wi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ty(h),ny(h,t,a,l),_f(a,h),!1}a=a.return}while(a!==null);return!1}var ry=Error(s(461)),Vt=!1;function qt(t,r,a,l){r.child=t===null?Qp(r,null,a,l):Ra(r,t.child,a,l)}function iy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Is(r),l=Af(t,r,a,v,d,h),E=wf(),t!==null&&!Vt?(Sf(t,r,h),Br(t,r,h)):(Qe&&E&&af(r),r.flags|=1,qt(t,r,l,h),r.child)}function sy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!nf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,ay(t,r,d,l,h)):(t=Pu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Yf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(v,l)&&t.ref===r.ref)return Br(t,r,h)}return r.flags|=1,t=kr(d,l),t.ref=r.ref,t.return=r,r.child=t}function ay(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Lo(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,Yf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Br(t,r,h)}return Bf(t,r,a,l,h)}function oy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return ly(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(r,d!==null?d.cachePool:null),d!==null?ap(r,d):Ef(),Yp(r);else return r.lanes=r.childLanes=536870912,ly(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Bu(r,d.cachePool),ap(r,d),_i(),r.memoizedState=null):(t!==null&&Bu(r,null),Ef(),_i());return qt(t,r,h,a),r.child}function ly(t,r,a,l){var h=mf();return h=h===null?null:{parent:Ct._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Bu(r,null),Ef(),Yp(r),t!==null&&Ho(t,r,l,!0),null}function ic(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Bf(t,r,a,l,h){return Is(r),a=Af(t,r,a,l,void 0,h),l=wf(),t!==null&&!Vt?(Sf(t,r,h),Br(t,r,h)):(Qe&&l&&af(r),r.flags|=1,qt(t,r,a,h),r.child)}function uy(t,r,a,l,h,d){return Is(r),r.updateQueue=null,a=lp(r,l,a,h),op(t),l=wf(),t!==null&&!Vt?(Sf(t,r,d),Br(t,r,d)):(Qe&&l&&af(r),r.flags|=1,qt(t,r,a,d),r.child)}function cy(t,r,a,l,h){if(Is(r),r.stateNode===null){var d=pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},pf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):pa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Lf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&zf.enqueueReplaceState(d,d.state,null),$o(r,l,d,h),Xo(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var E=r.memoizedProps,S=Ns(a,E);d.props=S;var j=d.context,F=a.contextType;v=pa,typeof F=="object"&&F!==null&&(v=$t(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==v)&&$p(r,d,l,v),di=!1;var B=r.memoizedState;d.state=B,$o(r,l,d,h),Xo(),j=r.memoizedState,E||B!==j||di?(typeof Y=="function"&&(Lf(r,a,Y,l),j=r.memoizedState),(S=di||Xp(r,a,S,l,B,j,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=v,l=S):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,yf(t,r),v=r.memoizedProps,F=Ns(a,v),d.props=F,Y=r.pendingProps,B=d.context,j=a.contextType,S=pa,typeof j=="object"&&j!==null&&(S=$t(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Y||B!==S)&&$p(r,d,l,S),di=!1,B=r.memoizedState,d.state=B,$o(r,l,d,h),Xo();var q=r.memoizedState;v!==Y||B!==q||di||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof E=="function"&&(Lf(r,a,E,l),q=r.memoizedState),(F=di||Xp(r,a,F,l,B,q,S)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,S)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=S,l=F):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,ic(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ra(r,t.child,null,h),r.child=Ra(r,null,a,h)):qt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Br(t,r,h),t}function hy(t,r,a,l){return Bo(),r.flags|=256,qt(t,r,a,l),r.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:Wg()}}function Gf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Un),t}function fy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(h?yi(r):_i(),Qe){var E=dt,S;if(S=E){e:{for(S=E,E=lr;S.nodeType!==8;){if(!E){E=null;break e}if(S=Qn(S.nextSibling),S===null){E=null;break e}}E=S}E!==null?(r.memoizedState={dehydrated:E,treeContext:bs!==null?{id:Vr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},S=_n(18,null,null,0),S.stateNode=E,S.return=r,r.child=S,on=r,dt=null,S=!0):S=!1}S||Ss(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Id(E)?r.lanes=32:r.lanes=536870912,null;jr(r)}return E=l.children,l=l.fallback,h?(_i(),h=r.mode,E=sc({mode:"hidden",children:E},h),l=Ts(l,h,a,null),E.return=r,l.return=r,E.sibling=l,r.child=E,h=r.child,h.memoizedState=Hf(a),h.childLanes=Gf(t,v,a),r.memoizedState=qf,l):(yi(r),Ff(r,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(d)r.flags&256?(yi(r),r.flags&=-257,r=Kf(t,r,a)):r.memoizedState!==null?(_i(),r.child=t.child,r.flags|=128,r=null):(_i(),h=l.fallback,E=r.mode,l=sc({mode:"visible",children:l.children},E),h=Ts(h,E,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ra(r,t.child,null,a),l=r.child,l.memoizedState=Hf(a),l.childLanes=Gf(t,v,a),r.memoizedState=qf,r=h);else if(yi(r),Id(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,qo({value:l,source:null,stack:null}),r=Kf(t,r,a)}else if(Vt||Ho(t,r,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=st,v!==null&&(l=a&-a,l=(l&42)!==0?1:si(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,ga(t,l),An(v,t,l),ry;E.data==="$?"||cd(),r=Kf(t,r,a)}else E.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=S.treeContext,dt=Qn(E.nextSibling),on=r,Qe=!0,ws=null,lr=!1,t!==null&&(kn[Vn++]=Vr,kn[Vn++]=Pr,kn[Vn++]=bs,Vr=t.id,Pr=t.overflow,bs=r),r=Ff(r,l.children),r.flags|=4096);return r}return h?(_i(),h=l.fallback,E=r.mode,S=t.child,j=S.sibling,l=kr(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,j!==null?h=kr(j,h):(h=Ts(h,E,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,E=t.child.memoizedState,E===null?E=Hf(a):(S=E.cachePool,S!==null?(j=Ct._currentValue,S=S.parent!==j?{parent:j,pool:j}:S):S=Wg(),E={baseLanes:E.baseLanes|a,cachePool:S}),h.memoizedState=E,h.childLanes=Gf(t,v,a),r.memoizedState=qf,l):(yi(r),a=t.child,t=a.sibling,a=kr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Ff(t,r){return r=sc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function sc(t,r){return t=_n(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Kf(t,r,a){return Ra(r,t.child,null,a),t=Ff(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function dy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),cf(t.return,r,a)}function Qf(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function my(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,r,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,a,r);else if(t.tag===19)dy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ee(xt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Qf(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Qf(r,!0,a,null,d);break;case"together":Qf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Br(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ai|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ho(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=kr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=kr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Yf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function qb(t,r,a){switch(r.tag){case 3:$e(r,r.stateNode.containerInfo),fi(r,Ct,t.memoizedState.cache),Bo();break;case 27:case 5:dn(r);break;case 4:$e(r,r.stateNode.containerInfo);break;case 10:fi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(yi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?fy(t,r,a):(yi(r),t=Br(t,r,a),t!==null?t.sibling:null);yi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ho(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return my(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(xt,xt.current),l)break;return null;case 22:case 23:return r.lanes=0,oy(t,r,a);case 24:fi(r,Ct,t.memoizedState.cache)}return Br(t,r,a)}function gy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Yf(t,a)&&(r.flags&128)===0)return Vt=!1,qb(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,Qe&&(r.flags&1048576)!==0&&Fg(r,Lu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")nf(l)?(t=Ns(l,t),r.tag=1,r=cy(null,r,l,t,a)):(r.tag=0,r=Bf(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===_e){r.tag=11,r=iy(null,r,l,t,a);break e}else if(h===N){r.tag=14,r=sy(null,r,l,t,a);break e}}throw r=ce(l)||l,Error(s(306,r,""))}}return r;case 0:return Bf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ns(l,r.pendingProps),cy(t,r,l,h,a);case 3:e:{if($e(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,yf(t,r),$o(r,l,null,a);var v=r.memoizedState;if(l=v.cache,fi(r,Ct,l),l!==d.cache&&hf(r,[Ct],a,!0),Xo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=hy(t,r,l,a);break e}else if(l!==h){h=On(Error(s(424)),r),qo(h),r=hy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Qn(t.firstChild),on=r,Qe=!0,ws=null,lr=!0,a=Qp(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bo(),l===h){r=Br(t,r,a);break e}qt(t,r,l,a)}r=r.child}return r;case 26:return ic(t,r),t===null?(a=v_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,t=r.pendingProps,l=vc(we.current).createElement(a),l[St]=r,l[vt]=t,Gt(l,a,t),gt(l),r.stateNode=l):r.memoizedState=v_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return dn(r),t===null&&Qe&&(l=r.stateNode=p_(r.type,r.pendingProps,we.current),on=r,lr=!0,h=dt,Ii(r.type)?(Cd=h,dt=Qn(l.firstChild)):dt=h),qt(t,r,r.pendingProps.children,a),ic(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((h=l=dt)&&(l=p1(l,r.type,r.pendingProps,lr),l!==null?(r.stateNode=l,on=r,dt=Qn(l.firstChild),lr=!1,h=!0):h=!1),h||Ss(r)),dn(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,wd(h,d)?l=null:v!==null&&wd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Af(t,r,kb,null,null,a),_l._currentValue=h),ic(t,r),qt(t,r,l,a),r.child;case 6:return t===null&&Qe&&((t=a=dt)&&(a=y1(a,r.pendingProps,lr),a!==null?(r.stateNode=a,on=r,dt=null,t=!0):t=!1),t||Ss(r)),null;case 13:return fy(t,r,a);case 4:return $e(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ra(r,null,l,a):qt(t,r,l,a),r.child;case 11:return iy(t,r,r.type,r.pendingProps,a);case 7:return qt(t,r,r.pendingProps,a),r.child;case 8:return qt(t,r,r.pendingProps.children,a),r.child;case 12:return qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,fi(r,r.type,l.value),qt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Is(r),h=$t(h),l=l(h),r.flags|=1,qt(t,r,l,a),r.child;case 14:return sy(t,r,r.type,r.pendingProps,a);case 15:return ay(t,r,r.type,r.pendingProps,a);case 19:return my(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=sc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=kr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return oy(t,r,a);case 24:return Is(r),l=$t(Ct),t===null?(h=mf(),h===null&&(h=st,d=ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},pf(r),fi(r,Ct,h)):((t.lanes&a)!==0&&(yf(t,r),$o(r,null,null,a),Xo()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),fi(r,Ct,l)):(l=d.cache,fi(r,Ct,l),l!==h.cache&&hf(r,[Ct],a,!0))),qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qr(t){t.flags|=4}function py(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w_(r)){if(r=Pn.current,r!==null&&((Ge&4194048)===Ge?ur!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||r!==ur))throw Qo=gf,Jg;t.flags|=8192}}function ac(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Eo():536870912,t.lanes|=r,Na|=r)}function rl(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Hb(t,r,a){var l=r.pendingProps;switch(of(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Lr(Ct),nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(jo(r)?qr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Yg())),ut(r),null;case 26:return a=r.memoizedState,t===null?(qr(r),a!==null?(ut(r),py(r,a)):(ut(r),r.flags&=-16777217)):a?a!==t.memoizedState?(qr(r),ut(r),py(r,a)):(ut(r),r.flags&=-16777217):(t.memoizedProps!==l&&qr(r),ut(r),r.flags&=-16777217),null;case 27:mn(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}t=le.current,jo(r)?Kg(r):(t=p_(h,l,a),r.stateNode=t,qr(r))}return ut(r),null;case 5:if(mn(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(t=le.current,jo(r))Kg(r);else{switch(h=vc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=r,t[vt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Gt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qr(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,jo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u_(t.nodeValue,a)),t||Ss(r)}else t=vc(t).createTextNode(l),t[St]=r,r.stateNode=t}return ut(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=jo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=r}else Bo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else h=Yg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(jr(r),r):(jr(r),null)}if(jr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),ac(r,r.updateQueue),ut(r),null;case 4:return nn(),t===null&&vd(r.stateNode.containerInfo),ut(r),null;case 10:return Lr(r.type),ut(r),null;case 19:if(ie(xt),h=r.memoizedState,h===null)return ut(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)rl(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=tc(t),d!==null){for(r.flags|=128,rl(h,!1),t=d.updateQueue,r.updateQueue=t,ac(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Gg(a,t),a=a.sibling;return ee(xt,xt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Rn()>uc&&(r.flags|=128,l=!0,rl(h,!1),r.lanes=4194304)}else{if(!l)if(t=tc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,ac(r,t),rl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Qe)return ut(r),null}else 2*Rn()-h.renderingStartTime>uc&&a!==536870912&&(r.flags|=128,l=!0,rl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Rn(),r.sibling=null,t=xt.current,ee(xt,l?t&1|2:t&1),r):(ut(r),null);case 22:case 23:return jr(r),Tf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&ac(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ie(Cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Lr(Ct),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Gb(t,r){switch(of(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Lr(Ct),nn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return mn(r),null;case 13:if(jr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Bo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ie(xt),null;case 4:return nn(),null;case 10:return Lr(r.type),null;case 22:case 23:return jr(r),Tf(),t!==null&&ie(Cs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Lr(Ct),null;case 25:return null;default:return null}}function yy(t,r){switch(of(r),r.tag){case 3:Lr(Ct),nn();break;case 26:case 27:case 5:mn(r);break;case 4:nn();break;case 13:jr(r);break;case 19:ie(xt);break;case 10:Lr(r.type);break;case 22:case 23:jr(r),Tf(),t!==null&&ie(Cs);break;case 24:Lr(Ct)}}function il(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){it(r,r.return,E)}}function vi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=r;var S=a,j=E;try{j()}catch(F){it(h,S,F)}}}l=l.next}while(l!==d)}}catch(F){it(r,r.return,F)}}function _y(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{sp(r,a)}catch(l){it(t,t.return,l)}}}function vy(t,r,a){a.props=Ns(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,r,l)}}function sl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,r,h)}}function cr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,r,h)}else a.current=null}function Ey(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function Xf(t,r,a){try{var l=t.stateNode;h1(l,t.type,a,r),l[vt]=r}catch(h){it(t,t.return,h)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ii(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ii(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=_c));else if(l!==4&&(l===27&&Ii(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Zf(t,r,a),t=t.sibling;t!==null;)Zf(t,r,a),t=t.sibling}function oc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ii(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,r,a),t=t.sibling;t!==null;)oc(t,r,a),t=t.sibling}function by(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Gt(r,l,a),r[St]=t,r[vt]=a}catch(d){it(t,t.return,d)}}var Hr=!1,yt=!1,Wf=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Fb(t,r){if(t=t.containerInfo,bd=Sc,t=kg(t),Xh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,S=-1,j=0,F=0,Y=t,B=null;t:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==d||l!==0&&Y.nodeType!==3||(S=v+l),Y.nodeType===3&&(v+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===t)break t;if(B===a&&++j===h&&(E=v),B===d&&++F===l&&(S=v),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:t,selectionRange:a},Sc=!1,Pt=r;Pt!==null;)if(r=Pt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Pt=t;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ie=Ns(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ie,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){it(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Rd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Pt=t;break}Pt=r.return}}function wy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ei(t,a),l&4&&il(5,a);break;case 1:if(Ei(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){it(a,a.return,v)}else{var h=Ns(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){it(a,a.return,v)}}l&64&&_y(a),l&512&&sl(a,a.return);break;case 3:if(Ei(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{sp(t,r)}catch(v){it(a,a.return,v)}}break;case 27:r===null&&l&4&&by(a);case 26:case 5:Ei(t,a),r===null&&l&4&&Ey(a),l&512&&sl(a,a.return);break;case 12:Ei(t,a);break;case 13:Ei(t,a),l&4&&Iy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=e1.bind(null,a),_1(t,a))));break;case 22:if(l=a.memoizedState!==null||Hr,!l){r=r!==null&&r.memoizedState!==null||yt,h=Hr;var d=yt;Hr=l,(yt=r)&&!d?Ti(t,a,(a.subtreeFlags&8772)!==0):Ei(t,a),Hr=h,yt=d}break;case 30:break;default:Ei(t,a)}}function Sy(t){var r=t.alternate;r!==null&&(t.alternate=null,Sy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&li(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function Gr(t,r,a){for(a=a.child;a!==null;)Ry(t,r,a),a=a.sibling}function Ry(t,r,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||cr(a,r),Gr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||cr(a,r);var l=lt,h=un;Ii(a.type)&&(lt=a.stateNode,un=!1),Gr(t,r,a),ml(a.stateNode),lt=l,un=h;break;case 5:yt||cr(a,r);case 6:if(l=lt,h=un,lt=null,Gr(t,r,a),lt=l,un=h,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){it(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){it(a,r,d)}break;case 18:lt!==null&&(un?(t=lt,m_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),bl(t)):m_(lt,a.stateNode));break;case 4:l=lt,h=un,lt=a.stateNode.containerInfo,un=!0,Gr(t,r,a),lt=l,un=h;break;case 0:case 11:case 14:case 15:yt||vi(2,a,r),yt||vi(4,a,r),Gr(t,r,a);break;case 1:yt||(cr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vy(a,r,l)),Gr(t,r,a);break;case 21:Gr(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Gr(t,r,a),yt=l;break;default:Gr(t,r,a)}}function Iy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bl(t)}catch(a){it(r,r.return,a)}}function Kb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ay),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ay),r;default:throw Error(s(435,t.tag))}}function Jf(t,r){var a=Kb(t);r.forEach(function(l){var h=t1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function vn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Ii(E.type)){lt=E.stateNode,un=!1;break e}break;case 5:lt=E.stateNode,un=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(lt===null)throw Error(s(160));Ry(d,v,h),lt=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Cy(r,t),r=r.sibling}var Kn=null;function Cy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(r,t),En(t),l&4&&(vi(3,t,t.return),il(3,t),vi(5,t,t.return));break;case 1:vn(r,t),En(t),l&512&&(yt||a===null||cr(a,a.return)),l&64&&Hr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(vn(r,t),En(t),l&512&&(yt||a===null||cr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[St]=t,gt(d),l=d;break e;case"link":var v=b_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=b_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,gt(d),l=d}t.stateNode=l}else A_(h,t.type,t.stateNode);else t.stateNode=T_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?A_(h,t.type,t.stateNode):T_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(r,t),En(t),l&512&&(yt||a===null||cr(a,a.return)),a!==null&&l&4&&Xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(r,t),En(t),l&512&&(yt||a===null||cr(a,a.return)),t.flags&32){h=t.stateNode;try{Cn(h,"")}catch(q){it(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Wf=!0);break;case 6:if(vn(r,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){it(t,t.return,q)}}break;case 3:if(bc=null,h=Kn,Kn=Ec(r.containerInfo),vn(r,t),Kn=h,En(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bl(r.containerInfo)}catch(q){it(t,t.return,q)}Wf&&(Wf=!1,xy(t));break;case 4:l=Kn,Kn=Ec(t.stateNode.containerInfo),vn(r,t),En(t),Kn=l;break;case 12:vn(r,t),En(t);break;case 13:vn(r,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sd=Rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jf(t,l)));break;case 22:h=t.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,j=Hr,F=yt;if(Hr=j||h,yt=F||S,vn(r,t),yt=F,Hr=j,En(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||S||Hr||yt||Ds(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){S=a=r;try{if(d=S.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=S.stateNode;var Y=S.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){it(S,S.return,q)}}}else if(r.tag===6){if(a===null){S=r;try{S.stateNode.nodeValue=h?"":S.memoizedProps}catch(q){it(S,S.return,q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jf(t,a))));break;case 19:vn(r,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jf(t,l)));break;case 30:break;case 21:break;default:vn(r,t),En(t)}}function En(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Ty(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=$f(t);oc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Cn(v,""),a.flags&=-33);var E=$f(t);oc(t,E,v);break;case 3:case 4:var S=a.stateNode.containerInfo,j=$f(t);Zf(t,j,S);break;default:throw Error(s(161))}}catch(F){it(t,t.return,F)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;xy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ei(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)wy(t,r.alternate,r),r=r.sibling}function Ds(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:vi(4,r,r.return),Ds(r);break;case 1:cr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&vy(r,r.return,a),Ds(r);break;case 27:ml(r.stateNode);case 26:case 5:cr(r,r.return),Ds(r);break;case 22:r.memoizedState===null&&Ds(r);break;case 30:Ds(r);break;default:Ds(r)}t=t.sibling}}function Ti(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ti(h,d,a),il(4,d);break;case 1:if(Ti(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){it(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)ip(S[h],E)}catch(j){it(l,l.return,j)}}a&&v&64&&_y(d),sl(d,d.return);break;case 27:by(d);case 26:case 5:Ti(h,d,a),a&&l===null&&v&4&&Ey(d),sl(d,d.return);break;case 12:Ti(h,d,a);break;case 13:Ti(h,d,a),a&&v&4&&Iy(h,d);break;case 22:d.memoizedState===null&&Ti(h,d,a),sl(d,d.return);break;case 30:break;default:Ti(h,d,a)}r=r.sibling}}function ed(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Go(a))}function td(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Go(t))}function hr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ny(t,r,a,l),r=r.sibling}function Ny(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:hr(t,r,a,l),h&2048&&il(9,r);break;case 1:hr(t,r,a,l);break;case 3:hr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Go(t)));break;case 12:if(h&2048){hr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){it(r,r.return,S)}}else hr(t,r,a,l);break;case 13:hr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?hr(t,r,a,l):al(t,r):d._visibility&2?hr(t,r,a,l):(d._visibility|=2,Ia(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&ed(v,r);break;case 24:hr(t,r,a,l),h&2048&&td(r.alternate,r);break;default:hr(t,r,a,l)}}function Ia(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,E=a,S=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ia(d,v,E,S,h),il(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Ia(d,v,E,S,h):al(d,v):(F._visibility|=2,Ia(d,v,E,S,h)),h&&j&2048&&ed(v.alternate,v);break;case 24:Ia(d,v,E,S,h),h&&j&2048&&td(v.alternate,v);break;default:Ia(d,v,E,S,h)}r=r.sibling}}function al(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:al(a,l),h&2048&&ed(l.alternate,l);break;case 24:al(a,l),h&2048&&td(l.alternate,l);break;default:al(a,l)}r=r.sibling}}var ol=8192;function Ca(t){if(t.subtreeFlags&ol)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 26:Ca(t),t.flags&ol&&t.memoizedState!==null&&D1(Kn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t);break;case 3:case 4:var r=Kn;Kn=Ec(t.stateNode.containerInfo),Ca(t),Kn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ol,ol=16777216,Ca(t),ol=r):Ca(t));break;default:Ca(t)}}function Oy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ll(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,ky(l,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:ll(t),t.flags&2048&&vi(9,t,t.return);break;case 3:ll(t);break;case 12:ll(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,lc(t)):ll(t);break;default:ll(t)}}function lc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,ky(l,t)}Oy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:vi(8,r,r.return),lc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,lc(r));break;default:lc(r)}t=t.sibling}}function ky(t,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:vi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Go(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Sy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var Qb={getCacheForType:function(t){var r=$t(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Yb=typeof WeakMap=="function"?WeakMap:Map,We=0,st=null,Pe=null,Ge=0,Je=0,Tn=null,bi=!1,xa=!1,nd=!1,Fr=0,mt=0,Ai=0,Os=0,rd=0,Un=0,Na=0,ul=null,cn=null,id=!1,sd=0,uc=1/0,cc=null,wi=null,Ht=0,Si=null,Da=null,Oa=0,ad=0,od=null,Vy=null,cl=0,ld=null;function bn(){if((We&2)!==0&&Ge!==0)return Ge&-Ge;if(H.T!==null){var t=va;return t!==0?t:gd()}return ai()}function Py(){Un===0&&(Un=(Ge&536870912)===0||Qe?vo():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),Un}function An(t,r,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Ri(t,Ge,Un,!1)),Ar(t,a),((We&2)===0||t!==st)&&(t===st&&((We&2)===0&&(Os|=a),mt===4&&Ri(t,Ge,Un,!1)),fr(t))}function Uy(t,r,a){if((We&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||is(t,r),h=l?Zb(t,r):hd(t,r,!0),d=l;do{if(h===0){xa&&!l&&Ri(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Xb(a)){h=hd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var E=t;h=ul;var S=E.current.memoizedState.isDehydrated;if(S&&(Ma(E,v).flags|=256),v=hd(E,v,!1),v!==2){if(nd&&!S){E.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ma(t,0),Ri(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ri(l,r,Un,!bi);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=sd+300-Rn(),10<h)){if(Ri(l,r,Un,!bi),$s(l,0,!0)!==0)break e;l.timeoutHandle=f_(Ly.bind(null,l,a,cn,cc,id,r,Un,Os,Na,bi,d,2,-0,0),h);break e}Ly(l,a,cn,cc,id,r,Un,Os,Na,bi,d,0,-0,0)}}break}while(!0);fr(t)}function Ly(t,r,a,l,h,d,v,E,S,j,F,Y,B,q){if(t.timeoutHandle=-1,Y=r.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:N1},Dy(r),Y=O1(),Y!==null)){t.cancelPendingCommit=Y(Fy.bind(null,t,r,d,a,l,h,v,E,S,F,1,B,q)),Ri(t,d,v,!j);return}Fy(t,r,d,a,l,h,v,E,S)}function Xb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ri(t,r,a,l){r&=~rd,r&=~Os,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Xt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Zn(t,a,r)}function hc(){return(We&6)===0?(hl(0),!1):!0}function ud(){if(Pe!==null){if(Je===0)var t=Pe.return;else t=Pe,Ur=Rs=null,Rf(t),Sa=null,tl=0,t=Pe;for(;t!==null;)yy(t.alternate,t),t=t.return;Pe=null}}function Ma(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,d1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ud(),st=t,Pe=a=kr(t.current,null),Ge=r,Je=0,Tn=null,bi=!1,xa=is(t,r),nd=!1,Na=Un=rd=Os=Ai=mt=0,cn=ul=null,id=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Xt(l),d=1<<h;r|=t[h],l&=~d}return Fr=r,Mu(),a}function zy(t,r){Oe=null,H.H=Wu,r===Ko||r===qu?(r=np(),Je=3):r===Jg?(r=np(),Je=4):Je=r===ry?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Pe===null&&(mt=1,rc(t,On(r,t.current)))}function jy(){var t=H.H;return H.H=Wu,t===null?Wu:t}function By(){var t=H.A;return H.A=Qb,t}function cd(){mt=4,bi||(Ge&4194048)!==Ge&&Pn.current!==null||(xa=!0),(Ai&134217727)===0&&(Os&134217727)===0||st===null||Ri(st,Ge,Un,!1)}function hd(t,r,a){var l=We;We|=2;var h=jy(),d=By();(st!==t||Ge!==r)&&(cc=null,Ma(t,r)),r=!1;var v=mt;e:do try{if(Je!==0&&Pe!==null){var E=Pe,S=Tn;switch(Je){case 8:ud(),v=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var j=Je;if(Je=0,Tn=null,ka(t,E,S,j),a&&xa){v=0;break e}break;default:j=Je,Je=0,Tn=null,ka(t,E,S,j)}}$b(),v=mt;break}catch(F){zy(t,F)}while(!0);return r&&t.shellSuspendCounter++,Ur=Rs=null,We=l,H.H=h,H.A=d,Pe===null&&(st=null,Ge=0,Mu()),v}function $b(){for(;Pe!==null;)qy(Pe)}function Zb(t,r){var a=We;We|=2;var l=jy(),h=By();st!==t||Ge!==r?(cc=null,uc=Rn()+500,Ma(t,r)):xa=is(t,r);e:do try{if(Je!==0&&Pe!==null){r=Pe;var d=Tn;t:switch(Je){case 1:Je=0,Tn=null,ka(t,r,d,1);break;case 2:case 9:if(ep(d)){Je=0,Tn=null,Hy(r);break}r=function(){Je!==2&&Je!==9||st!==t||(Je=7),fr(t)},d.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:ep(d)?(Je=0,Tn=null,Hy(r)):(Je=0,Tn=null,ka(t,r,d,7));break;case 5:var v=null;switch(Pe.tag){case 26:v=Pe.memoizedState;case 5:case 27:var E=Pe;if(!v||w_(v)){Je=0,Tn=null;var S=E.sibling;if(S!==null)Pe=S;else{var j=E.return;j!==null?(Pe=j,fc(j)):Pe=null}break t}}Je=0,Tn=null,ka(t,r,d,5);break;case 6:Je=0,Tn=null,ka(t,r,d,6);break;case 8:ud(),mt=6;break e;default:throw Error(s(462))}}Wb();break}catch(F){zy(t,F)}while(!0);return Ur=Rs=null,H.H=l,H.A=h,We=a,Pe!==null?0:(st=null,Ge=0,Mu(),mt)}function Wb(){for(;Pe!==null&&!go();)qy(Pe)}function qy(t){var r=gy(t.alternate,t,Fr);t.memoizedProps=t.pendingProps,r===null?fc(t):Pe=r}function Hy(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=uy(a,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=uy(a,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:Rf(r);default:yy(a,r),r=Pe=Gg(r,Fr),r=gy(a,r,Fr)}t.memoizedProps=t.pendingProps,r===null?fc(t):Pe=r}function ka(t,r,a,l){Ur=Rs=null,Rf(r),Sa=null,tl=0;var h=r.return;try{if(Bb(t,h,r,a,Ge)){mt=1,rc(t,On(a,t.current)),Pe=null;return}}catch(d){if(h!==null)throw Pe=h,d;mt=1,rc(t,On(a,t.current)),Pe=null;return}r.flags&32768?(Qe||l===1?t=!0:xa||(Ge&536870912)!==0?t=!1:(bi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gy(r,t)):fc(r)}function fc(t){var r=t;do{if((r.flags&32768)!==0){Gy(r,bi);return}t=r.return;var a=Hb(r.alternate,r,Fr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);mt===0&&(mt=5)}function Gy(t,r){do{var a=Gb(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);mt=6,Pe=null}function Fy(t,r,a,l,h,d,v,E,S){t.cancelPendingCommit=null;do dc();while(Ht!==0);if((We&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=ef,To(t,a,d,v,E,S),t===st&&(Pe=st=null,Ge=0),Da=r,Si=t,Oa=a,ad=d,od=h,Vy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,n1(es,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=Z.p,Z.p=2,v=We,We|=4;try{Fb(t,r,a)}finally{We=v,Z.p=h,H.T=l}}Ht=1,Ky(),Qy(),Yy()}}function Ky(){if(Ht===1){Ht=0;var t=Si,r=Da,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=Z.p;Z.p=2;var h=We;We|=4;try{Cy(r,t);var d=Ad,v=kg(t.containerInfo),E=d.focusedElem,S=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&Mg(E.ownerDocument.documentElement,E)){if(S!==null&&Xh(E)){var j=S.start,F=S.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),Ie=E.textContent.length,be=Math.min(S.start,Ie),rt=S.end===void 0?be:Math.min(S.end,Ie);!q.extend&&be>rt&&(v=rt,rt=be,be=v);var P=Og(E,be),D=Og(E,rt);if(P&&D&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var z=Y.createRange();z.setStart(P.node,P.offset),q.removeAllRanges(),be>rt?(q.addRange(z),q.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),q.addRange(z))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!bd,Ad=bd=null}finally{We=h,Z.p=l,H.T=a}}t.current=r,Ht=2}}function Qy(){if(Ht===2){Ht=0;var t=Si,r=Da,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=Z.p;Z.p=2;var h=We;We|=4;try{wy(t,r.alternate,r)}finally{We=h,Z.p=l,H.T=a}}Ht=3}}function Yy(){if(Ht===4||Ht===3){Ht=0,lu();var t=Si,r=Da,a=Oa,l=Vy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Da=Si=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(wi=null),Zs(a),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=H.T,h=Z.p,Z.p=2,H.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{H.T=r,Z.p=h}}(Oa&3)!==0&&dc(),fr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===ld?cl++:(cl=0,ld=t):cl=0,hl(0)}}function Xy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Go(r)))}function dc(t){return Ky(),Qy(),Yy(),$y()}function $y(){if(Ht!==5)return!1;var t=Si,r=ad;ad=0;var a=Zs(Oa),l=H.T,h=Z.p;try{Z.p=32>a?32:a,H.T=null,a=od,od=null;var d=Si,v=Oa;if(Ht=0,Da=Si=null,Oa=0,(We&6)!==0)throw Error(s(331));var E=We;if(We|=4,My(d.current),Ny(d,d.current,v,a),We=E,hl(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{Z.p=h,H.T=l,Xy(t,r)}}function Zy(t,r,a){r=On(a,r),r=jf(t.stateNode,r,2),t=gi(t,r,2),t!==null&&(Ar(t,2),fr(t))}function it(t,r,a){if(t.tag===3)Zy(t,t,a);else for(;r!==null;){if(r.tag===3){Zy(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wi===null||!wi.has(l))){t=On(a,t),a=ty(2),l=gi(r,a,2),l!==null&&(ny(a,l,r,t),Ar(l,2),fr(l));break}}r=r.return}}function fd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Yb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(nd=!0,h.add(a),t=Jb.bind(null,t,r,a),r.then(t,t))}function Jb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ge&a)===a&&(mt===4||mt===3&&(Ge&62914560)===Ge&&300>Rn()-sd?(We&2)===0&&Ma(t,0):rd|=a,Na===Ge&&(Na=0)),fr(t)}function Wy(t,r){r===0&&(r=Eo()),t=ga(t,r),t!==null&&(Ar(t,r),fr(t))}function e1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Wy(t,a)}function t1(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Wy(t,a)}function n1(t,r){return Wi(t,r)}var mc=null,Va=null,dd=!1,gc=!1,md=!1,Ms=0;function fr(t){t!==Va&&t.next===null&&(Va===null?mc=Va=t:Va=Va.next=t),gc=!0,dd||(dd=!0,i1())}function hl(t,r){if(!md&&gc){md=!0;do for(var a=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Xt(42|t)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n_(l,d))}else d=Ge,d=$s(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||is(l,d)||(a=!0,n_(l,d));l=l.next}while(a);md=!1}}function r1(){Jy()}function Jy(){gc=dd=!1;var t=0;Ms!==0&&(f1()&&(t=Ms),Ms=0);for(var r=Rn(),a=null,l=mc;l!==null;){var h=l.next,d=e_(l,r);d===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&(Va=a)):(a=l,(t!==0||(d&3)!==0)&&(gc=!0)),l=h}hl(t)}function e_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Xt(d),E=1<<v,S=h[v];S===-1?((E&a)===0||(E&l)!==0)&&(h[v]=_o(E,r)):S<=r&&(t.expiredLanes|=E),d&=~E}if(r=st,a=Ge,a=$s(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ji(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||is(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ji(l),Zs(a)){case 2:case 8:a=Ys;break;case 32:a=es;break;case 268435456:a=Xs;break;default:a=es}return l=t_.bind(null,t),a=Wi(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ji(l),t.callbackPriority=2,t.callbackNode=null,2}function t_(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var l=Ge;return l=$s(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Uy(t,l,r),e_(t,Rn()),t.callbackNode!=null&&t.callbackNode===a?t_.bind(null,t):null)}function n_(t,r){if(dc())return null;Uy(t,r,!0)}function i1(){m1(function(){(We&6)!==0?Wi(po,r1):Jy()})}function gd(){return Ms===0&&(Ms=vo()),Ms}function r_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ra(""+t)}function i_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function s1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=r_((h[vt]||null).action),v=l.submitter;v&&(r=(r=v[vt]||null)?r_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var E=new ia("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var S=v?i_(h,v):new FormData(h);Vf(a,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(E.preventDefault(),S=v?i_(h,v):new FormData(h),Vf(a,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var pd=0;pd<Jh.length;pd++){var yd=Jh[pd],a1=yd.toLowerCase(),o1=yd[0].toUpperCase()+yd.slice(1);Fn(a1,"on"+o1)}Fn(Ug,"onAnimationEnd"),Fn(Lg,"onAnimationIteration"),Fn(zg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(wb,"onTransitionRun"),Fn(Sb,"onTransitionStart"),Fn(Rb,"onTransitionCancel"),Fn(jg,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function s_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var E=l[v],S=E.instance,j=E.currentTarget;if(E=E.listener,S!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(F){nc(F)}h.currentTarget=null,d=S}else for(v=0;v<l.length;v++){if(E=l[v],S=E.instance,j=E.currentTarget,E=E.listener,S!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(F){nc(F)}h.currentTarget=null,d=S}}}}function Ue(t,r){var a=r[Ao];a===void 0&&(a=r[Ao]=new Set);var l=t+"__bubble";a.has(l)||(a_(r,t,2,!1),a.add(l))}function _d(t,r,a){var l=0;r&&(l|=4),a_(a,t,l,r)}var pc="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[pc]){t[pc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(l1.has(a)||_d(a,!1,t),_d(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[pc]||(r[pc]=!0,_d("selectionchange",!1,r))}}function a_(t,r,a,l){switch(N_(r)){case 2:var h=V1;break;case 8:h=P1;break;default:h=Md}a=h.bind(null,r,a,t),h=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Ed(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=wr(E),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){l=d=v;continue e}E=E.parentNode}}l=l.return}_u(function(){var j=d,F=xn(a),Y=[];e:{var B=Bg.get(t);if(B!==void 0){var q=ia,Ie=t;switch(t){case"keypress":if(rr(a)===0)break e;case"keydown":case"keyup":q=ca;break;case"focusin":Ie="focus",q=oa;break;case"focusout":Ie="blur",q=oa;break;case"beforeblur":case"afterblur":q=oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ru;break;case Ug:case Lg:case zg:q=la;break;case jg:q=Cu;break;case"scroll":case"scrollend":q=vu;break;case"wheel":q=ha;break;case"copy":case"cut":case"paste":q=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Po;break;case"toggle":case"beforetoggle":q=Nu}var be=(r&4)!==0,rt=!be&&(t==="scroll"||t==="scrollend"),P=be?B!==null?B+"Capture":null:B;be=[];for(var D=j,z;D!==null;){var Q=D;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||P===null||(Q=fs(D,P),Q!=null&&be.push(dl(D,Q,z))),rt)break;D=D.return}0<be.length&&(B=new q(B,Ie,null,a,F),Y.push({event:B,listeners:be}))}}if((r&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==Cr&&(Ie=a.relatedTarget||a.fromElement)&&(wr(Ie)||Ie[In]))break e;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Ie=a.relatedTarget||a.toElement,q=j,Ie=Ie?wr(Ie):null,Ie!==null&&(rt=u(Ie),be=Ie.tag,Ie!==rt||be!==5&&be!==27&&be!==6)&&(Ie=null)):(q=null,Ie=j),q!==Ie)){if(be=Dn,Q="onMouseLeave",P="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(be=Po,Q="onPointerLeave",P="onPointerEnter",D="pointer"),rt=q==null?B:Jn(q),z=Ie==null?B:Jn(Ie),B=new be(Q,D+"leave",q,a,F),B.target=rt,B.relatedTarget=z,Q=null,wr(F)===j&&(be=new be(P,D+"enter",Ie,a,F),be.target=z,be.relatedTarget=rt,Q=be),rt=Q,q&&Ie)t:{for(be=q,P=Ie,D=0,z=be;z;z=Pa(z))D++;for(z=0,Q=P;Q;Q=Pa(Q))z++;for(;0<D-z;)be=Pa(be),D--;for(;0<z-D;)P=Pa(P),z--;for(;D--;){if(be===P||P!==null&&be===P.alternate)break t;be=Pa(be),P=Pa(P)}be=null}else be=null;q!==null&&o_(Y,B,q,be,!1),Ie!==null&&rt!==null&&o_(Y,rt,Ie,be,!0)}}e:{if(B=j?Jn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var he=Rg;else if(It(B))if(Ig)he=Tb;else{he=vb;var ke=_b}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&xo(j.elementType)&&(he=Rg):he=Eb;if(he&&(he=he(t,j))){Mr(Y,he,a,F);break e}ke&&ke(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&ci(B,"number",B.value)}switch(ke=j?Jn(j):window,t){case"focusin":(It(ke)||ke.contentEditable==="true")&&(fa=ke,$h=j,zo=null);break;case"focusout":zo=$h=fa=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Vg(Y,a,F);break;case"selectionchange":if(Ab)break;case"keydown":case"keyup":Vg(Y,a,F)}var pe;if(ar)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else qe?G(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&a.locale!=="ko"&&(qe||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&qe&&(pe=Do()):(nr=F,hi="value"in nr?nr.value:nr.textContent,qe=!0)),ke=yc(j,Ae),0<ke.length&&(Ae=new ko(Ae,t,null,a,F),Y.push({event:Ae,listeners:ke}),pe?Ae.data=pe:(pe=re(a),pe!==null&&(Ae.data=pe)))),(pe=m?Rt(t,a):He(t,a))&&(Ae=yc(j,"onBeforeInput"),0<Ae.length&&(ke=new ko("onBeforeInput","beforeinput",null,a,F),Y.push({event:ke,listeners:Ae}),ke.data=pe)),s1(Y,t,j,a,F)}s_(Y,r)})}function dl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function yc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(t,a),h!=null&&l.unshift(dl(t,h,d)),h=fs(t,r),h!=null&&l.push(dl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var E=a,S=E.alternate,j=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||j===null||(S=j,h?(j=fs(a,d),j!=null&&v.unshift(dl(a,j,S))):h||(j=fs(a,d),j!=null&&v.push(dl(a,j,S)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var u1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(u1,`
`).replace(c1,"")}function u_(t,r){return r=l_(r),l_(t)===r}function _c(){}function nt(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Cn(t,""+l);break;case"className":er(t,"class",l);break;case"tabIndex":er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(t,a,l);break;case"style":Co(t,l,d);break;case"data":if(r!=="object"){er(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&nt(t,r,"name",h.name,h,null),nt(t,r,"formEncType",h.formEncType,h,null),nt(t,r,"formMethod",h.formMethod,h,null),nt(t,r,"formTarget",h.formTarget,h,null)):(nt(t,r,"encType",h.encType,h,null),nt(t,r,"method",h.method,h,null),nt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_c);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ui(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ui(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hh.get(a)||a,ui(t,a,l))}}function Td(t,r,a,l,h,d){switch(a){case"style":Co(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&Cn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ui(t,a,l)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,d,v,a,null)}}h&&nt(t,r,"srcSet",a.srcSet,a,null),l&&nt(t,r,"src",a.src,a,null);return;case"input":Ue("invalid",t);var E=d=v=h=null,S=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":S=F;break;case"defaultChecked":j=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:nt(t,r,l,F,a,null)}}us(t,d,E,S,j,v,h,!1),na(t);return;case"select":Ue("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:nt(t,r,h,E,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ir(t,!!l,r,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":Ue("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:nt(t,r,v,E,a,null)}cs(t,l,h,d),na(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,r,S,l,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<fl.length;l++)Ue(fl[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,j,l,a,null)}return;default:if(xo(r)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Td(t,r,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&nt(t,r,E,l,a,null))}function h1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,S=null,j=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=Y;default:l.hasOwnProperty(q)||nt(t,r,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==Y&&nt(t,r,B,q,l,Y)}}pn(t,v,E,S,j,F,d,h);return;case"select":q=v=E=B=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(d)||nt(t,r,d,null,l,S)}for(h in l)if(d=l[h],S=a[h],l.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==S&&nt(t,r,h,d,l,S)}r=E,a=v,l=q,B!=null?Ir(t,!!a,B,!1):!!l!=!!a&&(r!=null?Ir(t,!!a,r,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,r,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,r,v,h,l,d)}et(t,B,q);return;case"option":for(var Ie in a)if(B=a[Ie],a.hasOwnProperty(Ie)&&B!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:nt(t,r,Ie,null,l,B)}for(S in l)if(B=l[S],q=a[S],l.hasOwnProperty(S)&&B!==q&&(B!=null||q!=null))switch(S){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:nt(t,r,S,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)B=a[be],a.hasOwnProperty(be)&&B!=null&&!l.hasOwnProperty(be)&&nt(t,r,be,null,l,B);for(j in l)if(B=l[j],q=a[j],l.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:nt(t,r,j,B,l,q)}return;default:if(xo(r)){for(var rt in a)B=a[rt],a.hasOwnProperty(rt)&&B!==void 0&&!l.hasOwnProperty(rt)&&Td(t,r,rt,void 0,l,B);for(F in l)B=l[F],q=a[F],!l.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||Td(t,r,F,B,l,q);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&nt(t,r,P,null,l,B);for(Y in l)B=l[Y],q=a[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||nt(t,r,Y,B,l,q)}var bd=null,Ad=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function c_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function wd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sd=null;function f1(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,d1=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,m1=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(g1)}:f_;function g1(t){setTimeout(function(){throw t})}function Ii(t){return t==="head"}function m_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&ml(v.documentElement),a&2&&ml(v.body),a&4)for(a=v.head,ml(a),v=a.firstChild;v;){var E=v.nextSibling,S=v.nodeName;v[ss]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){t.removeChild(d),bl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);bl(r)}function Rd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),li(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function p1(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ss])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function y1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function _1(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Cd=null;function g_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function p_(t,r,a){switch(r=vc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ml(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);li(t)}var Ln=new Map,y_=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Kr=Z.d;Z.d={f:v1,r:E1,D:T1,C:b1,L:A1,m:w1,X:R1,S:S1,M:I1};function v1(){var t=Kr.f(),r=hc();return t||r}function E1(t){var r=Wn(t);r!==null&&r.tag===5&&r.type==="form"?Up(r):Kr.r(t)}var Ua=typeof document>"u"?null:document;function __(t,r,a){var l=Ua;if(l&&typeof r=="string"&&r){var h=Et(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y_.has(h)||(y_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Gt(r,"link",t),gt(r),l.head.appendChild(r)))}}function T1(t){Kr.D(t),__("dns-prefetch",t,null)}function b1(t,r){Kr.C(t,r),__("preconnect",t,r)}function A1(t,r,a){Kr.L(t,r,a);var l=Ua;if(l&&t&&r){var h='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Et(a.imageSizes)+'"]')):h+='[href="'+Et(t)+'"]';var d=h;switch(r){case"style":d=La(t);break;case"script":d=za(t)}Ln.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ln.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(gl(d))||r==="script"&&l.querySelector(pl(d))||(r=l.createElement("link"),Gt(r,"link",t),gt(r),l.head.appendChild(r)))}}function w1(t,r){Kr.m(t,r);var a=Ua;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(t)}if(!Ln.has(d)&&(t=T({rel:"modulepreload",href:t},r),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}l=a.createElement("link"),Gt(l,"link",t),gt(l),a.head.appendChild(l)}}}function S1(t,r,a){Kr.S(t,r,a);var l=Ua;if(l&&t){var h=rn(l).hoistableStyles,d=La(t);r=r||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(gl(d)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ln.get(d))&&xd(t,a);var S=v=l.createElement("link");gt(S),Gt(S,"link",t),S._p=new Promise(function(j,F){S.onload=j,S.onerror=F}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function R1(t,r){Kr.X(t,r);var a=Ua;if(a&&t){var l=rn(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=T({src:t,async:!0},r),(r=Ln.get(h))&&Nd(t,r),d=a.createElement("script"),gt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function I1(t,r){Kr.M(t,r);var a=Ua;if(a&&t){var l=rn(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Ln.get(h))&&Nd(t,r),d=a.createElement("script"),gt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function v_(t,r,a,l){var h=(h=we.current)?Ec(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=La(a.href),a=rn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=La(a.href);var d=rn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(gl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||C1(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=za(a),a=rn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function La(t){return'href="'+Et(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function E_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function C1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),gt(r),t.head.appendChild(r))}function za(t){return'[src="'+Et(t)+'"]'}function pl(t){return"script[async]"+t}function T_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return r.instance=l,gt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),gt(l),Gt(l,"style",h),Tc(l,a.precedence,t),r.instance=l;case"stylesheet":h=La(a.href);var d=t.querySelector(gl(h));if(d)return r.state.loading|=4,r.instance=d,gt(d),d;l=E_(a),(h=Ln.get(h))&&xd(l,h),d=(t.ownerDocument||t).createElement("link"),gt(d);var v=d;return v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Gt(d,"link",l),r.state.loading|=4,Tc(d,a.precedence,t),r.instance=d;case"script":return d=za(a.src),(h=t.querySelector(pl(d)))?(r.instance=h,gt(h),h):(l=a,(h=Ln.get(d))&&(l=T({},a),Nd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),gt(h),Gt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Tc(l,a.precedence,t));return r.instance}function Tc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===r)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function xd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Nd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var bc=null;function b_(t,r,a){if(bc===null){var l=new Map,h=bc=new Map;h.set(a,l)}else h=bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function A_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function x1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function w_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var yl=null;function N1(){}function D1(t,r,a){if(yl===null)throw Error(s(475));var l=yl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=La(a.href),d=t.querySelector(gl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ac.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,gt(d);return}d=t.ownerDocument||t,a=E_(a),(h=Ln.get(h))&&xd(a,h),d=d.createElement("link"),gt(d);var v=d;v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Gt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Ac.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function O1(){if(yl===null)throw Error(s(475));var t=yl;return t.stylesheets&&t.count===0&&Dd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Dd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ac(){if(this.count--,this.count===0){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Dd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,r.forEach(M1,t),wc=null,Ac.call(t))}function M1(t,r){if(!(r.state.loading&4)){var a=wc.get(t);if(a)var l=a.get(null);else{a=new Map,wc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var _l={$$typeof:me,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function k1(t,r,a,l,h,d,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function S_(t,r,a,l,h,d,v,E,S,j,F,Y){return t=new k1(t,r,a,v,E,S,j,Y),r=1,d===!0&&(r|=24),d=_n(3,null,null,r),t.current=d,d.stateNode=t,r=ff(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},pf(d),t}function R_(t){return t?(t=pa,t):pa}function I_(t,r,a,l,h,d){h=R_(h),l.context===null?l.context=h:l.pendingContext=h,l=mi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=gi(t,l,r),a!==null&&(An(a,t,r),Yo(a,t,r))}function C_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Od(t,r){C_(t,r),(t=t.alternate)&&C_(t,r)}function x_(t){if(t.tag===13){var r=ga(t,67108864);r!==null&&An(r,t,67108864),Od(t,67108864)}}var Sc=!0;function V1(t,r,a,l){var h=H.T;H.T=null;var d=Z.p;try{Z.p=2,Md(t,r,a,l)}finally{Z.p=d,H.T=h}}function P1(t,r,a,l){var h=H.T;H.T=null;var d=Z.p;try{Z.p=8,Md(t,r,a,l)}finally{Z.p=d,H.T=h}}function Md(t,r,a,l){if(Sc){var h=kd(l);if(h===null)Ed(t,r,l,Rc,a),D_(t,l);else if(L1(h,t,r,a,l))l.stopPropagation();else if(D_(t,l),r&4&&-1<U1.indexOf(t)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=qn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var S=1<<31-Xt(v);E.entanglements[1]|=S,v&=~S}fr(d),(We&6)===0&&(uc=Rn()+500,hl(0))}}break;case 13:E=ga(d,2),E!==null&&An(E,d,2),hc(),Od(d,2)}if(d=kd(l),d===null&&Ed(t,r,l,Rc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ed(t,r,l,null,a)}}function kd(t){return t=xn(t),Vd(t)}var Rc=null;function Vd(t){if(Rc=null,t=wr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Rc=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uh()){case po:return 2;case Ys:return 8;case es:case Lh:return 32;case Xs:return 268435456;default:return 32}default:return 32}}var Pd=!1,Ci=null,xi=null,Ni=null,vl=new Map,El=new Map,Di=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,r){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(r.pointerId)}}function Tl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Wn(r),r!==null&&x_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function L1(t,r,a,l,h){switch(r){case"focusin":return Ci=Tl(Ci,t,r,a,l,h),!0;case"dragenter":return xi=Tl(xi,t,r,a,l,h),!0;case"mouseover":return Ni=Tl(Ni,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,Tl(vl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,Tl(El.get(d)||null,t,r,a,l,h)),!0}return!1}function O_(t){var r=wr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,hu(t.priority,function(){if(a.tag===13){var l=bn();l=si(l);var h=ga(a,l);h!==null&&An(h,a,l),Od(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Cr=l,a.target.dispatchEvent(l),Cr=null}else return r=Wn(a),r!==null&&x_(r),t.blockedOn=a,!1;r.shift()}return!0}function M_(t,r,a){Ic(t)&&a.delete(r)}function z1(){Pd=!1,Ci!==null&&Ic(Ci)&&(Ci=null),xi!==null&&Ic(xi)&&(xi=null),Ni!==null&&Ic(Ni)&&(Ni=null),vl.forEach(M_),El.forEach(M_)}function Cc(t,r){t.blockedOn===r&&(t.blockedOn=null,Pd||(Pd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,z1)))}var xc=null;function k_(t){xc!==t&&(xc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var d=Wn(a);d!==null&&(t.splice(r,3),r-=3,Vf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function bl(t){function r(S){return Cc(S,t)}Ci!==null&&Cc(Ci,t),xi!==null&&Cc(xi,t),Ni!==null&&Cc(Ni,t),vl.forEach(r),El.forEach(r);for(var a=0;a<Di.length;a++){var l=Di[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Di.length&&(a=Di[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Di.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[vt]||null;if(typeof d=="function")v||k_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[vt]||null)E=v.formAction;else if(Vd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),k_(a)}}}function Ud(t){this._internalRoot=t}Nc.prototype.render=Ud.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();I_(a,l,t,r,null,null)},Nc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;I_(t.current,2,null,t,null,null),hc(),r[In]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ai();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Di.length&&r!==0&&r<Di[a].priority;a++);Di.splice(a,0,t),a===0&&O_(t)}};var V_=e.version;if(V_!=="19.1.0")throw Error(s(527,V_,"19.1.0"));Z.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var j1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{ft=Dc.inject(j1),Ze=Dc}catch{}}return wl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Zp,d=Wp,v=Jp,E=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=S_(t,1,!1,null,null,a,l,h,d,v,E,null),t[In]=r.current,vd(t),new Ud(r)},wl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Zp,v=Wp,E=Jp,S=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=S_(t,1,!0,r,a??null,l,h,d,v,E,S,j),r.context=R_(null),a=r.current,l=bn(),l=si(l),h=mi(l),h.callback=null,gi(a,h,l),a=l,r.current.lanes=a,Ar(r,a),fr(r),t[In]=r.current,vd(t),new Nc(r)},wl.version="19.1.0",wl}var F_;function X1(){if(F_)return jd.exports;F_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jd.exports=Y1(),jd.exports}var $1=X1();function K_(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function Z1(...i){return e=>{let n=!1;const s=i.map(o=>{const u=K_(o,e);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():K_(i[o],null)}}}}function W1(...i){return ge.useCallback(Z1(...i),i)}function D0(i){const e=J1(i),n=ge.forwardRef((s,o)=>{const{children:u,...f}=s,g=ge.Children.toArray(u),p=g.find(tA);if(p){const y=p.props.children,T=g.map(w=>w===p?ge.Children.count(y)>1?ge.Children.only(null):ge.isValidElement(y)?y.props.children:null:w);return k.jsx(e,{...f,ref:o,children:ge.isValidElement(y)?ge.cloneElement(y,void 0,T):null})}return k.jsx(e,{...f,ref:o,children:u})});return n.displayName=`${i}.Slot`,n}var O0=D0("Slot");function J1(i){const e=ge.forwardRef((n,s)=>{const{children:o,...u}=n,f=ge.isValidElement(o)?rA(o):void 0,g=W1(f,s);if(ge.isValidElement(o)){const p=nA(u,o.props);return o.type!==ge.Fragment&&(p.ref=g),ge.cloneElement(o,p)}return ge.Children.count(o)>1?ge.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var eA=Symbol("radix.slottable");function tA(i){return ge.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===eA}function nA(i,e){const n={...e};for(const s in e){const o=i[s],u=e[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...g)=>{const p=u(...g);return o(...g),p}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...i,...n}}function rA(i){var s,o;let e=(s=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?i.ref:(e=(o=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?i.props.ref:i.props.ref||i.ref)}function M0(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(n=M0(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function k0(){for(var i,e,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(e=M0(i))&&(s&&(s+=" "),s+=e);return s}const Q_=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,Y_=k0,Pm=(i,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return Y_(i,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:u}=e,f=Object.keys(o).map(y=>{const T=n==null?void 0:n[y],w=u==null?void 0:u[y];if(T===null)return null;const C=Q_(T)||Q_(w);return o[y][C]}),g=n&&Object.entries(n).reduce((y,T)=>{let[w,C]=T;return C===void 0||(y[w]=C),y},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((y,T)=>{let{class:w,className:C,...L}=T;return Object.entries(L).every(K=>{let[te,X]=K;return Array.isArray(X)?X.includes({...u,...g}[te]):{...u,...g}[te]===X})?[...y,w,C]:y},[]);return Y_(i,f,p,n==null?void 0:n.class,n==null?void 0:n.className)},Um="-",iA=i=>{const e=aA(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:f=>{const g=f.split(Um);return g[0]===""&&g.length!==1&&g.shift(),V0(g,e)||sA(f)},getConflictingClassGroupIds:(f,g)=>{const p=n[f]||[];return g&&s[f]?[...p,...s[f]]:p}}},V0=(i,e)=>{var f;if(i.length===0)return e.classGroupId;const n=i[0],s=e.nextPart.get(n),o=s?V0(i.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const u=i.join(Um);return(f=e.validators.find(({validator:g})=>g(u)))==null?void 0:f.classGroupId},X_=/^\[(.+)\]$/,sA=i=>{if(X_.test(i)){const e=X_.exec(i)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aA=i=>{const{theme:e,classGroups:n}=i,s={nextPart:new Map,validators:[]};for(const o in n)om(n[o],s,o,e);return s},om=(i,e,n,s)=>{i.forEach(o=>{if(typeof o=="string"){const u=o===""?e:$_(e,o);u.classGroupId=n;return}if(typeof o=="function"){if(oA(o)){om(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([u,f])=>{om(f,$_(e,u),n,s)})})},$_=(i,e)=>{let n=i;return e.split(Um).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},oA=i=>i.isThemeGetter,lA=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(u,f)=>{n.set(u,f),e++,e>i&&(e=0,s=n,n=new Map)};return{get(u){let f=n.get(u);if(f!==void 0)return f;if((f=s.get(u))!==void 0)return o(u,f),f},set(u,f){n.has(u)?n.set(u,f):o(u,f)}}},lm="!",um=":",uA=um.length,cA=i=>{const{prefix:e,experimentalParseClassName:n}=i;let s=o=>{const u=[];let f=0,g=0,p=0,y;for(let K=0;K<o.length;K++){let te=o[K];if(f===0&&g===0){if(te===um){u.push(o.slice(p,K)),p=K+uA;continue}if(te==="/"){y=K;continue}}te==="["?f++:te==="]"?f--:te==="("?g++:te===")"&&g--}const T=u.length===0?o:o.substring(p),w=hA(T),C=w!==T,L=y&&y>p?y-p:void 0;return{modifiers:u,hasImportantModifier:C,baseClassName:w,maybePostfixModifierPosition:L}};if(e){const o=e+um,u=s;s=f=>f.startsWith(o)?u(f.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:f,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=u=>n({className:u,parseClassName:o})}return s},hA=i=>i.endsWith(lm)?i.substring(0,i.length-1):i.startsWith(lm)?i.substring(1):i,fA=i=>{const e=Object.fromEntries(i.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let u=[];return s.forEach(f=>{f[0]==="["||e[f]?(o.push(...u.sort(),f),u=[]):u.push(f)}),o.push(...u.sort()),o}},dA=i=>({cache:lA(i.cacheSize),parseClassName:cA(i),sortModifiers:fA(i),...iA(i)}),mA=/\s+/,gA=(i,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=e,f=[],g=i.trim().split(mA);let p="";for(let y=g.length-1;y>=0;y-=1){const T=g[y],{isExternal:w,modifiers:C,hasImportantModifier:L,baseClassName:K,maybePostfixModifierPosition:te}=n(T);if(w){p=T+(p.length>0?" "+p:p);continue}let X=!!te,ae=s(X?K.substring(0,te):K);if(!ae){if(!X){p=T+(p.length>0?" "+p:p);continue}if(ae=s(K),!ae){p=T+(p.length>0?" "+p:p);continue}X=!1}const se=u(C).join(":"),me=L?se+lm:se,_e=me+ae;if(f.includes(_e))continue;f.push(_e);const ue=o(ae,X);for(let ve=0;ve<ue.length;++ve){const N=ue[ve];f.push(me+N)}p=T+(p.length>0?" "+p:p)}return p};function pA(){let i=0,e,n,s="";for(;i<arguments.length;)(e=arguments[i++])&&(n=P0(e))&&(s&&(s+=" "),s+=n);return s}const P0=i=>{if(typeof i=="string")return i;let e,n="";for(let s=0;s<i.length;s++)i[s]&&(e=P0(i[s]))&&(n&&(n+=" "),n+=e);return n};function yA(i,...e){let n,s,o,u=f;function f(p){const y=e.reduce((T,w)=>w(T),i());return n=dA(y),s=n.cache.get,o=n.cache.set,u=g,g(p)}function g(p){const y=s(p);if(y)return y;const T=gA(p,n);return o(p,T),T}return function(){return u(pA.apply(null,arguments))}}const Nt=i=>{const e=n=>n[i]||[];return e.isThemeGetter=!0,e},U0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,L0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_A=/^\d+\/\d+$/,vA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ja=i=>_A.test(i),Me=i=>!!i&&!Number.isNaN(Number(i)),Mi=i=>!!i&&Number.isInteger(Number(i)),Gd=i=>i.endsWith("%")&&Me(i.slice(0,-1)),Qr=i=>vA.test(i),wA=()=>!0,SA=i=>EA.test(i)&&!TA.test(i),z0=()=>!1,RA=i=>bA.test(i),IA=i=>AA.test(i),CA=i=>!fe(i)&&!de(i),xA=i=>io(i,q0,z0),fe=i=>U0.test(i),ks=i=>io(i,H0,SA),Fd=i=>io(i,kA,Me),Z_=i=>io(i,j0,z0),NA=i=>io(i,B0,IA),Oc=i=>io(i,G0,RA),de=i=>L0.test(i),Sl=i=>so(i,H0),DA=i=>so(i,VA),W_=i=>so(i,j0),OA=i=>so(i,q0),MA=i=>so(i,B0),Mc=i=>so(i,G0,!0),io=(i,e,n)=>{const s=U0.exec(i);return s?s[1]?e(s[1]):n(s[2]):!1},so=(i,e,n=!1)=>{const s=L0.exec(i);return s?s[1]?e(s[1]):n:!1},j0=i=>i==="position"||i==="percentage",B0=i=>i==="image"||i==="url",q0=i=>i==="length"||i==="size"||i==="bg-size",H0=i=>i==="length",kA=i=>i==="number",VA=i=>i==="family-name",G0=i=>i==="shadow",PA=()=>{const i=Nt("color"),e=Nt("font"),n=Nt("text"),s=Nt("font-weight"),o=Nt("tracking"),u=Nt("leading"),f=Nt("breakpoint"),g=Nt("container"),p=Nt("spacing"),y=Nt("radius"),T=Nt("shadow"),w=Nt("inset-shadow"),C=Nt("text-shadow"),L=Nt("drop-shadow"),K=Nt("blur"),te=Nt("perspective"),X=Nt("aspect"),ae=Nt("ease"),se=Nt("animate"),me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_e=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ue=()=>[..._e(),de,fe],ve=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[de,fe,p],R=()=>[ja,"full","auto",...A()],O=()=>[Mi,"none","subgrid",de,fe],M=()=>["auto",{span:["full",Mi,de,fe]},Mi,de,fe],V=()=>[Mi,"auto",de,fe],I=()=>["auto","min","max","fr",de,fe],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ee=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...A()],Z=()=>[ja,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],W=()=>[i,de,fe],Le=()=>[..._e(),W_,Z_,{position:[de,fe]}],x=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",OA,xA,{size:[de,fe]}],ie=()=>[Gd,Sl,ks],ee=()=>["","none","full",y,de,fe],le=()=>["",Me,Sl,ks],Ne=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ve=()=>[Me,Gd,W_,Z_],$e=()=>["","none",K,de,fe],nn=()=>["none",Me,de,fe],dn=()=>["none",Me,de,fe],mn=()=>[Me,de,fe],Sn=()=>[ja,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qr],breakpoint:[Qr],color:[wA],container:[Qr],"drop-shadow":[Qr],ease:["in","out","in-out"],font:[CA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qr],shadow:[Qr],spacing:["px",Me],text:[Qr],"text-shadow":[Qr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ja,fe,de,X]}],container:["container"],columns:[{columns:[Me,fe,de,g]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ue()}],overflow:[{overflow:ve()}],"overflow-x":[{"overflow-x":ve()}],"overflow-y":[{"overflow-y":ve()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Mi,"auto",de,fe]}],basis:[{basis:[ja,"full","auto",g,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,ja,"auto","initial","none",fe]}],grow:[{grow:["",Me,de,fe]}],shrink:[{shrink:["",Me,de,fe]}],order:[{order:[Mi,"first","last","none",de,fe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...Ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ee()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...Ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...Ee(),"baseline"]}],"place-self":[{"place-self":["auto",...Ee()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[g,"screen",...Z()]}],"min-w":[{"min-w":[g,"screen","none",...Z()]}],"max-w":[{"max-w":[g,"screen","none","prose",{screen:[f]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,Sl,ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,de,Fd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gd,fe]}],"font-family":[{font:[DA,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,de,fe]}],"line-clamp":[{"line-clamp":[Me,"none",de,Fd]}],leading:[{leading:[u,...A()]}],"list-image":[{"list-image":["none",de,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",de,ks]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Me,"auto",de,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Le()}],"bg-repeat":[{bg:x()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mi,de,fe],radial:["",de,fe],conic:[Mi,de,fe]},MA,NA]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,de,fe]}],"outline-w":[{outline:["",Me,Sl,ks]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",T,Mc,Oc]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",w,Mc,Oc]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Me,ks]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",C,Mc,Oc]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Me,de,fe]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ve()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Ve()}],"mask-image-t-to-pos":[{"mask-t-to":Ve()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Ve()}],"mask-image-r-to-pos":[{"mask-r-to":Ve()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Ve()}],"mask-image-b-to-pos":[{"mask-b-to":Ve()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Ve()}],"mask-image-l-to-pos":[{"mask-l-to":Ve()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Ve()}],"mask-image-x-to-pos":[{"mask-x-to":Ve()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Ve()}],"mask-image-y-to-pos":[{"mask-y-to":Ve()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[de,fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ve()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_e()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ve()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Le()}],"mask-repeat":[{mask:x()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,fe]}],filter:[{filter:["","none",de,fe]}],blur:[{blur:$e()}],brightness:[{brightness:[Me,de,fe]}],contrast:[{contrast:[Me,de,fe]}],"drop-shadow":[{"drop-shadow":["","none",L,Mc,Oc]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Me,de,fe]}],"hue-rotate":[{"hue-rotate":[Me,de,fe]}],invert:[{invert:["",Me,de,fe]}],saturate:[{saturate:[Me,de,fe]}],sepia:[{sepia:["",Me,de,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",de,fe]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[Me,de,fe]}],"backdrop-contrast":[{"backdrop-contrast":[Me,de,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,de,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,de,fe]}],"backdrop-invert":[{"backdrop-invert":["",Me,de,fe]}],"backdrop-opacity":[{"backdrop-opacity":[Me,de,fe]}],"backdrop-saturate":[{"backdrop-saturate":[Me,de,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,de,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",de,fe]}],ease:[{ease:["linear","initial",ae,de,fe]}],delay:[{delay:[Me,de,fe]}],animate:[{animate:["none",se,de,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[te,de,fe]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:nn()}],"rotate-x":[{"rotate-x":nn()}],"rotate-y":[{"rotate-y":nn()}],"rotate-z":[{"rotate-z":nn()}],scale:[{scale:dn()}],"scale-x":[{"scale-x":dn()}],"scale-y":[{"scale-y":dn()}],"scale-z":[{"scale-z":dn()}],"scale-3d":["scale-3d"],skew:[{skew:mn()}],"skew-x":[{"skew-x":mn()}],"skew-y":[{"skew-y":mn()}],transform:[{transform:[de,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Sn()}],"translate-x":[{"translate-x":Sn()}],"translate-y":[{"translate-y":Sn()}],"translate-z":[{"translate-z":Sn()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,fe]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Me,Sl,ks,Fd]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},UA=yA(PA);function ao(...i){return UA(k0(i))}const LA=Pm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function hn({className:i,variant:e,size:n,asChild:s=!1,...o}){const u=s?O0:"button";return k.jsx(u,{"data-slot":"button",className:ao(LA({variant:e,size:n,className:i})),...o})}function jc({className:i,type:e,...n}){return k.jsx("input",{type:e,"data-slot":"input",className:ao("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...n})}N0();var zA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jA=zA.reduce((i,e)=>{const n=D0(`Primitive.${e}`),s=ge.forwardRef((o,u)=>{const{asChild:f,...g}=o,p=f?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(p,{...g,ref:u})});return s.displayName=`Primitive.${e}`,{...i,[e]:s}},{}),BA="Label",F0=ge.forwardRef((i,e)=>k.jsx(jA.label,{...i,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=i.onMouseDown)==null||o.call(i,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));F0.displayName=BA;var qA=F0;function Kd({className:i,...e}){return k.jsx(qA,{"data-slot":"label",className:ao("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...e})}const HA=Pm("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Zc({className:i,variant:e,...n}){return k.jsx("div",{"data-slot":"alert",role:"alert",className:ao(HA({variant:e}),i),...n})}function Wc({className:i,...e}){return k.jsx("div",{"data-slot":"alert-description",className:ao("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",i),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FA=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),J_=i=>{const e=FA(i);return e.charAt(0).toUpperCase()+e.slice(1)},K0=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),KA=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ge.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...g},p)=>ge.createElement("svg",{ref:p,...QA,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:K0("lucide",o),...!u&&!KA(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,T])=>ge.createElement(y,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=(i,e)=>{const n=ge.forwardRef(({className:s,...o},u)=>ge.createElement(YA,{ref:u,iconNode:e,className:K0(`lucide-${GA(J_(i))}`,`lucide-${i}`,s),...o}));return n.displayName=J_(i),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$A=Yt("arrow-right",XA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jc=Yt("circle-alert",ZA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],JA=Yt("circle-check-big",WA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],tw=Yt("download",ew);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rw=Yt("eye-off",nw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sw=Yt("eye",iw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ow=Yt("file-text",aw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q0=Yt("loader-circle",lw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],cw=Yt("log-out",uw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ev=Yt("message-square",hw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],cm=Yt("mic",fw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mw=Yt("send",dw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],pw=Yt("square",gw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_w=Yt("trash-2",yw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],tv=Yt("upload",vw);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Tw=Yt("volume-2",Ew);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Aw=Yt("volume-x",bw);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=()=>{};var nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Sw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],g=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,g=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,T=u>>2,w=(u&3)<<4|g>>4;let C=(g&15)<<2|y>>6,L=y&63;p||(L=64,f||(C=64)),s.push(n[T],n[w],n[C],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Y0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Sw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],g=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||g==null||y==null||w==null)throw new Rw;const C=u<<2|g>>4;if(s.push(C),y!==64){const L=g<<4&240|y>>2;if(s.push(L),w!==64){const K=y<<6&192|w;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Rw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iw=function(i){const e=Y0(i);return X0.encodeByteArray(e,!0)},eh=function(i){return Iw(i).replace(/\./g,"")},$0=function(i){try{return X0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=()=>Cw().__FIREBASE_DEFAULTS__,Nw=()=>{if(typeof process>"u"||typeof nv>"u")return;const i=nv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Dw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&$0(i[1]);return e&&JSON.parse(e)},Th=()=>{try{return ww()||xw()||Nw()||Dw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Z0=i=>{var e,n;return(n=(e=Th())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},Ow=i=>{const e=Z0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},W0=()=>{var i;return(i=Th())==null?void 0:i.config},J0=i=>{var e;return(e=Th())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[eh(JSON.stringify(n)),eh(JSON.stringify(f)),""].join(".")}const Ml={};function Vw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?i.emulator.push(e):i.prod.push(e);return i}function Pw(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let rv=!1;function tE(i,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Ml[i]===e||Ml[i]||rv)return;Ml[i]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=Vw().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,L){C.setAttribute("width","24"),C.setAttribute("id",L),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{rv=!0,f()},C}function T(C,L){C.setAttribute("id",L),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function w(){const C=Pw(s),L=n("text"),K=document.getElementById(L)||document.createElement("span"),te=n("learnmore"),X=document.getElementById(te)||document.createElement("a"),ae=n("preprendIcon"),se=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const me=C.element;g(me),T(X,te);const _e=y();p(se,ae),me.append(se,K,X,_e),document.body.appendChild(me)}u?(K.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Lw(){var e;const i=(e=Th())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qw(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Hw(){return!Lw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gw(){try{return typeof indexedDB=="object"}catch{return!1}}function Fw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="FirebaseError";class ni extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Kw,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Qw(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new ni(o,g,s)}}function Qw(i,e){return i.replace(Yw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Yw=/\{\$([^}]+)}/g;function Xw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ls(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(iv(u)&&iv(f)){if(!Ls(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function iv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Rl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Il(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function $w(i,e){const n=new Zw(i,e);return n.subscribe.bind(n)}class Zw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ww(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ww(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(i){return i&&i._delegate?i._delegate:i}class zs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Mw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tS(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(i){return i===Vs?void 0:i}function tS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const rS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},iS=ze.INFO,sS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},aS=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=sS[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=iS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const oS=(i,e)=>e.some(n=>i instanceof n);let sv,av;function lS(){return sv||(sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,hm=new WeakMap,rE=new WeakMap,Yd=new WeakMap,zm=new WeakMap;function cS(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(ji(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&nE.set(n,i)}).catch(()=>{}),zm.set(e,i),e}function hS(i){if(hm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});hm.set(i,e)}let fm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return hm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||rE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function fS(i){fm=i(fm)}function dS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Xd(this),e,...n);return rE.set(s,e.sort?e.sort():[e]),ji(s)}:uS().includes(i)?function(...e){return i.apply(Xd(this),e),ji(nE.get(this))}:function(...e){return ji(i.apply(Xd(this),e))}}function mS(i){return typeof i=="function"?dS(i):(i instanceof IDBTransaction&&hS(i),oS(i,lS())?new Proxy(i,fm):i)}function ji(i){if(i instanceof IDBRequest)return cS(i);if(Yd.has(i))return Yd.get(i);const e=mS(i);return e!==i&&(Yd.set(i,e),zm.set(e,i)),e}const Xd=i=>zm.get(i);function gS(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),g=ji(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ji(f.result),p.oldVersion,p.newVersion,ji(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const pS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],$d=new Map;function ov(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=yS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||pS.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return $d.set(e,u),u}fS(i=>({...i,get:(e,n,s)=>ov(e,n)||i.get(e,n,s),has:(e,n)=>!!ov(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vS(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dm="@firebase/app",lv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Lm("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",bS="@firebase/analytics",AS="@firebase/app-check-compat",wS="@firebase/app-check",SS="@firebase/auth",RS="@firebase/auth-compat",IS="@firebase/database",CS="@firebase/data-connect",xS="@firebase/database-compat",NS="@firebase/functions",DS="@firebase/functions-compat",OS="@firebase/installations",MS="@firebase/installations-compat",kS="@firebase/messaging",VS="@firebase/messaging-compat",PS="@firebase/performance",US="@firebase/performance-compat",LS="@firebase/remote-config",zS="@firebase/remote-config-compat",jS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",GS="@firebase/firestore-compat",FS="firebase",KS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",QS={[dm]:"fire-core",[ES]:"fire-core-compat",[bS]:"fire-analytics",[TS]:"fire-analytics-compat",[wS]:"fire-app-check",[AS]:"fire-app-check-compat",[SS]:"fire-auth",[RS]:"fire-auth-compat",[IS]:"fire-rtdb",[CS]:"fire-data-connect",[xS]:"fire-rtdb-compat",[NS]:"fire-fn",[DS]:"fire-fn-compat",[OS]:"fire-iid",[MS]:"fire-iid-compat",[kS]:"fire-fcm",[VS]:"fire-fcm-compat",[PS]:"fire-perf",[US]:"fire-perf-compat",[LS]:"fire-rc",[zS]:"fire-rc-compat",[jS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[GS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,YS=new Map,gm=new Map;function uv(i,e){try{i.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Za(i){const e=i.name;if(gm.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,i);for(const n of th.values())uv(n,i);for(const n of YS.values())uv(n,i);return!0}function jm(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function zn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Zl("app","Firebase",XS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=KS;function iE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:mm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Bi.create("bad-app-name",{appName:String(o)});if(n||(n=W0()),!n)throw Bi.create("no-options");const u=th.get(o);if(u){if(Ls(n,u.options)&&Ls(s,u.config))return u;throw Bi.create("duplicate-app",{appName:o})}const f=new nS(o);for(const p of gm.values())f.addComponent(p);const g=new $S(n,s,f);return th.set(o,g),g}function sE(i=mm){const e=th.get(i);if(!e&&i===mm&&W0())return iE();if(!e)throw Bi.create("no-app",{appName:i});return e}function qi(i,e,n){let s=QS[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(f.join(" "));return}Za(new zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebase-heartbeat-database",WS=1,jl="firebase-heartbeat-store";let Zd=null;function aE(){return Zd||(Zd=gS(ZS,WS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Bi.create("idb-open",{originalErrorMessage:i.message})})),Zd}async function JS(i){try{const n=(await aE()).transaction(jl),s=await n.objectStore(jl).get(oE(i));return await n.done,s}catch(e){if(e instanceof ni)Wr.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function cv(i,e){try{const s=(await aE()).transaction(jl,"readwrite");await s.objectStore(jl).put(e,oE(i)),await s.done}catch(n){if(n instanceof ni)Wr.warn(n.message);else{const s=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(s.message)}}}function oE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1024,tR=30;class nR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=hv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>tR){const f=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hv(),{heartbeatsToSend:s,unsentEntries:o}=rR(this._heartbeatsCache.heartbeats),u=eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Wr.warn(n),""}}}function hv(){return new Date().toISOString().substring(0,10)}function rR(i,e=eR){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),fv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),fv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gw()?Fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fv(i){return eh(JSON.stringify({version:2,heartbeats:i})).length}function sR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(i){Za(new zs("platform-logger",e=>new _S(e),"PRIVATE")),Za(new zs("heartbeat",e=>new nR(e),"PRIVATE")),qi(dm,lv,i),qi(dm,lv,"esm2020"),qi("fire-js","")}aR("");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oR=lE,uE=new Zl("auth","Firebase",lE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Lm("@firebase/auth");function lR(i,...e){nh.logLevel<=ze.WARN&&nh.warn(`Auth (${lo}): ${i}`,...e)}function Bc(i,...e){nh.logLevel<=ze.ERROR&&nh.error(`Auth (${lo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(i,...e){throw Bm(i,...e)}function mr(i,...e){return Bm(i,...e)}function cE(i,e,n){const s={...oR(),[e]:n};return new Zl("auth","Firebase",s).create(e,{appName:i.name})}function $r(i){return cE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return uE.create(i,...e)}function Se(i,e,...n){if(!i)throw Bm(e,...n)}function Yr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Bc(e),new Error(e)}function Jr(i,e){i||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function uR(){return dv()==="http:"||dv()==="https:"}function dv(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uR()||jw()||"connection"in navigator)?navigator.onLine:!0}function hR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=Uw()||Bw()}get(){return cR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(i,e){Jr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mR=new Jl(3e4,6e4);function ri(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ii(i,e,n,s,o={}){return fE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=Wl({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...u};return zw()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&oo(i.emulatorConfig.host)&&(y.credentials="include"),hE.fetch()(await dE(i,i.config.apiHost,n,g),y)})}async function fE(i,e,n){i._canInitEmulator=!1;const s={...fR,...e};try{const o=new pR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw kc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw kc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw kc(i,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw cE(i,T,y);$n(i,T)}}catch(o){if(o instanceof ni)throw o;$n(i,"network-request-failed",{message:String(o)})}}async function eu(i,e,n,s,o={}){const u=await ii(i,e,n,s,o);return"mfaPendingCredential"in u&&$n(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function dE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?qm(i.config,o):`${i.config.apiScheme}://${o}`;return dR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function gR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mr(this.auth,"network-request-failed")),mR.get())})}}function kc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mr(i,e,s);return o.customData._tokenResponse=n,o}function mv(i){return i!==void 0&&i.enterprise!==void 0}class yR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _R(i,e){return ii(i,"GET","/v2/recaptchaConfig",ri(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(i,e){return ii(i,"POST","/v1/accounts:delete",e)}async function rh(i,e){return ii(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ER(i,e=!1){const n=wn(i),s=await n.getIdToken(e),o=Hm(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:kl(Wd(o.auth_time)),issuedAtTime:kl(Wd(o.iat)),expirationTime:kl(Wd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Wd(i){return Number(i)*1e3}function Hm(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$0(n);return o?JSON.parse(o):(Bc("Failed to decode base64 JWT payload"),null)}catch(o){return Bc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function gv(i){const e=Hm(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ni&&TR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function TR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(i){var w;const e=i.auth,n=await i.getIdToken(),s=await Bl(i,rh(e,{idToken:n}));Se(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=(w=o.providerUserInfo)!=null&&w.length?mE(o.providerUserInfo):[],f=wR(i.providerData,u),g=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(f!=null&&f.length),y=g?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,T)}async function AR(i){const e=wn(i);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function mE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(i,e){const n=await fE(i,{},async()=>{const s=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await dE(i,o,"/v1/token",`key=${u}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return i.emulatorConfig&&oo(i.emulatorConfig.host)&&(p.credentials="include"),hE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RR(i,e){return ii(i,"POST","/v2/accounts:revokeToken",ri(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await SR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Qa;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new bR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ER(this,e)}reload(){return AR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await Bl(this,vR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:C,isAnonymous:L,providerData:K,stsTokenManager:te}=n;Se(w&&te,e,"internal-error");const X=Qa.fromJSON(this.name,te);Se(typeof w=="string",e,"internal-error"),ki(s,e.name),ki(o,e.name),Se(typeof C=="boolean",e,"internal-error"),Se(typeof L=="boolean",e,"internal-error"),ki(u,e.name),ki(f,e.name),ki(g,e.name),ki(p,e.name),ki(y,e.name),ki(T,e.name);const ae=new Yn({uid:w,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:X,createdAt:y,lastLoginAt:T});return K&&Array.isArray(K)&&(ae.providerData=K.map(se=>({...se}))),p&&(ae._redirectEventId=p),ae}static async _fromIdTokenResponse(e,n,s=!1){const o=new Qa;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?mE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new Qa;g.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;function Xr(i){Jr(i instanceof Function,"Expected a class definition");let e=pv.get(i);return e?(Jr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,pv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gE.type="NONE";const yv=gE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(i,e,n){return`firebase:${i}:${e}:${n}`}class Ya{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ya(Xr(yv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Xr(yv);const f=qc(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const T=await y._get(f);if(T){let w;if(typeof T=="string"){const C=await rh(e,{idToken:T}).catch(()=>{});if(!C)break;w=await Yn._fromGetAccountInfoResponse(e,C,T)}else w=Yn._fromJSON(e,T);y!==u&&(g=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ya(u,e,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ya(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TE(e))return"Blackberry";if(bE(e))return"Webos";if(yE(e))return"Safari";if((e.includes("chrome/")||_E(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function pE(i=tn()){return/firefox\//i.test(i)}function yE(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _E(i=tn()){return/crios\//i.test(i)}function vE(i=tn()){return/iemobile/i.test(i)}function EE(i=tn()){return/android/i.test(i)}function TE(i=tn()){return/blackberry/i.test(i)}function bE(i=tn()){return/webos/i.test(i)}function Gm(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function IR(i=tn()){var e;return Gm(i)&&!!((e=window.navigator)!=null&&e.standalone)}function CR(){return qw()&&document.documentMode===10}function AE(i=tn()){return Gm(i)||EE(i)||bE(i)||TE(i)||/windows phone/i.test(i)||vE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(i,e=[]){let n;switch(i){case"Browser":n=_v(tn());break;case"Worker":n=`${_v(tn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(i,e={}){return ii(i,"GET","/v2/passwordPolicy",ri(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=6;class OR{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vv(this),this.idTokenSubscription=new vv(this),this.beforeStateQueue=new xR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject($r(this));const n=e?wn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NR(this),n=new OR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await RR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&lR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zi(i){return wn(i)}class vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=$w(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kR(i){bh=i}function SE(i){return bh.loadJS(i)}function VR(){return bh.recaptchaEnterpriseScript}function PR(){return bh.gapiScript}function UR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class LR{constructor(){this.enterprise=new zR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jR="recaptcha-enterprise",RE="NO_RECAPTCHA";class BR{constructor(e){this.type=jR,this.auth=Zi(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{_R(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new yR(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function o(u,f,g){const p=window.grecaptcha;mv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(RE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!n&&mv(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VR();p.length!==0&&(p+=g),SE(p).then(()=>{o(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function Ev(i,e,n,s=!1,o=!1){const u=new BR(i);let f;if(o)f=RE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function sh(i,e,n,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Ev(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Ev(i,e,n,n==="getOobCode");return s(i,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(i,e){const n=jm(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ls(u,e??{}))return o;$n(o,"already-initialized")}return n.initialize({options:e})}function HR(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function GR(i,e,n){const s=Zi(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=IE(e),{host:f,port:g}=FR(e),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Ls(y,s.config.emulator)&&Ls(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,oo(f)?(eE(`${u}//${f}${p}`),tE("Auth",!0)):KR()}function IE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function FR(i){const e=IE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Tv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Tv(f)}}}function Tv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function KR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function QR(i,e){return ii(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(i,e){return eu(i,"POST","/v1/accounts:signInWithPassword",ri(i,e))}async function XR(i,e){return ii(i,"POST","/v1/accounts:sendOobCode",ri(i,e))}async function $R(i,e){return XR(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(i,e){return eu(i,"POST","/v1/accounts:signInWithEmailLink",ri(i,e))}async function WR(i,e){return eu(i,"POST","/v1/accounts:signInWithEmailLink",ri(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Fm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ql(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ql(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sh(e,n,"signInWithPassword",YR);case"emailLink":return ZR(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sh(e,s,"signUpPassword",QR);case"emailLink":return WR(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(i,e){return eu(i,"POST","/v1/accounts:signInWithIdp",ri(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="http://localhost";class js extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:JR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t2(i){const e=Rl(Il(i)).link,n=e?Rl(Il(e)).deep_link_id:null,s=Rl(Il(i)).deep_link_id;return(s?Rl(Il(s)).link:null)||s||n||e||i}class Km{constructor(e){const n=Rl(Il(e)),s=n.apiKey??null,o=n.oobCode??null,u=e2(n.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=t2(e);try{return new Km(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,n){return ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Km.parseLink(n);return Se(s,"argument-error"),ql._fromEmailAndCode(e,s.code,s.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends CE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends tu{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Pi.credential(n,s)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends tu{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends tu{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Li.credential(n,s)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i,e){return eu(i,"POST","/v1/accounts:signUp",ri(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),f=bv(s);return new Bs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=bv(s);return new Bs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function bv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends ni{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ah(e,n,s,o)}}function xE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(i,u,e,s):u})}async function r2(i,e,n=!1){const s=await Bl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Bs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(i,e,n=!1){const{auth:s}=i;if(zn(s.app))return Promise.reject($r(s));const o="reauthenticate";try{const u=await Bl(i,xE(s,o,e,i),n);Se(u.idToken,s,"internal-error");const f=Hm(u.idToken);Se(f,s,"internal-error");const{sub:g}=f;return Se(i.uid===g,s,"user-mismatch"),Bs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$n(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(i,e,n=!1){if(zn(i.app))return Promise.reject($r(i));const s="signIn",o=await xE(i,s,e),u=await Bs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function s2(i,e){return NE(Zi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(i){const e=Zi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a2(i,e,n){const s=Zi(i);await sh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$R)}async function o2(i,e,n){if(zn(i.app))return Promise.reject($r(i));const s=Zi(i),f=await sh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&DE(i),p}),g=await Bs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function l2(i,e,n){return zn(i.app)?Promise.reject($r(i)):s2(wn(i),uo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&DE(i),s})}function u2(i,e,n,s){return wn(i).onIdTokenChanged(e,n,s)}function c2(i,e,n){return wn(i).beforeAuthStateChanged(e,n)}function h2(i,e,n,s){return wn(i).onAuthStateChanged(e,n,s)}function Av(i){return wn(i).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=1e3,d2=10;class ME extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);CR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,d2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const m2=ME;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kE.type="SESSION";const VE=kE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ah(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async y=>y(n.origin,u)),p=await g2(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=Qm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const C=w;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(C.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function y2(i){gr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function _2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function E2(){return PE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebaseLocalStorageDb",T2=1,lh="firebaseLocalStorage",LE="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(i,e){return i.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function b2(){const i=indexedDB.deleteDatabase(UE);return new nu(i).toPromise()}function _m(){const i=indexedDB.open(UE,T2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(lh,{keyPath:LE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(lh)?e(s):(s.close(),await b2(),e(await _m()))})})}async function wv(i,e,n){const s=wh(i,!0).put({[LE]:e,value:n});return new nu(s).toPromise()}async function A2(i,e){const n=wh(i,!1).get(e),s=await new nu(n).toPromise();return s===void 0?null:s.value}function Sv(i,e){const n=wh(i,!0).delete(e);return new nu(n).toPromise()}const w2=800,S2=3;class zE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>S2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(E2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await _2(),!this.activeServiceWorker)return;this.sender=new p2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await wv(e,oh,"1"),await Sv(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>wv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>A2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=wh(o,!1).getAll();return new nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zE.type="LOCAL";const R2=zE;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(i,e){return e?Xr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function C2(i){return NE(i.auth,new Ym(i),i.bypassAuthState)}function x2(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),i2(n,new Ym(i),i.bypassAuthState)}async function N2(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),r2(n,new Ym(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return x2;default:$n(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new Jl(2e3,1e4);class Ka extends jE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D2.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="pendingRedirect",Hc=new Map;class M2 extends jE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const s=await k2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k2(i,e){const n=U2(e),s=P2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function V2(i,e){Hc.set(i._key(),e)}function P2(i){return Xr(i._redirectPersistence)}function U2(i){return qc(O2,i.config.apiKey,i.name)}async function L2(i,e,n=!1){if(zn(i.app))return Promise.reject($r(i));const s=Zi(i),o=I2(s,e),f=await new M2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=10*60*1e3;class j2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!BE(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(e))}saveEventToCache(e){this.cachedEventUids.add(Rv(e)),this.lastProcessedEventTime=Date.now()}}function Rv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function BE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(i,e={}){return ii(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G2=/^https?/;async function F2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await q2(i);for(const n of e)try{if(K2(n))return}catch{}$n(i,"unauthorized-domain")}function K2(i){const e=pm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!G2.test(n))return!1;if(H2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Jl(3e4,6e4);function Iv(){const i=gr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Y2(i){return new Promise((e,n)=>{var o,u,f;function s(){Iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iv(),n(mr(i,"network-request-failed"))},timeout:Q2.get()})}if((u=(o=gr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=gr().gapi)!=null&&f.load)s();else{const g=UR("iframefcb");return gr()[g]=()=>{gapi.load?s():n(mr(i,"network-request-failed"))},SE(`${PR()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function X2(i){return Gc=Gc||Y2(i),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new Jl(5e3,15e3),Z2="__/auth/iframe",W2="emulator/auth/iframe",J2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tI(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?qm(e,W2):`https://${i.config.authDomain}/${Z2}`,s={apiKey:e.apiKey,appName:i.name,v:lo},o=eI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Wl(s).slice(1)}`}async function nI(i){const e=await X2(i),n=gr().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:tI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=mr(i,"network-request-failed"),g=gr().setTimeout(()=>{u(f)},$2.get());function p(){gr().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iI=500,sI=600,aI="_blank",oI="http://localhost";class Cv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lI(i,e,n,s=iI,o=sI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...rI,width:s.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(g=_E(y)?aI:n),pE(y)&&(e=e||oI,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[L,K])=>`${C}${L}=${K},`,"");if(IR(y)&&g!=="_self")return uI(e||"",g),new Cv(null);const w=window.open(e||"",g,T);Se(w,i,"popup-blocked");try{w.focus()}catch{}return new Cv(w)}function uI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="__/auth/handler",hI="emulator/auth/handler",fI=encodeURIComponent("fac");async function xv(i,e,n,s,o,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:lo,eventId:o};if(e instanceof CE){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Xw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof tu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}i.tenantId&&(f.tid=i.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await i._getAppCheckToken(),y=p?`#${fI}=${encodeURIComponent(p)}`:"";return`${dI(i)}?${Wl(g).slice(1)}${y}`}function dI({config:i}){return i.emulator?qm(i,hI):`https://${i.authDomain}/${cI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class mI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=L2,this._overrideRedirectResult=V2}async _openPopup(e,n,s,o){var f;Jr((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await xv(e,n,s,pm(),o);return lI(e,u,Qm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await xv(e,n,s,pm(),o);return y2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Jr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await nI(e),s=new j2(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jd,{type:Jd},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[Jd];u!==void 0&&n(!!u),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AE()||yE()||Gm()}}const gI=mI;var Nv="@firebase/auth",Dv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _I(i){Za(new zs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(i)},y=new MR(s,o,u,p);return HR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Za(new zs("auth-internal",e=>{const n=Zi(e.getProvider("auth").getImmediate());return(s=>new pI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(Nv,Dv,yI(i)),qi(Nv,Dv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=5*60,EI=J0("authIdTokenMaxAge")||vI;let Ov=null;const TI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EI)return;const o=n==null?void 0:n.token;Ov!==o&&(Ov=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bI(i=sE()){const e=jm(i,"auth");if(e.isInitialized())return e.getImmediate();const n=qR(i,{popupRedirectResolver:gI,persistence:[R2,m2,VE]}),s=J0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=TI(u.toString());c2(n,f,()=>f(n.currentUser)),u2(n,g=>f(g))}}const o=Z0("auth");return o&&GR(n,`http://${o}`),n}function AI(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}kR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=mr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",AI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_I("Browser");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,qE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.D=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,M,V){for(var I=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)I[ce-2]=arguments[ce];return A.prototype[M].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);var O=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)O[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],M=N.g[2];var V=N.g[3],I=A+(V^R&(M^V))+O[0]+3614090360&4294967295;A=R+(I<<7&4294967295|I>>>25),I=V+(M^A&(R^M))+O[1]+3905402710&4294967295,V=A+(I<<12&4294967295|I>>>20),I=M+(R^V&(A^R))+O[2]+606105819&4294967295,M=V+(I<<17&4294967295|I>>>15),I=R+(A^M&(V^A))+O[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(V^R&(M^V))+O[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=V+(M^A&(R^M))+O[5]+1200080426&4294967295,V=A+(I<<12&4294967295|I>>>20),I=M+(R^V&(A^R))+O[6]+2821735955&4294967295,M=V+(I<<17&4294967295|I>>>15),I=R+(A^M&(V^A))+O[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(V^R&(M^V))+O[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=V+(M^A&(R^M))+O[9]+2336552879&4294967295,V=A+(I<<12&4294967295|I>>>20),I=M+(R^V&(A^R))+O[10]+4294925233&4294967295,M=V+(I<<17&4294967295|I>>>15),I=R+(A^M&(V^A))+O[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(V^R&(M^V))+O[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=V+(M^A&(R^M))+O[13]+4254626195&4294967295,V=A+(I<<12&4294967295|I>>>20),I=M+(R^V&(A^R))+O[14]+2792965006&4294967295,M=V+(I<<17&4294967295|I>>>15),I=R+(A^M&(V^A))+O[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(M^V&(R^M))+O[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=V+(R^M&(A^R))+O[6]+3225465664&4294967295,V=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(V^A))+O[11]+643717713&4294967295,M=V+(I<<14&4294967295|I>>>18),I=R+(V^A&(M^V))+O[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^V&(R^M))+O[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=V+(R^M&(A^R))+O[10]+38016083&4294967295,V=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(V^A))+O[15]+3634488961&4294967295,M=V+(I<<14&4294967295|I>>>18),I=R+(V^A&(M^V))+O[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^V&(R^M))+O[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=V+(R^M&(A^R))+O[14]+3275163606&4294967295,V=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(V^A))+O[3]+4107603335&4294967295,M=V+(I<<14&4294967295|I>>>18),I=R+(V^A&(M^V))+O[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^V&(R^M))+O[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=V+(R^M&(A^R))+O[2]+4243563512&4294967295,V=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(V^A))+O[7]+1735328473&4294967295,M=V+(I<<14&4294967295|I>>>18),I=R+(V^A&(M^V))+O[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(R^M^V)+O[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=V+(A^R^M)+O[8]+2272392833&4294967295,V=A+(I<<11&4294967295|I>>>21),I=M+(V^A^R)+O[11]+1839030562&4294967295,M=V+(I<<16&4294967295|I>>>16),I=R+(M^V^A)+O[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^V)+O[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=V+(A^R^M)+O[4]+1272893353&4294967295,V=A+(I<<11&4294967295|I>>>21),I=M+(V^A^R)+O[7]+4139469664&4294967295,M=V+(I<<16&4294967295|I>>>16),I=R+(M^V^A)+O[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^V)+O[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=V+(A^R^M)+O[0]+3936430074&4294967295,V=A+(I<<11&4294967295|I>>>21),I=M+(V^A^R)+O[3]+3572445317&4294967295,M=V+(I<<16&4294967295|I>>>16),I=R+(M^V^A)+O[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^V)+O[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=V+(A^R^M)+O[12]+3873151461&4294967295,V=A+(I<<11&4294967295|I>>>21),I=M+(V^A^R)+O[15]+530742520&4294967295,M=V+(I<<16&4294967295|I>>>16),I=R+(M^V^A)+O[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(M^(R|~V))+O[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=V+(R^(A|~M))+O[7]+1126891415&4294967295,V=A+(I<<10&4294967295|I>>>22),I=M+(A^(V|~R))+O[14]+2878612391&4294967295,M=V+(I<<15&4294967295|I>>>17),I=R+(V^(M|~A))+O[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~V))+O[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=V+(R^(A|~M))+O[3]+2399980690&4294967295,V=A+(I<<10&4294967295|I>>>22),I=M+(A^(V|~R))+O[10]+4293915773&4294967295,M=V+(I<<15&4294967295|I>>>17),I=R+(V^(M|~A))+O[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~V))+O[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=V+(R^(A|~M))+O[15]+4264355552&4294967295,V=A+(I<<10&4294967295|I>>>22),I=M+(A^(V|~R))+O[6]+2734768916&4294967295,M=V+(I<<15&4294967295|I>>>17),I=R+(V^(M|~A))+O[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~V))+O[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=V+(R^(A|~M))+O[11]+3174756917&4294967295,V=A+(I<<10&4294967295|I>>>22),I=M+(A^(V|~R))+O[2]+718787259&4294967295,M=V+(I<<15&4294967295|I>>>17),I=R+(V^(M|~A))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var R=A-this.blockSize,O=this.B,M=this.h,V=0;V<A;){if(M==0)for(;V<=R;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<A;)if(O[M++]=N.charCodeAt(V++),M==this.blockSize){o(this,O),M=0;break}}else for(;V<A;)if(O[M++]=N[V++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=A},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var R=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=R&255,R/=256;for(this.u(N),N=Array(16),A=R=0;4>A;++A)for(var O=0;32>O;O+=8)N[R++]=this.g[A]>>>O&255;return N};function u(N,A){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function f(N,A){this.h=A;for(var R=[],O=!0,M=N.length-1;0<=M;M--){var V=N[M]|0;O&&V==A||(R[M]=V,O=!1)}this.g=R}var g={};function p(N){return-128<=N&&128>N?u(N,function(A){return new f([A|0],0>A?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return X(y(-N));for(var A=[],R=1,O=0;N>=R;O++)A[O]=N/R|0,R*=4294967296;return new f(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return X(T(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(A,8)),O=w,M=0;M<N.length;M+=8){var V=Math.min(8,N.length-M),I=parseInt(N.substring(M,M+V),A);8>V?(V=y(Math.pow(A,V)),O=O.j(V).add(y(I))):(O=O.j(R),O=O.add(y(I)))}return O}var w=p(0),C=p(1),L=p(16777216);i=f.prototype,i.m=function(){if(te(this))return-X(this).m();for(var N=0,A=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*A,A*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(K(this))return"0";if(te(this))return"-"+X(this).toString(N);for(var A=y(Math.pow(N,6)),R=this,O="";;){var M=_e(R,A).g;R=ae(R,M.j(A));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=M,K(R))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function K(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function te(N){return N.h==-1}i.l=function(N){return N=ae(this,N),te(N)?-1:K(N)?0:1};function X(N){for(var A=N.g.length,R=[],O=0;O<A;O++)R[O]=~N.g[O];return new f(R,~N.h).add(C)}i.abs=function(){return te(this)?X(this):this},i.add=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],O=0,M=0;M<=A;M++){var V=O+(this.i(M)&65535)+(N.i(M)&65535),I=(V>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=I>>>16,V&=65535,I&=65535,R[M]=I<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ae(N,A){return N.add(X(A))}i.j=function(N){if(K(this)||K(N))return w;if(te(this))return te(N)?X(this).j(X(N)):X(X(this).j(N));if(te(N))return X(this.j(X(N)));if(0>this.l(L)&&0>N.l(L))return y(this.m()*N.m());for(var A=this.g.length+N.g.length,R=[],O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var V=this.i(O)>>>16,I=this.i(O)&65535,ce=N.i(M)>>>16,Ee=N.i(M)&65535;R[2*O+2*M]+=I*Ee,se(R,2*O+2*M),R[2*O+2*M+1]+=V*Ee,se(R,2*O+2*M+1),R[2*O+2*M+1]+=I*ce,se(R,2*O+2*M+1),R[2*O+2*M+2]+=V*ce,se(R,2*O+2*M+2)}for(O=0;O<A;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=A;O<2*A;O++)R[O]=0;return new f(R,0)};function se(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function me(N,A){this.g=N,this.h=A}function _e(N,A){if(K(A))throw Error("division by zero");if(K(N))return new me(w,w);if(te(N))return A=_e(X(N),A),new me(X(A.g),X(A.h));if(te(A))return A=_e(N,X(A)),new me(X(A.g),A.h);if(30<N.g.length){if(te(N)||te(A))throw Error("slowDivide_ only works with positive integers.");for(var R=C,O=A;0>=O.l(N);)R=ue(R),O=ue(O);var M=ve(R,1),V=ve(O,1);for(O=ve(O,2),R=ve(R,2);!K(O);){var I=V.add(O);0>=I.l(N)&&(M=M.add(R),V=I),O=ve(O,1),R=ve(R,1)}return A=ae(N,M.j(A)),new me(M,A)}for(M=w;0<=N.l(A);){for(R=Math.max(1,Math.floor(N.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=y(R),I=V.j(A);te(I)||0<I.l(N);)R-=O,V=y(R),I=V.j(A);K(V)&&(V=C),M=M.add(V),N=ae(N,I)}return new me(M,N)}i.A=function(N){return _e(this,N).h},i.and=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)&N.i(O);return new f(R,this.h&N.h)},i.or=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)|N.i(O);return new f(R,this.h|N.h)},i.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)^N.i(O);return new f(R,this.h^N.h)};function ue(N){for(var A=N.g.length+1,R=[],O=0;O<A;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(R,N.h)}function ve(N,A){var R=A>>5;A%=32;for(var O=N.g.length-R,M=[],V=0;V<O;V++)M[V]=0<A?N.i(V+R)>>>A|N.i(V+R+1)<<32-A:N.i(V+R);return new f(M,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,qE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Hi=f}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HE,Cl,GE,Fc,vm,FE,KE,QE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in _))break e;_=_[U]}c=c[c.length-1],b=_[c],m=m(b),m!=b&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,b=!1,U={next:function(){if(!b&&_<c.length){var G=_++;return{value:m(G,c[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function T(c,m,_){return c.call.apply(c.bind,arguments)}function w(c,m,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(m,U)}}return function(){return c.apply(m,arguments)}}function C(c,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,C.apply(null,arguments)}function L(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function K(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,U,G){for(var re=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)re[qe-2]=arguments[qe];return m.prototype[U].apply(b,re)}}function te(c){const m=c.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=c[b];return _}return[]}function X(c,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const U=c.length||0,G=b.length||0;c.length=U+G;for(let re=0;re<G;re++)c[U+re]=b[re]}else c.push(b)}}class ae{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(c){return/^[\s\xa0]*$/.test(c)}function me(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var ue=me().indexOf("Gecko")!=-1&&!(me().toLowerCase().indexOf("webkit")!=-1&&me().indexOf("Edge")==-1)&&!(me().indexOf("Trident")!=-1||me().indexOf("MSIE")!=-1)&&me().indexOf("Edge")==-1;function ve(c,m,_){for(const b in c)m.call(_,c[b],b,c)}function N(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function A(c){const m={};for(const _ in c)m[_]=c[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)c[_]=b[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function M(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function V(c){g.setTimeout(()=>{throw c},0)}function I(){var c=Le;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,_){const b=Ee.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Ee=new ae(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,W=!1,Le=new ce,x=()=>{const c=g.Promise.resolve(void 0);Z=()=>{c.then(J)}};var J=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){V(_)}var m=Ee;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}W=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return c}();function Ne(c,m){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(ue){e:{try{_e(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}K(Ne,ee);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),$e=0;function nn(c,m,_,b,U){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=U,this.key=++$e,this.da=this.fa=!1}function dn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mn(c){this.src=c,this.g={},this.h=0}mn.prototype.add=function(c,m,_,b,U){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var re=Wi(c,m,b,U);return-1<re?(m=c[re],_||(m.fa=!1)):(m=new nn(m,this.src,G,!!b,U),m.fa=_,c.push(m)),m};function Sn(c,m){var _=m.type;if(_ in c.g){var b=c.g[_],U=Array.prototype.indexOf.call(b,m,void 0),G;(G=0<=U)&&Array.prototype.splice.call(b,U,1),G&&(dn(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wi(c,m,_,b){for(var U=0;U<c.length;++U){var G=c[U];if(!G.da&&G.listener==m&&G.capture==!!_&&G.ha==b)return U}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),go={};function lu(c,m,_,b,U){if(Array.isArray(m)){for(var G=0;G<m.length;G++)lu(c,m[G],_,b,U);return null}return _=uu(_),c&&c[Ve]?c.K(m,_,y(b)?!!b.capture:!1,U):Rn(c,m,_,!1,b,U)}function Rn(c,m,_,b,U,G){if(!m)throw Error("Invalid event type");var re=y(U)?!!U.capture:!!U,qe=Xs(c);if(qe||(c[Ji]=qe=new mn(c)),_=qe.add(m,_,b,re,G),_.proxy)return _;if(b=Uh(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)le||(U=re),U===void 0&&(U=!1),c.addEventListener(m.toString(),b,U);else if(c.attachEvent)c.attachEvent(es(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Uh(){function c(_){return m.call(c.src,c.listener,_)}const m=Lh;return c}function po(c,m,_,b,U){if(Array.isArray(m))for(var G=0;G<m.length;G++)po(c,m[G],_,b,U);else b=y(b)?!!b.capture:!!b,_=uu(_),c&&c[Ve]?(c=c.i,m=String(m).toString(),m in c.g&&(G=c.g[m],_=Wi(G,_,b,U),-1<_&&(dn(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[m],c.h--)))):c&&(c=Xs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Wi(m,_,b,U)),(_=-1<c?m[c]:null)&&Ys(_))}function Ys(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ve])Sn(m.i,c);else{var _=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(_,b,c.capture):m.detachEvent?m.detachEvent(es(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=Xs(m))?(Sn(_,c),_.h==0&&(_.src=null,m[Ji]=null)):dn(c)}}}function es(c){return c in go?go[c]:go[c]="on"+c}function Lh(c,m){if(c.da)c=!0;else{m=new Ne(m,this);var _=c.listener,b=c.ha||c.src;c.fa&&Ys(c),c=_.call(b,m)}return c}function Xs(c){return c=c[Ji],c instanceof mn?c:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function uu(c){return typeof c=="function"?c:(c[yo]||(c[yo]=function(m){return c.handleEvent(m)}),c[yo])}function ft(){ie.call(this),this.i=new mn(this),this.M=this,this.F=null}K(ft,ie),ft.prototype[Ve]=!0,ft.prototype.removeEventListener=function(c,m,_,b){po(this,c,m,_,b)};function Ze(c,m){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new ee(m,c);else if(m instanceof ee)m.target=m.target||c;else{var U=m;m=new ee(b,c),O(m,U)}if(U=!0,_)for(var G=_.length-1;0<=G;G--){var re=m.g=_[G];U=gn(re,b,!0,m)&&U}if(re=m.g=c,U=gn(re,b,!0,m)&&U,U=gn(re,b,!1,m)&&U,_)for(G=0;G<_.length;G++)re=m.g=_[G],U=gn(re,b,!1,m)&&U}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],b=0;b<_.length;b++)dn(_[b]);delete c.g[m],c.h--}}this.F=null},ft.prototype.K=function(c,m,_,b){return this.i.add(String(c),m,!1,_,b)},ft.prototype.L=function(c,m,_,b){return this.i.add(String(c),m,!0,_,b)};function gn(c,m,_,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,G=0;G<m.length;++G){var re=m[G];if(re&&!re.da&&re.capture==_){var qe=re.listener,Rt=re.ha||re.src;re.fa&&Sn(c.i,re),U=qe.call(Rt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Xt(c,m,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(c,m||0)}function cu(c){c.g=Xt(()=>{c.g=null,c.i&&(c.i=!1,cu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class zh extends ie{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){ie.call(this),this.h=c,this.g={}}K(ts,ie);var ns=[];function rs(c){ve(c.g,function(m,_){this.g.hasOwnProperty(_)&&Ys(m)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),rs(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=g.JSON.stringify,$s=g.JSON.parse,is=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function _o(){}_o.prototype.h=null;function vo(c){return c.h||(c.h=c.i())}function Eo(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){ee.call(this,"d")}K(Ar,ee);function To(){ee.call(this,"c")}K(To,ee);var Zn={},bo=null;function si(){return bo=bo||new ft}Zn.La="serverreachability";function Zs(c){ee.call(this,Zn.La,c)}K(Zs,ee);function ai(c){const m=si();Ze(m,new Zs(m))}Zn.STAT_EVENT="statevent";function hu(c,m){ee.call(this,Zn.STAT_EVENT,c),this.stat=m}K(hu,ee);function ot(c){const m=si();Ze(m,new hu(m,c))}Zn.Ma="timingevent";function St(c,m){ee.call(this,Zn.Ma,c),this.size=m}K(St,ee);function vt(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},m)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function Ao(c,m,_,b,U,G){c.info(function(){if(c.g)if(G)for(var re="",qe=G.split("&"),Rt=0;Rt<qe.length;Rt++){var He=qe[Rt].split("=");if(1<He.length){var kt=He[0];He=He[1];var It=kt.split("_");re=2<=It.length&&It[1]=="type"?re+(kt+"="+He+"&"):re+(kt+"=redacted&")}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+_+`
`+re})}function jh(c,m,_,b,U,G,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+_+`
`+G+" "+re})}function oi(c,m,_,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+ss(c,_)+(b?" "+b:"")})}function fu(c,m){c.info(function(){return"TIMEOUT: "+m})}In.prototype.info=function(){};function ss(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return qn(_)}catch{return m}}var li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Jn(){}K(Jn,_o),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Wn=new Jn;function rn(c,m,_,b){this.j=c,this.i=m,this.l=_,this.R=b||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var wo={},Ws={};function Hn(c,m,_){c.L=1,c.v=cs(pn(m)),c.m=_,c.P=!0,Sr(c,null)}function Sr(c,m){c.F=Date.now(),as(c),c.A=pn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),No(_.i,"t",b),c.C=0,_=c.j.J,c.h=new gt,c.g=Cu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new zh(C(c.Y,c,c.g),c.O)),m=c.U,_=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ns[0]=U.toString()),U=ns);for(var G=0;G<U.length;G++){var re=lu(_,U[G],b||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ai(),Ao(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;const m=this.M;m&&Dn(c)==3?m.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)e:{const It=Dn(this.g);var m=this.g.Ba();const Mr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||It!=4||m==7||(m==8||0>=Mr?ai(3):ai(2)),ui(this);var _=this.g.Z();this.X=_;t:if(du(this)){var b=Eu(this.g);c="";var U=b.length,G=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),er(this);var re="";break t}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,c+=this.h.i.decode(b[m],{stream:!(G&&m==U-1)});b.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,jh(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Rt=this.g;if((qe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(qe)){var He=qe;break t}}He=null}if(_=He)oi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,_);else{this.o=!1,this.s=3,ot(12),jt(this),er(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<re.length;)if(Bt=mu(this,re),Bt==Ws){It==4&&(this.s=4,ot(14),_=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==wo){this.s=4,ot(15),oi(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else oi(this.i,this.l,Bt,null),os(this,Bt);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||re.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)oi(this.i,this.l,re,"[Invalid Chunked Response]"),jt(this),er(this);else if(0<re.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),_s(kt),kt.M=!0,ot(11))}}else oi(this.i,this.l,re,null),os(this,re);It==4&&jt(this),this.o&&!this.J&&(It==4?Su(this.j,this):(this.o=!1,as(this)))}else Fh(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),jt(this),er(this)}}}catch{}finally{}};function du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mu(c,m){var _=c.C,b=m.indexOf(`
`,_);return b==-1?Ws:(_=Number(m.substring(_,b)),isNaN(_)?wo:(b+=1,b+_>m.length?Ws:(m=m.slice(b,b+_),c.C=b+_,m)))}rn.prototype.cancel=function(){this.J=!0,jt(this)};function as(c){c.S=Date.now()+c.I,gu(c,c.I)}function gu(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(C(c.ba,c),m)}function ui(c){c.B&&(g.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(fu(this.i,this.A),this.L!=2&&(ai(),ot(17)),jt(this),this.s=2,er(this)):gu(this,this.S-c)};function er(c){c.j.G==0||c.J||Su(c.j,c)}function jt(c){ui(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,rs(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function os(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||So(_.h,c))){if(!c.K&&So(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ca(_),la(_);else break e;Vo(_),ot(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=vt(C(_.Za,_),6e3));if(1>=ea(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Or(_,11)}else if((c.K||_.g==c)&&ca(_),!se(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let He=U[m];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const kt=He[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const It=He[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const Mr=He[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(b=1.5*Mr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Bt=c.g;if(Bt){const or=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var G=b.h;G.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ta(G,G.h),G.h=null))}if(b.D){const Uo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(b.ya=Uo,et(b.I,b.D,Uo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var re=c;if(b.qa=Iu(b,b.J?b.ia:null,b.W),re.K){sn(b.h,re);var qe=re,Rt=b.L;Rt&&(qe.I=Rt),qe.B&&(ui(qe),as(qe)),b.g=re}else Au(b);0<_.i.length&&ua(_)}else He[0]!="stop"&&He[0]!="close"||Or(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Or(_,7):Mo(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}ai(4)}catch{}}var pu=class{constructor(c,m){this.g=c,this.map=m}};function Rr(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ea(c){return c.h?1:c.g?c.g.size:0}function So(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ta(c,m){c.g?c.g.add(m):c.h=m}function sn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Rr.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ro(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return te(c.i)}function Bh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],_=c.length,b=0;b<_;b++)m.push(c[b]);return m}m=[],_=0;for(b in c)m[_++]=c[b];return m}function na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const b in c)m[_++]=b;return m}}}function Io(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=na(c),b=Bh(c),U=b.length,G=0;G<U;G++)m.call(void 0,b[G],_&&_[G],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qh(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),U=null;if(0<=b){var G=c[_].substring(0,b);U=c[_].substring(b+1)}else G=c[_];m(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,ci(this,c.s),this.l=c.l;var m=c.i,_=new Cr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ir(this,_),this.m=c.m}else c&&(m=String(c).match(ls))?(this.h=!1,us(this,m[1]||"",!0),this.o=Cn(m[2]||""),this.g=Cn(m[3]||"",!0),ci(this,m[4]),this.l=Cn(m[5]||"",!0),Ir(this,m[6]||"",!0),this.m=Cn(m[7]||"")):(this.h=!1,this.i=new Cr(null,this.h))}Et.prototype.toString=function(){var c=[],m=this.j;m&&c.push(hs(m,Co,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(hs(m,Co,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(hs(_,_.charAt(0)=="/"?Hh:xo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",hs(_,ra)),c.join("")};function pn(c){return new Et(c)}function us(c,m,_){c.j=_?Cn(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ci(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Ir(c,m,_){m instanceof Cr?(c.i=m,_u(c.i,c.h)):(_||(m=hs(m,Gh)),c.i=new Cr(m,c.h))}function et(c,m,_){c.i.set(m,_)}function cs(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,yu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,xo=/[#\?:]/g,Hh=/[#\?]/g,Gh=/[#\?@]/g,ra=/#/g;function Cr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&qh(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}i=Cr.prototype,i.add=function(c,m){xn(this),this.i=null,c=tr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function xr(c,m){xn(c),m=tr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Nr(c,m){return xn(c),m=tr(c,m),c.g.has(m)}i.forEach=function(c,m){xn(this),this.g.forEach(function(_,b){_.forEach(function(U){c.call(m,U,b,this)},this)},this)},i.na=function(){xn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const U=c[b];for(let G=0;G<U.length;G++)_.push(m[b])}return _},i.V=function(c){xn(this);let m=[];if(typeof c=="string")Nr(this,c)&&(m=m.concat(this.g.get(tr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},i.set=function(c,m){return xn(this),this.i=null,c=tr(this,c),Nr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},i.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function No(c,m,_){xr(c,m),0<_.length&&(c.i=null,c.g.set(tr(c,m),te(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const G=encodeURIComponent(String(b)),re=this.V(b);for(b=0;b<re.length;b++){var U=G;re[b]!==""&&(U+="="+encodeURIComponent(String(re[b]))),c.push(U)}}return this.i=c.join("&")};function tr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function _u(c,m){m&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(xr(this,b),No(this,U,_))},c)),c.j=m}function fs(c,m){const _=new In;if(g.Image){const b=new Image;b.onload=L(Nn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=L(Nn,_,"TestLoadImage: error",!1,m,b),b.onabort=L(Nn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=L(Nn,_,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Gn(c,m){const _=new In,b=new AbortController,U=setTimeout(()=>{b.abort(),Nn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(U),G.ok?Nn(_,"TestPingServer: ok",!0,m):Nn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Nn(_,"TestPingServer: error",!1,m)})}function Nn(c,m,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function ds(){this.g=new is}function nr(c,m,_){const b=_||"";try{Io(c,function(U,G){let re=U;y(U)&&(re=qn(U)),m.push(b+G+"="+encodeURIComponent(re))})}catch(U){throw m.push(b+"type="+encodeURIComponent("_badmap")),U}}function hi(c){this.l=c.Ub||null,this.j=c.eb||!1}K(hi,_o),hi.prototype.g=function(){return new Dr(this.l,this.j)},hi.prototype.i=function(c){return function(){return c}}({});function Dr(c,m){ft.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(Dr,ft),i=Dr.prototype,i.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ir(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Do(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Do(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?rr(this):ir(this),this.readyState==3&&Do(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,rr(this))},i.Qa=function(c){this.g&&(this.response=c,rr(this))},i.ga=function(){this.g&&rr(this)};function rr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ir(c)}i.setRequestHeader=function(c,m){this.u.append(c,m)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Oo(c){let m="";return ve(c,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function Mt(c,m,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Oo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):et(c,m,_))}function Ye(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(Ye,ft);var ia=/^https?$/i,ms=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?vo(this.o):vo(Wn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(G){vu(this,G);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())_.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),U=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ms,m,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of _)this.g.setRequestHeader(G,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){vu(this,G)}};function vu(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,sa(c),sr(c)}function sa(c){c.A||(c.A=!0,Ze(c,"complete"),Ze(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ze(this,"complete"),Ze(this,"abort"),sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},i.bb=function(){aa(this)};function aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Xt(c.Ea,0,c);else if(Ze(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var b;if(b=re===0){var U=String(c.D).match(ls)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),b=!ia.test(U?U.toLowerCase():"")}_=b}if(_)Ze(c,"complete"),Ze(c,"success");else{c.m=6;try{var G=2<Dn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",sa(c)}}finally{sr(c)}}}}function sr(c,m){if(c.g){gs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ze(c,"ready");try{_.onreadystatechange=b}catch{}}}function gs(c){c.I&&(g.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),$s(m)}};function Eu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fh(c){const m={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(se(c[b]))continue;var _=M(c[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=m[U]||[];m[U]=G,G.push(_)}N(m,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function oa(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ps("baseRetryDelayMs",5e3,c),this.cb=ps("retryDelaySeedMs",1e4,c),this.Wa=ps("forwardChannelMaxRetries",2,c),this.wa=ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Rr(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=oa.prototype,i.la=8,i.G=1,i.connect=function(c,m,_,b){ot(0),this.W=c,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Iu(this,null,this.W),ua(this)};function Mo(c){if(Tu(c),c.G==3){var m=c.U++,_=pn(c.I);if(et(_,"SID",c.K),et(_,"RID",m),et(_,"TYPE","terminate"),ys(c,_),m=new rn(c,c.j,m),m.L=2,m.v=cs(pn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Cu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),as(m)}Ru(c)}function la(c){c.g&&(_s(c),c.g.cancel(),c.g=null)}function Tu(c){la(c),c.u&&(g.clearTimeout(c.u),c.u=null),ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function ua(c){if(!Js(c.h)&&!c.s){c.s=!0;var m=c.Ga;Z||x(),W||(Z(),W=!0),Le.add(m,c),c.B=0}}function Kh(c,m){return ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(C(c.Ga,c,m),Po(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new rn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=A(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=bu(this,U,m),_=pn(this.I),et(_,"RID",c),et(_,"CVER",22),this.D&&et(_,"X-HTTP-Session-Id",this.D),ys(this,_),G&&(this.O?m="headers="+encodeURIComponent(String(Oo(G)))+"&"+m:this.m&&Mt(_,this.m,G)),ta(this.h,U),this.Ua&&et(_,"TYPE","init"),this.P?(et(_,"$req",m),et(_,"SID","null"),U.T=!0,Hn(U,_,null)):Hn(U,_,m),this.G=2}}else this.G==3&&(c?ko(this,c):this.i.length==0||Js(this.h)||ko(this))};function ko(c,m){var _;m?_=m.l:_=c.U++;const b=pn(c.I);et(b,"SID",c.K),et(b,"RID",_),et(b,"AID",c.T),ys(c,b),c.m&&c.o&&Mt(b,c.m,c.o),_=new rn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,_),Hn(_,b,m)}function ys(c,m){c.H&&ve(c.H,function(_,b){et(m,b,_)}),c.l&&Io({},function(_,b){et(m,b,_)})}function bu(c,m,_){_=Math.min(c.i.length,_);var b=c.l?C(c.l.Na,c.l,c):null;e:{var U=c.i;let G=-1;for(;;){const re=["count="+_];G==-1?0<_?(G=U[0].g,re.push("ofs="+G)):G=0:re.push("ofs="+G);let qe=!0;for(let Rt=0;Rt<_;Rt++){let He=U[Rt].g;const kt=U[Rt].map;if(He-=G,0>He)G=Math.max(0,U[Rt].g-100),qe=!1;else try{nr(kt,re,"req"+He+"_")}catch{b&&b(kt)}}if(qe){b=re.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,b}function Au(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Z||x(),W||(Z(),W=!0),Le.add(m,c),c.v=0}}function Vo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(C(c.Fa,c),Po(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(C(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),la(this),wu(this))};function _s(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=pn(c.qa);et(m,"RID","rpc"),et(m,"SID",c.K),et(m,"AID",c.T),et(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(m,"TO",c.ja),et(m,"TYPE","xmlhttp"),ys(c,m),c.m&&c.o&&Mt(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=cs(pn(m)),_.m=null,_.P=!0,Sr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,la(this),Vo(this),ot(19))};function ca(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function Su(c,m){var _=null;if(c.g==m){ca(c),_s(c),c.g=null;var b=2}else if(So(c.h,m))_=m.D,sn(c.h,m),b=1;else return;if(c.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=c.B;b=si(),Ze(b,new St(b,_)),ua(c)}else Au(c);else if(U=m.s,U==3||U==0&&0<m.X||!(b==1&&Kh(c,m)||b==2&&Vo(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),U){case 1:Or(c,5);break;case 4:Or(c,10);break;case 3:Or(c,6);break;default:Or(c,2)}}}function Po(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Or(c,m){if(c.j.info("Error code "+m),m==2){var _=C(c.fb,c),b=c.Xa;const U=!b;b=new Et(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||us(b,"https"),cs(b),U?fs(b.toString(),_):Gn(b.toString(),_)}else ot(2);c.G=0,c.l&&c.l.sa(m),Ru(c),Tu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ru(c){if(c.G=0,c.ka=[],c.l){const m=Ro(c.h);(m.length!=0||c.i.length!=0)&&(X(c.ka,m),X(c.ka,c.i),c.h.i.length=0,te(c.i),c.i.length=0),c.l.ra()}}function Iu(c,m,_){var b=_ instanceof Et?pn(_):new Et(_);if(b.g!="")m&&(b.g=m+"."+b.g),ci(b,b.s);else{var U=g.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var G=new Et(null);b&&us(G,b),m&&(G.g=m),U&&ci(G,U),_&&(G.l=_),b=G}return _=c.D,m=c.ya,_&&m&&et(b,_,m),et(b,"VER",c.la),ys(c,b),b}function Cu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ye(new hi({eb:_})):new Ye(c.pa),m.Ha(c.J),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}i=xu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ha(){}ha.prototype.g=function(c,m){return new an(c,m)};function an(c,m){ft.call(this),this.g=new oa(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!se(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!se(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ar(this)}K(an,ft),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Mo(this.g)},an.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=qn(c),c=_);m.i.push(new pu(m.Ya++,c)),m.G==3&&ua(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,an.aa.N.call(this)};function Nu(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}K(Nu,Ar);function Du(){To.call(this),this.status=1}K(Du,To);function ar(c){this.g=c}K(ar,xu),ar.prototype.ua=function(){Ze(this.g,"a")},ar.prototype.ta=function(c){Ze(this.g,new Nu(c))},ar.prototype.sa=function(c){Ze(this.g,new Du)},ar.prototype.ra=function(){Ze(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,QE=function(){return new ha},KE=function(){return si()},FE=Zn,vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,Fc=li,wr.COMPLETE="complete",GE=wr,Eo.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Cl=Eo,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,HE=Ye}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const kv="@firebase/firestore",Vv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Lm("@firebase/firestore");function qa(){return qs.logLevel}function oe(i,...e){if(qs.logLevel<=ze.DEBUG){const n=e.map(Xm);qs.debug(`Firestore (${co}): ${i}`,...n)}}function ei(i,...e){if(qs.logLevel<=ze.ERROR){const n=e.map(Xm);qs.error(`Firestore (${co}): ${i}`,...n)}}function Wa(i,...e){if(qs.logLevel<=ze.WARN){const n=e.map(Xm);qs.warn(`Firestore (${co}): ${i}`,...n)}}function Xm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,YE(i,s,n)}function YE(i,e,n){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ei(s),new Error(s)}function Xe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||YE(e,o,s)}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class SI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new XE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class II{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new II(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=NI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function je(i,e){return i<e?-1:i>e?1:0}function Em(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return em(o)===em(u)?je(o,u):em(o)?1:-1}return je(i.length,e.length)}const DI=55296,OI=57343;function em(i){const e=i.charCodeAt(0);return e>=DI&&e<=OI}function Ja(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="__name__";class dr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Re(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=dr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const s=dr.isNumericId(e),o=dr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?dr.extractNumericId(e).compare(dr.extractNumericId(n)):Em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class ct extends dr{construct(e,n,s){return new ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const MI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends dr{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return MI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uv}static keyField(){return new Kt([Uv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ct.fromString(e))}static fromName(e){return new Te(ct.fromString(e).popFirst(5))}static empty(){return new Te(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(i,e,n){if(!n)throw new ye(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function VI(i,e,n,s){if(e===!0&&s===!0)throw new ye(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Lv(i){if(!Te.isDocumentKey(i))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $E(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Zm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function Hl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zm(i);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i,e){const n={typeString:i};return e&&(n.value=e),n}function ru(i,e){if(!$E(i))throw new ye(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=-62135596800,jv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jv);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zv)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:wt("string",at._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new at(0,0))}static max(){return new Ce(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function PI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new Fi(o,Te.empty(),e)}function UI(i){return new Fi(i.readTime,i.key,Gl)}class Fi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fi(Ce.min(),Te.empty(),Gl)}static max(){return new Fi(Ce.max(),Te.empty(),Gl)}}function LI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(i.documentKey,e.documentKey),n!==0?n:je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==zI)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,s)=>{n(e)})}static reject(e){return new $((n,s)=>{s(e)})}static waitFor(e){return new $((n,s)=>{let o=0,u=0,f=!1;e.forEach(g=>{++o,g.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new $((s,o)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(T=>{f[y]=T,++g,g===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new $((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function BI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function Rh(i){return i==null}function uh(i){return i===0&&1/i==-1/0}function qI(i){return typeof i=="number"&&Number.isInteger(i)&&!uh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function HI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Bv(e)),e=GI(i.get(n),e);return Bv(e)}function GI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ZE:n+="";break;default:n+=u}}return n}function Bv(i){return i+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Gs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function WE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hv(this.data.getIterator())}getIteratorFrom(e){return new Hv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Hv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Ot(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JE("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const FI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=FI.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qi(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="server_timestamp",tT="__type__",nT="__previous_value__",rT="__local_write_time__";function Jm(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[tT])==null?void 0:s.stringValue)===eT}function Ih(i){const e=i.mapValue.fields[nT];return Jm(e)?Ih(e):e}function Fl(i){const e=Ki(i.mapValue.fields[rT].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,s,o,u,f,g,p,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const ch="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||ch}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__type__",QI="__max__",Uc={mapValue:{}},sT="__vector__",hh="value";function Yi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jm(i)?4:XI(i)?9007199254740991:YI(i)?10:11:Re(28295,{value:i})}function Er(i,e){if(i===e)return!0;const n=Yi(i);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Fl(i).isEqual(Fl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ki(o.timestampValue),g=Ki(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Qi(o.bytesValue).isEqual(Qi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),g=_t(u.doubleValue);return f===g?uh(f)===uh(g):isNaN(f)&&isNaN(g)}return!1}(i,e);case 9:return Ja(i.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(qv(f)!==qv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Er(f[p],g[p])))return!1;return!0}(i,e);default:return Re(52216,{left:i})}}function Ql(i,e){return(i.values||[]).find(n=>Er(n,e))!==void 0}function eo(i,e){if(i===e)return 0;const n=Yi(i),s=Yi(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(i.booleanValue,e.booleanValue);case 2:return function(u,f){const g=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(i,e);case 3:return Gv(i.timestampValue,e.timestampValue);case 4:return Gv(Fl(i),Fl(e));case 5:return Em(i.stringValue,e.stringValue);case 6:return function(u,f){const g=Qi(u),p=Qi(f);return g.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=je(g[y],p[y]);if(T!==0)return T}return je(g.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const g=je(_t(u.latitude),_t(f.latitude));return g!==0?g:je(_t(u.longitude),_t(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Fv(i.arrayValue,e.arrayValue);case 10:return function(u,f){var C,L,K,te;const g=u.fields||{},p=f.fields||{},y=(C=g[hh])==null?void 0:C.arrayValue,T=(L=p[hh])==null?void 0:L.arrayValue,w=je(((K=y==null?void 0:y.values)==null?void 0:K.length)||0,((te=T==null?void 0:T.values)==null?void 0:te.length)||0);return w!==0?w:Fv(y,T)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const C=Em(p[w],T[w]);if(C!==0)return C;const L=eo(g[p[w]],y[T[w]]);if(L!==0)return L}return je(p.length,T.length)}(i.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function Gv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return je(i,e);const n=Ki(i),s=Ki(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function Fv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function to(i){return Tm(i)}function Tm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Ki(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Qi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Te.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Tm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Tm(n.fields[f])}`;return o+"}"}(i.mapValue):Re(61005,{value:i})}function Kc(i){switch(Yi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(i);return e?16+Kc(e):16;case 5:return 2*i.stringValue.length;case 6:return Qi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Kc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Gs(s.fields,(u,f)=>{o+=u.length+Kc(f)}),o}(i.mapValue);default:throw Re(13486,{value:i})}}function bm(i){return!!i&&"integerValue"in i}function eg(i){return!!i&&"arrayValue"in i}function Kv(i){return!!i&&"nullValue"in i}function Qv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qc(i){return!!i&&"mapValue"in i}function YI(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[iT])==null?void 0:s.stringValue)===sT}function Vl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Gs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Vl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(i.arrayValue.values[n]);return e}return{...i}}function XI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===QI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=Vl(f):o.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Gs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new jn(Vl(this.value))}}function aT(i){const e=[];return Gs(i.fields,(n,s)=>{const o=new Kt([n]);if(Qc(s)){const u=aT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,u,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new en(e,0,Ce.min(),Ce.min(),Ce.min(),jn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Ce.min(),Ce.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Ce.min(),Ce.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function Yv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Er(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function $I(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{}class Dt extends oT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new WI(e,n,s):n==="array-contains"?new tC(e,s):n==="in"?new nC(e,s):n==="not-in"?new rC(e,s):n==="array-contains-any"?new iC(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new JI(e,s):new eC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends oT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Tr(e,n)}matches(e){return lT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lT(i){return i.op==="and"}function uT(i){return ZI(i)&&lT(i)}function ZI(i){for(const e of i.filters)if(e instanceof Tr)return!1;return!0}function Am(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+to(i.value);if(uT(i))return i.filters.map(e=>Am(e)).join(",");{const e=i.filters.map(n=>Am(n)).join(",");return`${i.op}(${e})`}}function cT(i,e){return i instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)}(i,e):i instanceof Tr?function(s,o){return o instanceof Tr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,g)=>u&&cT(f,o.filters[g]),!0):!1}(i,e):void Re(19439)}function hT(i){return i instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(i):i instanceof Tr?function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"}(i):"Filter"}class WI extends Dt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class JI extends Dt{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eC extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fT(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>Te.fromName(s.referenceValue))}class tC extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eg(n)&&Ql(n.arrayValue,this.value)}}class nC extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class rC extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class iC extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n=null,s=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function $v(i,e=null,n=[],s=[],o=null,u=null,f=null){return new sC(i,e,n,s,o,u,f)}function tg(i){const e=xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Am(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>to(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>to(s)).join(",")),e.Te=n}return e.Te}function ng(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!$I(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!cT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Xv(i.startAt,e.startAt)&&Xv(i.endAt,e.endAt)}function wm(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n=null,s=[],o=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aC(i,e,n,s,o,u,f,g){return new Ch(i,e,n,s,o,u,f,g)}function rg(i){return new Ch(i)}function Zv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function oC(i){return i.collectionGroup!==null}function Pl(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ot(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new dh(u,s))}),n.has(Kt.keyField().canonicalString())||e.Ie.push(new dh(Kt.keyField(),s))}return e.Ie}function pr(i){const e=xe(i);return e.Ee||(e.Ee=lC(e,Pl(i))),e.Ee}function lC(i,e){if(i.limitType==="F")return $v(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new dh(o.field,u)});const n=i.endAt?new fh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new fh(i.startAt.position,i.startAt.inclusive):null;return $v(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Sm(i,e,n){return new Ch(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function xh(i,e){return ng(pr(i),pr(e))&&i.limitType===e.limitType}function dT(i){return`${tg(pr(i))}|lt:${i.limitType}`}function Ha(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>hT(o)).join(", ")}]`),Rh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>to(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>to(o)).join(",")),`Target(${s})`}(pr(i))}; limitType=${i.limitType})`}function Nh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Pl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,g,p){const y=Yv(f,g,p);return f.inclusive?y<=0:y<0}(s.startAt,Pl(s),o)||s.endAt&&!function(f,g,p){const y=Yv(f,g,p);return f.inclusive?y>=0:y>0}(s.endAt,Pl(s),o))}(i,e)}function uC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function mT(i){return(e,n)=>{let s=!1;for(const o of Pl(i)){const u=cC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function cC(i,e,n){const s=i.field.isKeyField()?Te.comparator(e.key,n.key):function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?eo(p,y):Re(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new ht(Te.comparator);function ti(){return hC}const gT=new ht(Te.comparator);function xl(...i){let e=gT;for(const n of i)e=e.insert(n.key,n);return e}function pT(i){let e=gT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ps(){return Ul()}function yT(){return Ul()}function Ul(){return new Fs(i=>i.toString(),(i,e)=>i.isEqual(e))}const fC=new ht(Te.comparator),dC=new Ot(Te.comparator);function Be(...i){let e=dC;for(const n of i)e=e.add(n);return e}const mC=new Ot(je);function gC(){return mC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function _T(i){return{integerValue:""+i}}function pC(i,e){return qI(e)?_T(e):ig(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function yC(i,e,n){return i instanceof mh?function(o,u){const f={fields:{[tT]:{stringValue:eT},[rT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jm(u)&&(u=Ih(u)),u&&(f.fields[nT]=u),{mapValue:f}}(n,e):i instanceof Yl?ET(i,e):i instanceof Xl?TT(i,e):function(o,u){const f=vT(o,u),g=Wv(f)+Wv(o.Ae);return bm(f)&&bm(o.Ae)?_T(g):ig(o.serializer,g)}(i,e)}function _C(i,e,n){return i instanceof Yl?ET(i,e):i instanceof Xl?TT(i,e):n}function vT(i,e){return i instanceof gh?function(s){return bm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class mh extends Dh{}class Yl extends Dh{constructor(e){super(),this.elements=e}}function ET(i,e){const n=bT(e);for(const s of i.elements)n.some(o=>Er(o,s))||n.push(s);return{arrayValue:{values:n}}}class Xl extends Dh{constructor(e){super(),this.elements=e}}function TT(i,e){let n=bT(e);for(const s of i.elements)n=n.filter(o=>!Er(o,s));return{arrayValue:{values:n}}}class gh extends Dh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Wv(i){return _t(i.integerValue||i.doubleValue)}function bT(i){return eg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function vC(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Yl&&o instanceof Yl||s instanceof Xl&&o instanceof Xl?Ja(s.elements,o.elements,Er):s instanceof gh&&o instanceof gh?Er(s.Ae,o.Ae):s instanceof mh&&o instanceof mh}(i.transform,e.transform)}class EC{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Oh{}function AT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ST(i.key,Zr.none()):new iu(i.key,i.data,Zr.none());{const n=i.data,s=jn.empty();let o=new Ot(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ks(i.key,s,new Xn(o.toArray()),Zr.none())}}function TC(i,e,n){i instanceof iu?function(o,u,f){const g=o.value.clone(),p=e0(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):i instanceof Ks?function(o,u,f){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=e0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(wT(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ll(i,e,n,s){return i instanceof iu?function(u,f,g,p){if(!Yc(u.precondition,f))return g;const y=u.value.clone(),T=t0(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ks?function(u,f,g,p){if(!Yc(u.precondition,f))return g;const y=t0(u.fieldTransforms,p,f),T=f.data;return T.setAll(wT(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,g){return Yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(i,e,n)}function bC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=vT(s.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(s.field,u))}return n||null}function Jv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ja(s,o,(u,f)=>vC(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class iu extends Oh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ks extends Oh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function e0(i,e,n){const s=new Map;Xe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,g=e.data.field(u.field);s.set(u.field,_C(f,g,n[o]))}return s}function t0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,yC(u,f,e))}return s}class ST extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AC extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&TC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=yT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const p=AT(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,s)=>Jv(n,s))&&Ja(this.baseMutations,e.baseMutations,(n,s)=>Jv(n,s))}}class sg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return fC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new sg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Fe;function IC(i){switch(i){case ne.OK:return Re(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function RT(i){if(i===void 0)return ei("GRPC error has no .code"),ne.UNKNOWN;switch(i){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return Re(39323,{code:i})}}(Fe=At||(At={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Hi([4294967295,4294967295],0);function n0(i){const e=CC().encode(i),n=new qE;return n.update(e),new Uint8Array(n.digest())}function r0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hi([n,s],0),new Hi([o,u],0)]}class ag{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Hi.fromNumber(s)));return o.compare(xC)===1&&(o=new Hi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n0(e),[s,o]=r0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ag(u,o,n);return s.forEach(g=>f.insert(g)),f}insert(e){if(this.ge===0)return;const n=n0(e),[s,o]=r0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mh(Ce.min(),o,new ht(je),ti(),Be())}}class su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new su(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class IT{constructor(e,n){this.targetId=e,this.Ce=n}}class CT{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class i0{constructor(){this.ve=0,this.Fe=s0(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Re(38017,{changeType:u})}}),new su(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=s0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ti(),this.Je=Lc(),this.He=Lc(),this.Ye=new ht(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(wm(u))if(s===0){const f=new Te(u.path);this.et(n,f,en.newNoDocument(f,Ce.min()))}else Xe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=Qi(s).toUint8Array()}catch(p){if(p instanceof JE)return Wa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new ag(f,o,u)}catch(p){return Wa(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const g=this.ot(f);if(g){if(u.current&&wm(g.target)){const p=new Te(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Be();this.He.forEach((u,f)=>{let g=!0;f.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Mh(e,n,this.Ye,this.je,s);return this.je=ti(),this.Je=Lc(),this.He=Lc(),this.Ye=new ht(je),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new i0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ot(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ot(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lc(){return new ht(Te.comparator)}function s0(){return new ht(Te.comparator)}const DC={asc:"ASCENDING",desc:"DESCENDING"},OC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MC={and:"AND",or:"OR"};class kC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(i,e){return i.useProto3Json||Rh(e)?e:{value:e}}function ph(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function VC(i,e){return ph(i,e.toTimestamp())}function yr(i){return Xe(!!i,49232),Ce.fromTimestamp(function(n){const s=Ki(n);return new at(s.seconds,s.nanos)}(i))}function og(i,e){return Im(i,e).canonicalString()}function Im(i,e){const n=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function NT(i){const e=ct.fromString(i);return Xe(VT(e),10190,{key:e.toString()}),e}function Cm(i,e){return og(i.databaseId,e.path)}function tm(i,e){const n=NT(e);if(n.get(1)!==i.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Te(OT(n))}function DT(i,e){return og(i.databaseId,e)}function PC(i){const e=NT(i);return e.length===4?ct.emptyPath():OT(e)}function xm(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OT(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function a0(i,e,n){return{name:Cm(i,e),fields:n.value.mapValue.fields}}function UC(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Xe(T===void 0||typeof T=="string",58123),Qt.fromBase64String(T||"")):(Xe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qt.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&function(y){const T=y.code===void 0?ne.UNKNOWN:RT(y.code);return new ye(T,y.message||"")}(f);n=new CT(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=tm(i,s.document.name),u=yr(s.document.updateTime),f=s.document.createTime?yr(s.document.createTime):Ce.min(),g=new jn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,g),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Xc(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=tm(i,s.document),u=s.readTime?yr(s.readTime):Ce.min(),f=en.newNoDocument(o,u),g=s.removedTargetIds||[];n=new Xc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=tm(i,s.document),u=s.removedTargetIds||[];n=new Xc([],u,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new RC(o,u),g=s.targetId;n=new IT(g,f)}}return n}function LC(i,e){let n;if(e instanceof iu)n={update:a0(i,e.key,e.value)};else if(e instanceof ST)n={delete:Cm(i,e.key)};else if(e instanceof Ks)n={update:a0(i,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof AC))return Re(16599,{Vt:e.type});n={verify:Cm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const g=f.transform;if(g instanceof mh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof gh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Re(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:VC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re(27497)}(i,e.precondition)),n}function zC(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?yr(o.updateTime):yr(u);return f.isEqual(Ce.min())&&(f=yr(u)),new EC(f,o.transformResults||[])}(n,e))):[]}function jC(i,e){return{documents:[DT(i,e.path)]}}function BC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=DT(i,o);const u=function(y){if(y.length!==0)return kT(Tr.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:Ga(C.field),direction:GC(C.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Rm(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function qC(i){let e=PC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(w){const C=MT(w);return C instanceof Tr&&uT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(C=>function(K){return new dh(Fa(K.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(C))}(n.orderBy));let g=null;n.limit&&(g=function(w){let C;return C=typeof w=="object"?w.value:w,Rh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(w){const C=!!w.before,L=w.values||[];return new fh(L,C)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const C=!w.before,L=w.values||[];return new fh(L,C)}(n.endAt)),aC(e,o,f,u,g,"F",p,y)}function HC(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(i):i.fieldFilter!==void 0?function(n){return Dt.create(Fa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Tr.create(n.compositeFilter.filters.map(s=>MT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(i):Re(30097,{filter:i})}function GC(i){return DC[i]}function FC(i){return OC[i]}function KC(i){return MC[i]}function Ga(i){return{fieldPath:i.canonicalString()}}function Fa(i){return Kt.fromServerFormat(i.fieldPath)}function kT(i){return i instanceof Dt?function(n){if(n.op==="=="){if(Qv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Kv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Kv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:FC(n.op),value:n.value}}}(i):i instanceof Tr?function(n){const s=n.getFilters().map(o=>kT(o));return s.length===1?s[0]:{compositeFilter:{op:KC(n.op),filters:s}}}(i):Re(54877,{filter:i})}function QC(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,s,o,u=Ce.min(),f=Ce.min(),g=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.yt=e}}function XC(i){const e=qC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.Cn=new ZC}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Fi.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class ZC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(ct.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(PT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="LruGarbageCollector",WC=1048576;function u0([i,e],[n,s]){const o=je(i,n);return o===0?je(e,s):o}class JC{constructor(e){this.Ir=e,this.buffer=new Ot(u0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();u0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ex{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(l0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?oe(l0,"Ignoring IndexedDB error during garbage collection: ",n):await ho(n)}await this.Vr(3e5)})}}class tx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Sh.ce);const s=new JC(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(o0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,g=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),qa()<=ze.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function nx(i,e){return new tx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.changes=new Fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ll(s.mutation,o,Xn.empty(),at.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Be()){const o=Ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=xl();return u.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Be()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,g)=>{n.set(f,g)})})}computeViews(e,n,s,o){let u=ti();const f=Ul(),g=function(){return Ul()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ks)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Ll(T.mutation,y,T.mutation.getFieldMask(),at.now())):f.set(y.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>g.set(y,new ix(T,f.get(y)??null))),g))}recalculateAndSaveOverlays(e,n){const s=Ul();let o=new ht((f,g)=>f-g),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||Xn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const w=(o.get(g.batchId)||Be()).add(p);o=o.insert(g.batchId,w)})}).next(()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,w=yT();T.forEach(C=>{if(!u.has(C)){const L=AT(n.get(C),s.get(C));L!==null&&w.set(C,L),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Te.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):$.resolve(Ps());let g=Gl,p=u;return f.next(y=>$.forEach(y,(T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Be())).next(T=>({batchId:g,changes:pT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(s=>{let o=xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=xl();return this.indexManager.getCollectionParents(e,u).next(g=>$.forEach(g,p=>{const y=function(w,C){return new Ch(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((w,C)=>{f=f.insert(w,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,en.newInvalidDocument(T)))});let g=xl();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&Ll(T.mutation,y,Xn.empty(),at.now()),Nh(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yr(o.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:XC(o.bundledQuery),readTime:yr(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.overlays=new ht(Te.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return $.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),$.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const o=Ps(),u=n.length+1,f=new Te(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Ps(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Ps(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return $.resolve(g)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new SC(n,s));let u=this.qr.get(n);u===void 0&&(u=Be(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.Qr=new Ot(Lt.$r),this.Ur=new Ot(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Te(new ct([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new ct([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Be();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Lt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new wC(u,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Lt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const g=this.Xr(f.Yr);u.push(g)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(je);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],g=>{s=s.add(g.Yr)})}),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new Te(u),0);let g=new Ot(je);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)},f),$.resolve(this.ti(g))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.ri=e,this.docs=function(){return new ht(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=ti();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ti();const f=n.path,g=new Te(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||LI(UI(T),s)<=0||(o.has(T.key)||Nh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Re(9500)}ii(e,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new hx(this)}getSize(e){return $.resolve(this.size)}}class hx extends rx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.persistence=e,this.si=new Fs(n=>tg(n),ng),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=no.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new no(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new lx,this.referenceDelegate=e(this),this.Pi=new fx(this),this.indexManager=new $C,this.remoteDocumentCache=function(o){return new cx(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new YC(n),this.Ii=new ax(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ox,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new ux(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new dx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return $.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class dx extends jI{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Ri=new lg,this.Vi=null}static mi(e){return new ug(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,s=>{const o=Te.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.pi=new Fs(s=>HI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=nx(this,n)}static mi(e,n){return new yh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(g=>{g||(s++,u.removeEntry(f,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kc(e.data.value)),n}br(e,n,s){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Hw()?8:BI(tn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new mx;return this.Ss(e,n,f).next(g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(qa()<=ze.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(qa()<=ze.DEBUG&&oe("QueryEngine","Query:",Ha(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(qa()<=ze.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):$.resolve())}ys(e,n){if(Zv(n))return $.resolve(null);let s=pr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Sm(n,null,"F"),s=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Be(...u);return this.ps.getDocuments(e,f).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(e,Sm(n,null,"F")):this.vs(e,y,n,p)}))})))}ws(e,n,s,o){return Zv(n)||o.isEqual(Ce.min())?$.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?$.resolve(null):(qa()<=ze.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(n)),this.vs(e,f,n,PI(o,Gl)).next(g=>g))})}Ds(e,n){let s=new Ot(mT(e));return n.forEach((o,u)=>{Nh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return qa()<=ze.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.ps.getDocumentsMatchingQuery(e,n,Fi.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="LocalStore",px=3e8;class yx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(je),this.xs=new Fs(u=>tg(u),ng),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function _x(i,e,n,s){return new yx(i,e,n,s)}async function LT(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],g=[];let p=Be();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ls:y,removedBatchIds:f,addedBatchIds:g}))})})}function vx(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const w=y.batch,C=w.keys();let L=$.resolve();return C.forEach(K=>{L=L.next(()=>T.getEntry(p,K)).next(te=>{const X=y.docVersions.get(K);Xe(X!==null,48541),te.version.compareTo(X)<0&&(w.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),T.addEntry(te)))})}),L.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Be();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function zT(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Ex(i,e){const n=xe(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach((T,w)=>{const C=o.get(w);if(!C)return;g.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(u,T.addedDocuments,w)));let L=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?L=L.withResumeToken(Qt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,s)),o=o.insert(w,L),function(te,X,ae){return te.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=px?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0}(C,L,T)&&g.push(n.Pi.updateTargetData(u,L))});let p=ti(),y=Be();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(Tx(u,f,e.documentUpdates).next(T=>{p=T.ks,y=T.qs})),!s.isEqual(Ce.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next(w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));g.push(T)}return $.waitFor(g).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ms=o,u))}function Tx(i,e,n){let s=Be(),o=Be();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ti();return n.forEach((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):oe(hg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{ks:f,qs:o}})}function bx(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Wm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ax(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,$.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new zi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Nm(i,e,n){const s=xe(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!fo(f))throw f;oe(hg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function c0(i,e,n){const s=xe(i);let o=Ce.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const w=xe(p),C=w.xs.get(T);return C!==void 0?$.resolve(w.Ms.get(C)):w.Pi.getTargetData(y,T)}(s,f,pr(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:Be())).next(g=>(wx(s,uC(e),g),{documents:g,Qs:u})))}function wx(i,e,n){let s=i.Os.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class h0{constructor(){this.activeTargetIds=gC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sx{constructor(){this.Mo=new h0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="ConnectivityMonitor";class d0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(f0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(f0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Dm(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",Ix={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Dm(),g=this.zo(e,n.toUriEncodedString());oe(nm,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(g),T=oo(y);return this.Jo(e,g,p,s,T).then(w=>(oe(nm,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Wa(nm,`RPC '${e}' ${f} failed with error: `,w,"url: ",g,"request:",s),w})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=Ix[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class Nx extends Cx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Dm();return new Promise((g,p)=>{const y=new HE;y.setWithCredentials(!0),y.listenOnce(GE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Fc.NO_ERROR:const w=y.getResponseJson();oe(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),g(w);break;case Fc.TIMEOUT:oe(Wt,`RPC '${e}' ${f} timed out`),p(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const C=y.getStatus();if(oe(Wt,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const K=L==null?void 0:L.error;if(K&&K.status&&K.message){const te=function(ae){const se=ae.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(se)>=0?se:ne.UNKNOWN}(K.status);p(new ye(te,K.message))}else p(new ye(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Wt,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);oe(Wt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",T,s,15)})}T_(e,n,s){const o=Dm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=QE(),g=KE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");oe(Wt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const w=f.createWebChannel(T,p);this.I_(w);let C=!1,L=!1;const K=new xx({Yo:X=>{L?oe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(C||(oe(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),C=!0),oe(Wt,`RPC '${e}' stream ${o} sending:`,X),w.send(X))},Zo:()=>w.close()}),te=(X,ae,se)=>{X.listen(ae,me=>{try{se(me)}catch(_e){setTimeout(()=>{throw _e},0)}})};return te(w,Cl.EventType.OPEN,()=>{L||(oe(Wt,`RPC '${e}' stream ${o} transport opened.`),K.o_())}),te(w,Cl.EventType.CLOSE,()=>{L||(L=!0,oe(Wt,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(w))}),te(w,Cl.EventType.ERROR,X=>{L||(L=!0,Wa(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),K.a_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),te(w,Cl.EventType.MESSAGE,X=>{var ae;if(!L){const se=X.data[0];Xe(!!se,16349);const me=se,_e=(me==null?void 0:me.error)||((ae=me[0])==null?void 0:ae.error);if(_e){oe(Wt,`RPC '${e}' stream ${o} received error:`,_e);const ue=_e.status;let ve=function(R){const O=At[R];if(O!==void 0)return RT(O)}(ue),N=_e.message;ve===void 0&&(ve=ne.INTERNAL,N="Unknown error status: "+ue+" with message "+_e.message),L=!0,K.a_(new ye(ve,N)),w.close()}else oe(Wt,`RPC '${e}' stream ${o} received:`,se),K.u_(se)}}),te(g,FE.STAT_EVENT,X=>{X.stat===vm.PROXY?oe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):X.stat===vm.NOPROXY&&oe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{K.__()},0),K}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(i){return new kC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="PersistentStream";class BT{constructor(e,n,s,o,u,f,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ye(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(m0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(m0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dx extends BT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?yr(f.readTime):Ce.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xm(this.serializer),n.addTarget=function(u,f){let g;const p=f.target;if(g=wm(p)?{documents:jC(u,p)}:{query:BC(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=xT(u,f.resumeToken);const y=Rm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ce.min())>0){g.readTime=ph(u,f.snapshotVersion.toTimestamp());const y=Rm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=HC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xm(this.serializer),n.removeTarget=e,this.q_(n)}}class Ox extends BT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zC(e.writeResults,e.commitTime),s=yr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>LC(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{}class kx extends Mx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Im(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Ho(e,Im(n,s),o,f,g,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(ne.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Vx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ei(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class Px{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Qs(this)&&(oe(Hs,"Restarting streams for network reachability change."),await async function(p){const y=xe(p);y.Ea.add(4),await au(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Vh(y)}(this))})}),this.Ra=new Vx(s,o)}}async function Vh(i){if(Qs(i))for(const e of i.da)await e(!0)}async function au(i){for(const e of i.da)await e(!1)}function qT(i,e){const n=xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gg(n)?mg(n):mo(n).O_()&&dg(n,e))}function fg(i,e){const n=xe(i),s=mo(n);n.Ia.delete(e),s.O_()&&HT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Qs(n)&&n.Ra.set("Unknown"))}function dg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(i).Y_(e)}function HT(i,e){i.Va.Ue(e),mo(i).Z_(e)}function mg(i){i.Va=new NC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),mo(i).start(),i.Ra.ua()}function gg(i){return Qs(i)&&!mo(i).x_()&&i.Ia.size>0}function Qs(i){return xe(i).Ea.size===0}function GT(i){i.Va=void 0}async function Ux(i){i.Ra.set("Online")}async function Lx(i){i.Ia.forEach((e,n)=>{dg(i,e)})}async function zx(i,e){GT(i),gg(i)?(i.Ra.ha(e),mg(i)):i.Ra.set("Unknown")}async function jx(i,e,n){if(i.Ra.set("Online"),e instanceof CT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))}(i,e)}catch(s){oe(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _h(i,s)}else if(e instanceof Xc?i.Va.Ze(e):e instanceof IT?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ce.min()))try{const s=await zT(i.localStore);n.compareTo(s)>=0&&await function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,y)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),HT(u,p);const w=new zi(T.target,p,y,T.sequenceNumber);dg(u,w)}),u.remoteSyncer.applyRemoteEvent(g)}(i,n)}catch(s){oe(Hs,"Failed to raise snapshot:",s),await _h(i,s)}}async function _h(i,e,n){if(!fo(e))throw e;i.Ea.add(1),await au(i),i.Ra.set("Offline"),n||(n=()=>zT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{oe(Hs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Vh(i)})}function FT(i,e){return e().catch(n=>_h(i,n,e))}async function Ph(i){const e=xe(i),n=Xi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;Bx(e);)try{const o=await bx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,qx(e,o)}catch(o){await _h(e,o)}KT(e)&&QT(e)}function Bx(i){return Qs(i)&&i.Ta.length<10}function qx(i,e){i.Ta.push(e);const n=Xi(i);n.O_()&&n.X_&&n.ea(e.mutations)}function KT(i){return Qs(i)&&!Xi(i).x_()&&i.Ta.length>0}function QT(i){Xi(i).start()}async function Hx(i){Xi(i).ra()}async function Gx(i){const e=Xi(i);for(const n of i.Ta)e.ea(n.mutations)}async function Fx(i,e,n){const s=i.Ta.shift(),o=sg.from(s,e,n);await FT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Ph(i)}async function Kx(i,e){e&&Xi(i).X_&&await async function(s,o){if(function(f){return IC(f)&&f!==ne.ABORTED}(o.code)){const u=s.Ta.shift();Xi(s).B_(),await FT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ph(s)}}(i,e),KT(i)&&QT(i)}async function g0(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),oe(Hs,"RemoteStore received new credentials");const s=Qs(n);n.Ea.add(3),await au(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vh(n)}async function Qx(i,e){const n=xe(i);e?(n.Ea.delete(2),await Vh(n)):e||(n.Ea.add(2),await au(n),n.Ra.set("Unknown"))}function mo(i){return i.ma||(i.ma=function(n,s,o){const u=xe(n);return u.sa(),new Dx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:Ux.bind(null,i),t_:Lx.bind(null,i),r_:zx.bind(null,i),H_:jx.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),gg(i)?mg(i):i.Ra.set("Unknown")):(await i.ma.stop(),GT(i))})),i.ma}function Xi(i){return i.fa||(i.fa=function(n,s,o){const u=xe(n);return u.sa(),new Ox(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hx.bind(null,i),r_:Kx.bind(null,i),ta:Gx.bind(null,i),na:Fx.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await Ph(i)):(await i.fa.stop(),i.Ta.length>0&&(oe(Hs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,g=new pg(e,n,f,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(i,e){if(ei("AsyncQueue",`${e}: ${i}`),fo(i))return new ye(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=xl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $a;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.ga=new ht(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class ro{constructor(e,n,s,o,u,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new ro(e,n,$a.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Xx{constructor(){this.queries=y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=y0(),u.forEach((f,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function y0(){return new Fs(i=>dT(i),xh)}async function $x(i,e){const n=xe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Yx,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=yg(f,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&_g(n)}async function Zx(i,e){const n=xe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Wx(i,e){const n=xe(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(s=!0);f.wa=o}}s&&_g(n)}function Jx(i,e,n){const s=xe(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function _g(i){i.Ca.forEach(e=>{e.next()})}var Om,_0;(_0=Om||(Om={})).Ma="default",_0.Cache="cache";class eN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class tN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=mT(e),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new p0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const C=o.get(T),L=Nh(this.query,w)?w:null,K=!!C&&this.mutatedKeys.has(C.key),te=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let X=!1;C&&L?C.data.isEqual(L.data)?K!==te&&(s.track({type:3,doc:L}),X=!0):this.su(C,L)||(s.track({type:2,doc:L}),X=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(g=!0)):!C&&L?(s.track({type:0,doc:L}),X=!0):C&&!L&&(s.track({type:1,doc:C}),X=!0,(p||y)&&(g=!0)),X&&(L?(f=f.add(L),u=te?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((T,w)=>function(L,K){const te=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:X})}};return te(L)-te(K)}(T.type,w.type)||this.eu(T.doc,w.doc)),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new ro(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new XT(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new YT(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vg="SyncEngine";class nN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rN{constructor(e){this.key=e,this.hu=!1}}class iN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Fs(g=>dT(g),xh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(Te.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sN(i,e,n=!0){const s=tb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $T(s,e,n,!0),o}async function aN(i,e){const n=tb(i);await $T(n,e,!0,!1)}async function $T(i,e,n,s){const o=await Ax(i.localStore,pr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await oN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&qT(i.remoteStore,o),g}async function oN(i,e,n,s,o){i.pu=(w,C,L)=>async function(te,X,ae,se){let me=X.view.ru(ae);me.Cs&&(me=await c0(te.localStore,X.query,!1).then(({documents:N})=>X.view.ru(N,me)));const _e=se&&se.targetChanges.get(X.targetId),ue=se&&se.targetMismatches.get(X.targetId)!=null,ve=X.view.applyChanges(me,te.isPrimaryClient,_e,ue);return E0(te,X.targetId,ve.au),ve.snapshot}(i,w,C,L);const u=await c0(i.localStore,e,!0),f=new tN(e,u.Qs),g=f.ru(u.documents),p=su.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=f.applyChanges(g,i.isPrimaryClient,p);E0(i,n,y.au);const T=new nN(e,n,f);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function lN(i,e,n){const s=xe(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!xh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Nm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&fg(s.remoteStore,o.targetId),Mm(s,o.targetId)}).catch(ho)):(Mm(s,o.targetId),await Nm(s.localStore,o.targetId,!0))}async function uN(i,e){const n=xe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),fg(n.remoteStore,s.targetId))}async function cN(i,e,n){const s=yN(i);try{const o=await function(f,g){const p=xe(f),y=at.now(),T=g.reduce((L,K)=>L.add(K.key),Be());let w,C;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let K=ti(),te=Be();return p.Ns.getEntries(L,T).next(X=>{K=X,K.forEach((ae,se)=>{se.isValidDocument()||(te=te.add(ae))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,K)).next(X=>{w=X;const ae=[];for(const se of g){const me=bC(se,w.get(se.key).overlayedDocument);me!=null&&ae.push(new Ks(se.key,me,aT(me.value.mapValue),Zr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,ae,g)}).next(X=>{C=X;const ae=X.applyToLocalDocumentSet(w,te);return p.documentOverlayCache.saveOverlays(L,X.batchId,ae)})}).then(()=>({batchId:C.batchId,changes:pT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ht(je)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y}(s,o.batchId,n),await ou(s,o.changes),await Ph(s.remoteStore)}catch(o){const u=yg(o,"Failed to persist write");n.reject(u)}}async function ZT(i,e){const n=xe(i);try{const s=await Ex(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Xe(f.hu,14607):o.removedDocuments.size>0&&(Xe(f.hu,42227),f.hu=!1))}),await ou(n,s,e)}catch(s){await ho(s)}}function v0(i,e,n){const s=xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(f,g){const p=xe(f);p.onlineState=g;let y=!1;p.queries.forEach((T,w)=>{for(const C of w.Sa)C.va(g)&&(y=!0)}),y&&_g(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hN(i,e,n){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(Te.comparator);f=f.insert(u,en.newNoDocument(u,Ce.min()));const g=Be().add(u),p=new Mh(Ce.min(),new Map,new ht(je),f,g);await ZT(s,p),s.du=s.du.remove(u),s.Au.delete(e),Eg(s)}else await Nm(s.localStore,e,!1).then(()=>Mm(s,e,n)).catch(ho)}async function fN(i,e){const n=xe(i),s=e.batch.batchId;try{const o=await vx(n.localStore,e);JT(n,s,null),WT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ou(n,o)}catch(o){await ho(o)}}async function dN(i,e,n){const s=xe(i);try{const o=await function(f,g){const p=xe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(w=>(Xe(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);JT(s,e,n),WT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ou(s,o)}catch(o){await ho(o)}}function WT(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function JT(i,e,n){const s=xe(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Mm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||eb(i,s)})}function eb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(fg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Eg(i))}function E0(i,e,n){for(const s of n)s instanceof YT?(i.Ru.addReference(s.key,e),mN(i,s)):s instanceof XT?(oe(vg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||eb(i,s.key)):Re(19791,{wu:s})}function mN(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(oe(vg,"New document in limbo: "+n),i.Eu.add(s),Eg(i))}function Eg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Te(ct.fromString(e)),s=i.fu.next();i.Au.set(s,new rN(n)),i.du=i.du.insert(n,s),qT(i.remoteStore,new zi(pr(rg(n.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function ou(i,e,n){const s=xe(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((g,p)=>{f.push(s.pu(p,e,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=cg.As(p.targetId,y);u.push(w)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,y){const T=xe(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>$.forEach(y,C=>$.forEach(C.Es,L=>T.persistence.referenceDelegate.addReference(w,C.targetId,L)).next(()=>$.forEach(C.ds,L=>T.persistence.referenceDelegate.removeReference(w,C.targetId,L)))))}catch(w){if(!fo(w))throw w;oe(hg,"Failed to update sequence numbers: "+w)}for(const w of y){const C=w.targetId;if(!w.fromCache){const L=T.Ms.get(C),K=L.snapshotVersion,te=L.withLastLimboFreeSnapshotVersion(K);T.Ms=T.Ms.insert(C,te)}}}(s.localStore,u))}async function gN(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){oe(vg,"User change. New user:",e.toKey());const s=await LT(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(g=>{g.forEach(p=>{p.reject(new ye(ne.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ou(n,s.Ls)}}function pN(i,e){const n=xe(i),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function tb(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hN.bind(null,e),e.Pu.H_=Wx.bind(null,e.eventManager),e.Pu.yu=Jx.bind(null,e.eventManager),e}function yN(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dN.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _x(this.persistence,new gx,e.initialUser,this.serializer)}Cu(e){return new UT(ug.mi,this.serializer)}Du(e){return new Sx}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class _N extends vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ex(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new UT(s=>yh.mi(s,n),this.serializer)}}class km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>v0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gN.bind(null,this.syncEngine),await Qx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xx}()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),s=function(u){return new Nx(u)}(e.databaseInfo);return function(u,f,g,p){return new kx(u,f,g,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,g){return new Px(s,o,u,f,g)}(this.localStore,this.datastore,e.asyncQueue,n=>v0(this.syncEngine,n,0),function(){return d0.v()?new d0:new Rx}())}createSyncEngine(e,n){return function(o,u,f,g,p,y,T){const w=new iN(o,u,f,g,p,y);return T&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=xe(o);oe(Hs,"RemoteStore shutting down."),u.Ea.add(5),await au(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}km.provider={build:()=>new km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="FirestoreClient";class EN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{oe($i,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe($i,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=yg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function im(i,e){i.asyncQueue.verifyOperationInProgress(),oe($i,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await LT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function T0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await TN(i);oe($i,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>g0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>g0(e.remoteStore,o)),i._onlineComponents=e}async function TN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe($i,"Using user provided OfflineComponentProvider");try{await im(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await im(i,new vh)}}else oe($i,"Using default OfflineComponentProvider"),await im(i,new _N(void 0));return i._offlineComponents}async function nb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe($i,"Using user provided OnlineComponentProvider"),await T0(i,i._uninitializedComponentsProvider._online)):(oe($i,"Using default OnlineComponentProvider"),await T0(i,new km))),i._onlineComponents}function bN(i){return nb(i).then(e=>e.syncEngine)}async function AN(i){const e=await nb(i),n=e.eventManager;return n.onListen=sN.bind(null,e.syncEngine),n.onUnlisten=lN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uN.bind(null,e.syncEngine),n}function wN(i,e,n={}){const s=new Gi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,g,p,y){const T=new vN({next:C=>{T.Nu(),f.enqueueAndForget(()=>Zx(u,w));const L=C.docs.has(g);!L&&C.fromCache?y.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&C.fromCache&&p&&p.source==="server"?y.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),w=new eN(rg(g.path),T,{includeMetadataChanges:!0,qa:!0});return $x(u,w)}(await AN(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firestore.googleapis.com",A0=!0;class w0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ib,this.ssl=A0}else this.host=e.host,this.ssl=e.ssl??A0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WC)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wI;switch(s.type){case"firstParty":return new CI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=b0.get(n);s&&(oe("ComponentProvider","Removing Datastore"),b0.delete(n),s.terminate())}(this),Promise.resolve()}}function SN(i,e,n,s={}){var y;i=Hl(i,Tg);const o=oo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;o&&(eE(`https://${g}`),tE("Firestore",!0)),u.host!==ib&&u.host!==g&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:s};if(!Ls(p,f)&&(i._setSettings(p),s.mockUserToken)){let T,w;if(typeof s.mockUserToken=="string")T=s.mockUserToken,w=Jt.MOCK_USER;else{T=kw(s.mockUserToken,(y=i._app)==null?void 0:y.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Jt(C)}i._authCredentials=new SI(new XE(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bg(this.firestore,e,this._query)}}class zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ru(n,zt._jsonSchema))return new zt(e,s||null,new Te(ct.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:wt("string",zt._jsonSchemaVersion),referencePath:wt("string")};class $l extends bg{constructor(e,n,s){super(e,n,rg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Te(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function sm(i,e,...n){if(i=wn(i),arguments.length===1&&(e=$m.newId()),kI("doc","path",e),i instanceof Tg){const s=ct.fromString(e,...n);return Lv(s),new zt(i,null,new Te(s))}{if(!(i instanceof zt||i instanceof $l))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...n));return Lv(s),new zt(i.firestore,i instanceof $l?i.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="AsyncQueue";class R0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jT(this,"async_queue_retry"),this._c=()=>{const s=rm();s&&oe(S0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;oe(S0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ei("INTERNAL UNHANDLED ERROR: ",I0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=pg.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:I0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function I0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ag extends Tg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new R0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R0(e),this._firestoreClient=void 0,await e}}}function RN(i,e){const n=typeof i=="object"?i:sE(),s=typeof i=="string"?i:ch,o=jm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ow("firestore");u&&SN(o,...u)}return o}function sb(i){if(i._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||IN(i),i._firestoreClient}function IN(i){var s,o,u;const e=i._freezeSettings(),n=function(g,p,y,T){return new KI(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,rb(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new EN(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Qt.fromBase64String(e))}catch(n){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:wt("string",Bn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(ru(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:wt("string",_r._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new vr(e.vectorValues);throw new ye(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:wt("string",vr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^__.*__$/;class xN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}function ob(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:i})}}class Sg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ob(this.Ac)&&CN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kh(e)}Cc(e,n,s,o=!1){return new Sg({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DN(i){const e=i._freezeSettings(),n=kh(i._databaseId);return new NN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ON(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);hb("Data must be an object, but it was:",f,s);const g=ub(s,f);let p,y;if(u.merge)p=new Xn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const C=MN(e,w,n);if(!f.contains(C))throw new ye(ne.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);VN(T,C)||T.push(C)}p=new Xn(T),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new xN(new jn(g),p,y)}function lb(i,e){if(cb(i=wn(i)))return hb("Unsupported field value:",e,i),ub(i,e);if(i instanceof ab)return function(s,o){if(!ob(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const g of s){let p=lb(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:ph(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(s instanceof _r)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:xT(o.serializer,s._byteString)};if(s instanceof zt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:og(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vr)return function(f,g){return{mapValue:{fields:{[iT]:{stringValue:sT},[hh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return ig(g.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Zm(s)}`)}(i,e)}function ub(i,e){const n={};return WE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(i,(s,o)=>{const u=lb(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function cb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof _r||i instanceof Bn||i instanceof zt||i instanceof ab||i instanceof vr)}function hb(i,e,n){if(!cb(n)||!$E(n)){const s=Zm(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function MN(i,e,n){if((e=wn(e))instanceof wg)return e._internalPath;if(typeof e=="string")return fb(i,e);throw Eh("Field path arguments must be of type string or ",i,!1,void 0,n)}const kN=new RegExp("[~\\*/\\[\\]]");function fb(i,e,n){if(e.search(kN)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wg(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Eh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ye(ne.INVALID_ARGUMENT,g+i+p)}function VN(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PN extends db{data(){return super.data()}}function mb(i,e){return typeof e=="string"?fb(i,e):e instanceof wg?e._internalPath:e._delegate._internalPath}class UN{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Gs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[hh].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>_t(f.doubleValue));return new vr(n)}convertGeoPoint(e){return new _r(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ih(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=Ki(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ct.fromString(e);Xe(VT(s),9688,{name:e});const o=new Kl(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(n)||ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Us extends db{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(mb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:wt("string",Us._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class $c extends Us{data(e={}){return super.data(e)}}class zl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Dl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new $c(this._firestore,this._userDataWriter,s.key,s,new Dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(g=>{const p=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Dl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{const p=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Dl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:zN(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(i){i=Hl(i,zt);const e=Hl(i.firestore,Ag);return wN(sb(e),i._key).then(n=>HN(e,i,n))}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:wt("string",zl._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class jN extends UN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function BN(i,e,n){i=Hl(i,zt);const s=Hl(i.firestore,Ag),o=LN(i.converter,e);return qN(s,[ON(DN(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Zr.none())])}function qN(i,e){return function(s,o){const u=new Gi;return s.asyncQueue.enqueueAndForget(async()=>cN(await bN(s),o,u)),u.promise}(sb(i),e)}function HN(i,e,n){const s=n.docs.get(e._key),o=new jN(i);return new Us(i,o,e._key,s,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){co=o})(lo),Za(new zs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Ag(new RI(s.getProvider("auth-internal")),new xI(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(y.options.projectId,T)}(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),qi(kv,Vv,e),qi(kv,Vv,"esm2020")})();var GN="firebase",FN="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(GN,FN,"app");const KN={apiKey:"demo-api-key",authDomain:"demo-project.firebaseapp.com",projectId:"demo-project",storageBucket:"demo-project.appspot.com",messagingSenderId:"123456789",appId:"demo-app-id"},gb=iE(KN),Ba=bI(gb),am=RN(gb),pb=()=>{const[i,e]=ge.useState(null),[n,s]=ge.useState(!0),[o,u]=ge.useState(null);return ge.useEffect(()=>{const T=h2(Ba,async w=>{if(w){const L=(await C0(sm(am,"users",w.uid))).data();e({...w,hasAccessCode:!!(L!=null&&L.accessCode)})}else e(null);s(!1)});return()=>T()},[]),{user:i,loading:n,error:o,register:async(T,w,C)=>{try{if(u(null),s(!0),!/^\d{4}$/.test(C))throw new Error("Access code must be exactly 4 digits");const L=await o2(Ba,T,w);return await BN(sm(am,"users",L.user.uid),{email:T,accessCode:C,createdAt:new Date().toISOString()}),L.user}catch(L){throw u(L.message),L}finally{s(!1)}},login:async(T,w,C)=>{try{if(u(null),s(!0),!/^\d{4}$/.test(C))throw new Error("Access code must be exactly 4 digits");const L=await l2(Ba,T,w),te=(await C0(sm(am,"users",L.user.uid))).data();if(!te||te.accessCode!==C)throw await Av(Ba),new Error("Invalid access code");return L.user}catch(L){throw u(L.message),L}finally{s(!1)}},logout:async()=>{try{u(null),await Av(Ba)}catch(T){throw u(T.message),T}},resetPassword:async T=>{try{u(null),await a2(Ba,T)}catch(w){throw u(w.message),w}}}},QN=({onAuthSuccess:i})=>{const[e,n]=ge.useState(!1),[s,o]=ge.useState(!1),[u,f]=ge.useState(!1),[g,p]=ge.useState(""),[y,T]=ge.useState({email:"",password:"",accessCode:""}),{signUp:w,signIn:C,resetPassword:L}=pb(),K=async ae=>{ae.preventDefault(),f(!0),p("");try{if(!/^\d{4}$/.test(y.accessCode))throw new Error("Access code must be exactly 4 digits");let se;e?se=await w(y.email,y.password,y.accessCode):se=await C(y.email,y.password,y.accessCode),i(se)}catch(se){p(se.message)}finally{f(!1)}},te=async()=>{if(!y.email){p("Please enter your email address first");return}try{await L(y.email),p("Password reset email sent! Check your inbox.")}catch(ae){p(ae.message)}},X=(ae,se)=>{T(me=>({...me,[ae]:se})),g&&p("")};return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800",children:[k.jsx("header",{className:"w-full bg-gray-900/50 backdrop-blur-sm border-b border-gray-700/30 px-8 py-6",children:k.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx("img",{src:"/red-raven-logo.png",alt:"Red Raven LLC",className:"w-10 h-10"}),k.jsxs("div",{children:[k.jsx("div",{className:"text-white text-lg font-bold tracking-wide",children:"RED RAVEN"}),k.jsx("div",{className:"text-red-400 text-xs font-medium tracking-widest",children:"AI TRAINING & PROGRAM DEVELOPMENT"})]})]}),k.jsxs("div",{className:"text-right",children:[k.jsx("h1",{className:"text-2xl font-bold text-white",children:"AI Document Assistant"}),k.jsx("p",{className:"text-gray-400 text-sm",children:"Intelligent document analysis"})]})]})}),k.jsx("main",{className:"flex items-center justify-center min-h-[calc(100vh-120px)] px-4 py-12",children:k.jsxs("div",{className:"w-full max-w-lg",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:e?"Create Your Account":"Welcome Back"}),k.jsx("p",{className:"text-gray-400 text-lg",children:e?"Join the AI-powered experience":"Sign in to continue your session"})]}),k.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-xl border border-gray-700/50 rounded-2xl shadow-2xl p-8 mb-8",children:[k.jsxs("form",{onSubmit:K,className:"space-y-6",children:[k.jsxs("div",{className:"space-y-3",children:[k.jsx(Kd,{htmlFor:"email",className:"text-white text-sm font-medium block",children:"Email Address"}),k.jsx(jc,{id:"email",type:"email",placeholder:"Enter your email",value:y.email,onChange:ae=>X("email",ae.target.value),required:!0,className:`w-full h-12 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 px-4
                           focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:bg-gray-700
                           transition-all duration-200 backdrop-blur-sm`})]}),k.jsxs("div",{className:"space-y-3",children:[k.jsx(Kd,{htmlFor:"password",className:"text-white text-sm font-medium block",children:"Password"}),k.jsxs("div",{className:"relative",children:[k.jsx(jc,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:y.password,onChange:ae=>X("password",ae.target.value),required:!0,className:`w-full h-12 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 px-4 pr-12
                             focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:bg-gray-700
                             transition-all duration-200 backdrop-blur-sm`}),k.jsx(hn,{type:"button",variant:"ghost",size:"sm",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",onClick:()=>o(!s),children:s?k.jsx(rw,{className:"h-4 w-4"}):k.jsx(sw,{className:"h-4 w-4"})})]})]}),k.jsxs("div",{className:"space-y-3",children:[k.jsx(Kd,{htmlFor:"accessCode",className:"text-white text-sm font-medium block",children:"4-Digit Access Code"}),k.jsx(jc,{id:"accessCode",type:"text",placeholder:"Enter 4-digit code",value:y.accessCode,onChange:ae=>{const se=ae.target.value.replace(/\D/g,"").slice(0,4);X("accessCode",se)},required:!0,maxLength:4,className:`w-full h-12 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 px-4
                           focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:bg-gray-700
                           transition-all duration-200 backdrop-blur-sm text-center text-lg tracking-widest`}),k.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Your personal security code"})]}),g&&k.jsxs(Zc,{className:"bg-red-900/30 border border-red-500/30 rounded-xl backdrop-blur-sm",children:[k.jsx(Jc,{className:"h-4 w-4 text-red-400"}),k.jsx(Wc,{className:"text-red-300 text-sm ml-2",children:g})]}),k.jsx(hn,{type:"submit",disabled:u,className:`w-full h-12 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 
                         text-white font-semibold rounded-xl transition-all duration-200 
                         focus:ring-2 focus:ring-blue-500/50 focus:outline-none
                         disabled:opacity-50 disabled:cursor-not-allowed shadow-lg`,children:u?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):k.jsxs(k.Fragment,{children:[e?"Create Account":"Sign In",k.jsx($A,{className:"w-4 h-4 ml-2"})]})})]}),k.jsxs("div",{className:"mt-6 space-y-3",children:[k.jsx(hn,{variant:"ghost",onClick:()=>n(!e),className:`w-full h-10 bg-gradient-to-r from-green-600/20 to-green-700/20 hover:from-green-600/30 hover:to-green-700/30
                         text-green-300 border border-green-500/30 rounded-xl transition-all duration-200`,children:e?"Already have an account? Sign in":"Need an account? Create one"}),!e&&k.jsx(hn,{variant:"ghost",onClick:te,className:`w-full h-10 bg-gradient-to-r from-purple-600/20 to-purple-700/20 hover:from-purple-600/30 hover:to-purple-700/30
                           text-purple-300 border border-purple-500/30 rounded-xl transition-all duration-200`,children:"Forgot your password?"})]})]}),k.jsx("div",{className:"bg-gray-800/40 backdrop-blur-xl border border-gray-700/30 rounded-2xl p-8",children:k.jsxs("div",{className:"text-center text-gray-400 py-6",children:[k.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-blue-600/20 to-purple-600/20 rounded-2xl mx-auto mb-6 
                            flex items-center justify-center border border-gray-600/30`,children:k.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg animate-pulse"})}),k.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Your AI conversation will appear here"}),k.jsx("p",{className:"text-sm text-gray-500",children:"Upload documents  Ask questions  Get instant answers"})]})})]})}),k.jsx("footer",{className:"w-full bg-gray-900/30 border-t border-gray-700/30 px-8 py-4",children:k.jsx("div",{className:"max-w-7xl mx-auto text-center",children:k.jsx("p",{className:"text-xs text-gray-500",children:"Red Raven LLC  AI Applications  Powered by advanced AI technology"})})})]})},YN=Pm("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function XN({className:i,variant:e,asChild:n=!1,...s}){const o=n?O0:"span";return k.jsx(o,{"data-slot":"badge",className:ao(YN({variant:e}),i),...s})}const x0="http://localhost:5000/api";class $N{async request(e,n={}){const s=`${x0}${e}`,o={headers:{"Content-Type":"application/json",...n.headers},...n};try{const u=await fetch(s,o),f=await u.json();if(!u.ok)throw new Error(f.error||`HTTP error! status: ${u.status}`);return f}catch(u){throw console.error(`API request failed: ${e}`,u),u}}async uploadDocument(e){const n=new FormData;n.append("file",e);const s=await fetch(`${x0}/document/upload`,{method:"POST",body:n}),o=await s.json();if(!s.ok)throw new Error(o.error||"Upload failed");return o}async queryDocument(e){return this.request("/document/query",{method:"POST",body:JSON.stringify({question:e})})}async getDocumentStatus(){return this.request("/document/status")}async clearDocument(){return this.request("/document/clear",{method:"POST"})}async transcribeAudio(e){return this.request("/voice/transcribe",{method:"POST",body:JSON.stringify({audio:e})})}async synthesizeSpeech(e,n=null){const s={text:e};return n&&(s.voice_id=n),this.request("/voice/synthesize",{method:"POST",body:JSON.stringify(s)})}async getAvailableVoices(){return this.request("/voice/voices")}}const ZN=new $N,Ol=ZN,WN=({onTranscription:i,disabled:e=!1})=>{const[n,s]=ge.useState(!1),[o,u]=ge.useState(!1),[f,g]=ge.useState(""),[p,y]=ge.useState(0),[T,w]=ge.useState(null),C=ge.useRef(null),L=ge.useRef([]),K=ge.useRef(null);ge.useEffect(()=>(te(),()=>{K.current&&clearInterval(K.current)}),[]);const te=async()=>{try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(ue=>ue.stop()),w(!0)}catch{w(!1),g("Microphone access denied. Please enable microphone permissions.")}},X=async()=>{try{if(g(""),!T&&(await te(),!T))return;const _e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}}),ue=new MediaRecorder(_e,{mimeType:"audio/webm;codecs=opus"});C.current=ue,L.current=[],ue.ondataavailable=ve=>{ve.data.size>0&&L.current.push(ve.data)},ue.onstop=async()=>{_e.getTracks().forEach(ve=>ve.stop()),await se()},ue.start(100),s(!0),y(0),K.current=setInterval(()=>{y(ve=>{const N=ve+1;return N>=60&&ae(),N})},1e3)}catch(_e){console.error("Recording failed:",_e),g("Failed to start recording. Please check microphone permissions."),w(!1)}},ae=()=>{C.current&&n&&(C.current.stop(),s(!1),K.current&&(clearInterval(K.current),K.current=null))},se=async()=>{if(L.current.length===0){g("No audio data recorded");return}u(!0),g("");try{const _e=new Blob(L.current,{type:"audio/webm"});if(p<1){g("Recording too short. Please record for at least 1 second."),u(!1);return}const ue=new FileReader;ue.onloadend=async()=>{try{const ve=ue.result.split(",")[1],N=await Ol.transcribeAudio(ve);if(N.success&&N.transcription){const A=N.transcription.trim();A?i(A):g("No speech detected. Please try speaking more clearly.")}else g(N.error||"Transcription failed. Please try again.")}catch(ve){console.error("Transcription error:",ve),g("Failed to transcribe audio. Please try again.")}finally{u(!1),y(0)}},ue.readAsDataURL(_e)}catch(_e){console.error("Processing error:",_e),g("Failed to process recording. Please try again."),u(!1),y(0)}},me=_e=>{const ue=Math.floor(_e/60),ve=_e%60;return`${ue}:${ve.toString().padStart(2,"0")}`};return T===!1?k.jsxs("div",{className:"text-center space-y-3",children:[k.jsxs(Zc,{variant:"destructive",className:"bg-red-900/20 border-red-500/50 text-red-400",children:[k.jsx(Jc,{className:"h-4 w-4"}),k.jsx(Wc,{children:"Microphone access is required for voice input. Please enable microphone permissions and refresh the page."})]}),k.jsxs(hn,{onClick:te,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white",children:[k.jsx(cm,{className:"w-4 h-4 mr-2"}),"Check Microphone"]})]}):k.jsxs("div",{className:"text-center space-y-3",children:[k.jsxs("div",{className:"relative",children:[k.jsx(hn,{onClick:n?ae:X,disabled:e||o||T===null,size:"lg",className:`
            relative w-16 h-16 rounded-full transition-all duration-200
            ${n?"bg-red-600 hover:bg-red-700 animate-pulse":"bg-blue-600 hover:bg-blue-700"}
            ${o?"opacity-50 cursor-not-allowed":""}
            text-white shadow-lg
          `,children:o?k.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):n?k.jsx(pw,{className:"w-6 h-6"}):k.jsx(cm,{className:"w-6 h-6"})}),n&&k.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-red-500 rounded-full animate-pulse"})]}),k.jsxs("div",{className:"space-y-1",children:[n&&k.jsxs("div",{className:"text-red-400 font-medium",children:["Recording... ",me(p)]}),o&&k.jsx("div",{className:"text-blue-400 font-medium",children:"Processing audio..."}),!n&&!o&&k.jsx("div",{className:"text-gray-400 text-sm",children:e?"Upload a document first":"Click to record your question"}),p>50&&n&&k.jsxs("div",{className:"text-yellow-400 text-xs",children:["Auto-stop in ",60-p," seconds"]})]}),f&&k.jsxs(Zc,{variant:"destructive",className:"bg-red-900/20 border-red-500/50 text-red-400",children:[k.jsx(Jc,{className:"h-4 w-4"}),k.jsx(Wc,{className:"text-sm",children:f})]}),!n&&!o&&!f&&T&&k.jsx("div",{className:"text-xs text-gray-500 max-w-xs mx-auto",children:"Hold to record up to 60 seconds. Speak clearly for best results."})]})},yb=({size:i="default",className:e=""})=>{const n={sm:"w-4 h-4",default:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return k.jsx("div",{className:`flex items-center justify-center ${e}`,children:k.jsx(Q0,{className:`${n[i]} animate-spin text-blue-400`})})},JN=({user:i,onSignOut:e})=>{const[n,s]=ge.useState(null),[o,u]=ge.useState([]),[f,g]=ge.useState(""),[p,y]=ge.useState(!1),[T,w]=ge.useState(!1),[C,L]=ge.useState(""),[K,te]=ge.useState(!1),[X,ae]=ge.useState(null),se=ge.useRef(null),me=ge.useRef(null);ge.useRef(null),ge.useEffect(()=>{_e()},[o]),ge.useEffect(()=>{ue()},[]);const _e=()=>{var ce;(ce=me.current)==null||ce.scrollIntoView({behavior:"smooth"})},ue=async()=>{try{const ce=await Ol.getDocumentStatus();ce.success&&ce.document&&s(ce.document)}catch(ce){console.error("Failed to check document status:",ce)}},ve=async ce=>{const Ee=ce.target.files[0];if(!Ee)return;if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(Ee.type)){L("Please upload a PDF, DOCX, or TXT file");return}if(Ee.size>50*1024*1024){L("File size must be less than 50MB");return}w(!0),L("");try{const Z=await Ol.uploadDocument(Ee);Z.success?(s({name:Ee.name,size:Ee.size,type:Ee.type,uploadedAt:new Date().toISOString()}),u([]),u([{id:Date.now(),type:"system",content:`Document "${Ee.name}" uploaded successfully! You can now ask questions about its content.`,timestamp:new Date().toISOString()}])):L(Z.error||"Upload failed")}catch(Z){L(Z.message||"Upload failed")}finally{w(!1),se.current&&(se.current.value="")}},N=async(ce=null)=>{const Ee=ce||f.trim();if(!Ee||p)return;if(!n){L("Please upload a document first");return}const H={id:Date.now(),type:"user",content:Ee,timestamp:new Date().toISOString()};u(Z=>[...Z,H]),g(""),y(!0),L("");try{const Z=await Ol.queryDocument(Ee);if(Z.success){const W={id:Date.now()+1,type:"ai",content:Z.answer,timestamp:new Date().toISOString(),audioUrl:Z.audio_url};u(Le=>[...Le,W]),Z.audio_url&&A(Z.audio_url)}else L(Z.error||"Failed to get response")}catch(Z){L(Z.message||"Failed to send message")}finally{y(!1)}},A=async ce=>{try{X&&(X.pause(),X.currentTime=0);const Ee=new Audio(ce);ae(Ee),te(!0),Ee.onended=()=>{te(!1),ae(null)},Ee.onerror=()=>{te(!1),ae(null),L("Failed to play audio")},await Ee.play()}catch{te(!1),ae(null),L("Failed to play audio")}},R=()=>{X&&(X.pause(),X.currentTime=0,ae(null)),te(!1)},O=ce=>{g(ce),N(ce)},M=async()=>{try{await Ol.clearDocument(),s(null),u([]),L("")}catch{L("Failed to clear document")}},V=()=>{const ce=o.filter(W=>W.type!=="system").map(W=>`${W.type.toUpperCase()}: ${W.content}`).join(`

`),Ee=new Blob([ce],{type:"text/plain"}),H=URL.createObjectURL(Ee),Z=n.createElement("a");Z.href=H,Z.download=`chat-export-${new Date().toISOString().split("T")[0]}.txt`,n.body.appendChild(Z),Z.click(),n.body.removeChild(Z),URL.revokeObjectURL(H)},I=ce=>{if(ce===0)return"0 Bytes";const Ee=1024,H=["Bytes","KB","MB","GB"],Z=Math.floor(Math.log(ce)/Math.log(Ee));return parseFloat((ce/Math.pow(Ee,Z)).toFixed(2))+" "+H[Z]};return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex flex-col",children:[k.jsx("div",{className:"bg-gray-900/60 backdrop-blur-sm border-b border-gray-700/50 p-6",children:k.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-2xl font-light text-white tracking-wide",children:"AI Document Assistant"}),k.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Welcome back, ",i.email]})]}),k.jsxs(hn,{variant:"outline",onClick:e,className:`border-gray-600/50 text-gray-300 hover:bg-gray-800/50 hover:text-white 
                     transition-all duration-200 rounded-xl`,children:[k.jsx(cw,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})}),k.jsxs("div",{className:"flex-1 max-w-7xl mx-auto w-full flex gap-8 p-6",style:{paddingBottom:"120px"},children:[k.jsxs("div",{className:"w-80 space-y-6",children:[k.jsxs("div",{className:"bg-gray-900/60 backdrop-blur-sm border border-gray-700/50 rounded-2xl shadow-xl",children:[k.jsx("div",{className:"p-6 border-b border-gray-700/50",children:k.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[k.jsx(ow,{className:"w-5 h-5 text-blue-400"}),"Document"]})}),k.jsx("div",{className:"p-6",children:n?k.jsxs("div",{className:"space-y-4",children:[k.jsx("div",{className:"bg-gray-800/50 rounded-xl p-4",children:k.jsxs("div",{className:"flex items-start justify-between",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("p",{className:"font-medium text-white text-sm mb-1",children:n.name}),k.jsx("p",{className:"text-xs text-gray-400 mb-2",children:I(n.size)}),k.jsxs(XN,{className:"bg-green-900/50 text-green-300 border-green-700/50",children:[k.jsx(JA,{className:"w-3 h-3 mr-1"}),"Ready"]})]}),k.jsx(hn,{variant:"ghost",size:"sm",onClick:M,className:"text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg",children:k.jsx(_w,{className:"w-4 h-4"})})]})}),k.jsxs(hn,{onClick:()=>{var ce;return(ce=se.current)==null?void 0:ce.click()},variant:"outline",className:"w-full border-gray-600/50 text-gray-300 hover:bg-gray-800/50 hover:text-white rounded-xl",children:[k.jsx(tv,{className:"w-4 h-4 mr-2"}),"Replace Document"]}),k.jsx("input",{ref:se,type:"file",accept:".pdf,.docx,.txt",onChange:ve,className:"hidden"})]}):k.jsxs("div",{className:"text-center",children:[k.jsx("input",{ref:se,type:"file",accept:".pdf,.docx,.txt",onChange:ve,className:"hidden"}),k.jsxs("div",{className:`border-2 border-dashed border-gray-600/50 rounded-xl p-8 hover:border-blue-500/50 
                                transition-colors duration-200 cursor-pointer group`,onClick:()=>{var ce;return(ce=se.current)==null?void 0:ce.click()},children:[k.jsx(tv,{className:"w-8 h-8 text-gray-400 mx-auto mb-3 group-hover:text-blue-400 transition-colors"}),k.jsx(hn,{disabled:T,className:"w-full bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-200",children:T?k.jsxs(k.Fragment,{children:[k.jsx(Q0,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):"Upload Document"}),k.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"PDF, DOCX, or TXT files (max 50MB)"})]})]})})]}),k.jsxs("div",{className:"bg-gray-900/60 backdrop-blur-sm border border-gray-700/50 rounded-2xl shadow-xl",children:[k.jsx("div",{className:"p-6 border-b border-gray-700/50",children:k.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[k.jsx(cm,{className:"w-5 h-5 text-blue-400"}),"Voice Input"]})}),k.jsx("div",{className:"p-6",children:k.jsx(WN,{onTranscription:O,disabled:!n||p})})]})]}),k.jsx("div",{className:"flex-1 flex flex-col",children:k.jsxs("div",{className:"bg-gray-900/60 backdrop-blur-sm border border-gray-700/50 rounded-2xl shadow-xl flex-1 flex flex-col",children:[k.jsxs("div",{className:"p-6 border-b border-gray-700/50 flex items-center justify-between",children:[k.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[k.jsx(ev,{className:"w-5 h-5 text-blue-400"}),"Conversation"]}),k.jsxs("div",{className:"flex gap-2",children:[K&&k.jsx(hn,{variant:"outline",size:"sm",onClick:R,className:"border-gray-600/50 text-gray-300 hover:bg-gray-800/50 rounded-lg",children:k.jsx(Aw,{className:"w-4 h-4"})}),o.length>0&&k.jsx(hn,{variant:"outline",size:"sm",onClick:V,className:"border-gray-600/50 text-gray-300 hover:bg-gray-800/50 rounded-lg",children:k.jsx(tw,{className:"w-4 h-4"})})]})]}),k.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:k.jsxs("div",{className:"space-y-6 max-h-96",children:[o.length===0?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"w-16 h-16 bg-gray-700/50 rounded-full mx-auto mb-4 flex items-center justify-center",children:k.jsx(ev,{className:"w-8 h-8 text-gray-500"})}),k.jsx("p",{className:"text-gray-400 mb-2",children:n?"Ask a question about your document":"Upload a document to start the conversation"}),k.jsx("p",{className:"text-gray-600 text-sm",children:"Use text input or voice recording to interact with your AI assistant"})]}):o.map(ce=>k.jsx("div",{className:`flex ${ce.type==="user"?"justify-end":"justify-start"}`,children:k.jsxs("div",{className:`max-w-[80%] p-4 rounded-2xl ${ce.type==="user"?"bg-blue-600 text-white":ce.type==="system"?"bg-green-900/30 text-green-300 border border-green-700/50":"bg-gray-800/60 text-gray-100 border border-gray-700/50"}`,children:[k.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:ce.content}),ce.audioUrl&&k.jsxs(hn,{variant:"ghost",size:"sm",onClick:()=>A(ce.audioUrl),className:"mt-3 p-2 h-auto text-gray-400 hover:text-white rounded-lg",children:[k.jsx(Tw,{className:"w-4 h-4 mr-2"}),"Play Audio"]})]})},ce.id)),p&&k.jsx("div",{className:"flex justify-start",children:k.jsx("div",{className:"bg-gray-800/60 border border-gray-700/50 p-4 rounded-2xl",children:k.jsxs("div",{className:"flex items-center",children:[k.jsx(yb,{size:"sm"}),k.jsx("span",{className:"text-gray-400 text-sm ml-3",children:"AI is thinking..."})]})})}),k.jsx("div",{ref:me})]})}),C&&k.jsx("div",{className:"px-6 pb-4",children:k.jsxs(Zc,{className:"bg-red-900/20 border border-red-500/30 rounded-xl",children:[k.jsx(Jc,{className:"h-4 w-4 text-red-400"}),k.jsx(Wc,{className:"text-red-300 text-sm ml-2",children:C})]})}),k.jsx("div",{className:"p-6 border-t border-gray-700/50",children:k.jsxs("div",{className:"flex gap-3",children:[k.jsx(jc,{value:f,onChange:ce=>g(ce.target.value),placeholder:n?"Ask a question about your document...":"Upload a document first",disabled:!n||p,onKeyPress:ce=>ce.key==="Enter"&&N(),className:`flex-1 h-12 bg-gray-800/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 
                           focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:bg-gray-800/80
                           transition-all duration-200`}),k.jsx(hn,{onClick:()=>N(),disabled:!n||!f.trim()||p,className:`h-12 px-6 bg-blue-600 hover:bg-blue-700 text-white rounded-xl
                           transition-all duration-200 transform hover:scale-105`,children:k.jsx(mw,{className:"w-4 h-4"})})]})})]})})]}),k.jsx("div",{className:"fixed bottom-6 right-6 z-50 text-center group cursor-pointer",style:{filter:"drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3))"},children:k.jsxs("div",{className:"transition-transform duration-200 group-hover:scale-105",children:[k.jsx("img",{src:"/red-raven-logo.png",alt:"Red Raven LLC",className:"w-16 h-16 mb-2 mx-auto",style:{filter:"drop-shadow(0 2px 8px rgba(204, 31, 26, 0.3))"}}),k.jsxs("div",{className:"text-white text-xs font-medium leading-tight",children:[k.jsx("div",{className:"text-gray-200",children:"Red Raven LLC"}),k.jsx("div",{className:"text-gray-400",children:"AI Software"})]})]})}),k.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[k.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-600/5 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),k.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-red-600/5 rounded-full blur-3xl animate-pulse",style:{animationDuration:"6s",animationDelay:"2s"}})]})]})};function eD(){const[i,e]=ge.useState(null),[n,s]=ge.useState(!0),{getCurrentUser:o,signOut:u}=pb();ge.useEffect(()=>{document.documentElement.classList.add("dark"),document.body.style.backgroundColor="#000000",(async()=>{try{const y=await o();y&&e(y)}catch(y){console.error("Auth check failed:",y)}finally{s(!1)}})()},[o]);const f=p=>{e(p)},g=async()=>{try{await u(),e(null)}catch(p){console.error("Sign out failed:",p)}};return n?k.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:k.jsxs("div",{className:"text-center space-y-4",children:[k.jsx(yb,{}),k.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):k.jsx("div",{className:"min-h-screen bg-black dark",children:i?k.jsx(JN,{user:i,onSignOut:g}):k.jsx(QN,{onAuthSuccess:f})})}$1.createRoot(document.getElementById("root")).render(k.jsx(ge.StrictMode,{children:k.jsx(eD,{})}));
